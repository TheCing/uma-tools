(()=>{var yo=Object.create;var Kr=Object.defineProperty;var bo=Object.getOwnPropertyDescriptor;var vo=Object.getOwnPropertyNames;var So=Object.getPrototypeOf,Io=Object.prototype.hasOwnProperty;var i0=(s,r)=>()=>(s&&(r=s(s=0)),r);var n0=(s,r)=>()=>(r||s((r={exports:{}}).exports,r),r.exports),Co=(s,r)=>{for(var o in r)Kr(s,o,{get:r[o],enumerable:!0})},o0=(s,r,o,p)=>{if(r&&typeof r=="object"||typeof r=="function")for(let f of vo(r))!Io.call(s,f)&&f!==o&&Kr(s,f,{get:()=>r[f],enumerable:!(p=bo(r,f))||p.enumerable});return s};var yt=(s,r,o)=>(o=s!=null?yo(So(s)):{},o0(r||!s||!s.__esModule?Kr(o,"default",{value:s,enumerable:!0}):o,s)),To=s=>o0(Kr({},"__esModule",{value:!0}),s);var zr=n0((Nr,a0)=>{(function(s,r){typeof Nr=="object"&&typeof a0<"u"?r(Nr):typeof define=="function"&&define.amd?define(["exports"],r):(s=typeof globalThis<"u"?globalThis:s||self,r(s.Immutable={}))})(Nr,function(s){"use strict";var r="delete",o=5,p=1<<o,f=p-1,c={};function l(){return{value:!1}}function g(t){t&&(t.value=!0)}function b(){}function I(t){return t.size===void 0&&(t.size=t.__iterate(M)),t.size}function S(t,e){if(typeof e!="number"){var i=e>>>0;if(""+i!==e||i===4294967295)return NaN;e=i}return e<0?I(t)+e:e}function M(){return!0}function R(t,e,i){return(t===0&&!ce(t)||i!==void 0&&t<=-i)&&(e===void 0||i!==void 0&&e>=i)}function N(t,e){return Q(t,e,0)}function q(t,e){return Q(t,e,e)}function Q(t,e,i){return t===void 0?i:ce(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function ce(t){return t<0||t===0&&1/t===-1/0}var E="@@__IMMUTABLE_ITERABLE__@@";function P(t){return!!(t&&t[E])}var O="@@__IMMUTABLE_KEYED__@@";function K(t){return!!(t&&t[O])}var me="@@__IMMUTABLE_INDEXED__@@";function te(t){return!!(t&&t[me])}function qe(t){return K(t)||te(t)}var ie=function(e){return P(e)?e:ge(e)},Ie=function(t){function e(i){return K(i)?i:Ae(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ie),Ue=function(t){function e(i){return te(i)?i:Te(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ie),rt=function(t){function e(i){return P(i)&&!qe(i)?i:Qe(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ie);ie.Keyed=Ie,ie.Indexed=Ue,ie.Set=rt;var Cr="@@__IMMUTABLE_SEQ__@@";function se(t){return!!(t&&t[Cr])}var fe="@@__IMMUTABLE_RECORD__@@";function Je(t){return!!(t&&t[fe])}function ne(t){return P(t)||Je(t)}var Xe="@@__IMMUTABLE_ORDERED__@@";function Pe(t){return!!(t&&t[Xe])}var it=0,Me=1,Ce=2,St=typeof Symbol=="function"&&Symbol.iterator,Ht="@@iterator",dt=St||Ht,Y=function(e){this.next=e};Y.prototype.toString=function(){return"[Iterator]"},Y.KEYS=it,Y.VALUES=Me,Y.ENTRIES=Ce,Y.prototype.inspect=Y.prototype.toSource=function(){return this.toString()},Y.prototype[dt]=function(){return this};function X(t,e,i,n){var a=t===0?e:t===1?i:[e,i];return n?n.value=a:n={value:a,done:!1},n}function oe(){return{value:void 0,done:!0}}function Ze(t){return Array.isArray(t)?!0:!!Ut(t)}function qt(t){return t&&typeof t.next=="function"}function ut(t){var e=Ut(t);return e&&e.call(t)}function Ut(t){var e=t&&(St&&t[St]||t[Ht]);if(typeof e=="function")return e}function It(t){var e=Ut(t);return e&&e===t.entries}function Ct(t){var e=Ut(t);return e&&e===t.keys}var J=Object.prototype.hasOwnProperty;function Ke(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var ge=function(t){function e(i){return i==null?x():ne(i)?i.toSeq():G(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,a){var d=this._cache;if(d){for(var u=d.length,h=0;h!==u;){var m=d[a?u-++h:h++];if(n(m[1],m[0],this)===!1)break}return h}return this.__iterateUncached(n,a)},e.prototype.__iterator=function(n,a){var d=this._cache;if(d){var u=d.length,h=0;return new Y(function(){if(h===u)return oe();var m=d[a?u-++h:h++];return X(n,m[0],m[1])})}return this.__iteratorUncached(n,a)},e}(ie),Ae=function(t){function e(i){return i==null?x().toKeyedSeq():P(i)?K(i)?i.toSeq():i.fromEntrySeq():Je(i)?i.toSeq():L(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(ge),Te=function(t){function e(i){return i==null?x():P(i)?K(i)?i.entrySeq():i.toIndexedSeq():Je(i)?i.toSeq().entrySeq():de(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(ge),Qe=function(t){function e(i){return(P(i)&&!qe(i)?i:Te(i)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(ge);ge.isSeq=se,ge.Keyed=Ae,ge.Set=Qe,ge.Indexed=Te,ge.prototype[Cr]=!0;var ye=function(t){function e(i){this._array=i,this.size=i.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return this.has(n)?this._array[S(this,n)]:a},e.prototype.__iterate=function(n,a){for(var d=this._array,u=d.length,h=0;h!==u;){var m=a?u-++h:h++;if(n(d[m],m,this)===!1)break}return h},e.prototype.__iterator=function(n,a){var d=this._array,u=d.length,h=0;return new Y(function(){if(h===u)return oe();var m=a?u-++h:h++;return X(n,m,d[m])})},e}(Te),jt=function(t){function e(i){var n=Object.keys(i).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(i):[]);this._object=i,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return a!==void 0&&!this.has(n)?a:this._object[n]},e.prototype.has=function(n){return J.call(this._object,n)},e.prototype.__iterate=function(n,a){for(var d=this._object,u=this._keys,h=u.length,m=0;m!==h;){var _=u[a?h-++m:m++];if(n(d[_],_,this)===!1)break}return m},e.prototype.__iterator=function(n,a){var d=this._object,u=this._keys,h=u.length,m=0;return new Y(function(){if(m===h)return oe();var _=u[a?h-++m:m++];return X(n,_,d[_])})},e}(Ae);jt.prototype[Xe]=!0;var si=function(t){function e(i){this._collection=i,this.size=i.length||i.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,a){if(a)return this.cacheResult().__iterate(n,a);var d=this._collection,u=ut(d),h=0;if(qt(u))for(var m;!(m=u.next()).done&&n(m.value,h++,this)!==!1;);return h},e.prototype.__iteratorUncached=function(n,a){if(a)return this.cacheResult().__iterator(n,a);var d=this._collection,u=ut(d);if(!qt(u))return new Y(oe);var h=0;return new Y(function(){var m=u.next();return m.done?m:X(n,h++,m.value)})},e}(Te),Tr;function x(){return Tr||(Tr=new ye([]))}function L(t){var e=B(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new jt(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function de(t){var e=B(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function G(t){var e=B(t);if(e)return It(t)?e.fromEntrySeq():Ct(t)?e.toSetSeq():e;if(typeof t=="object")return new jt(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function B(t){return Ke(t)?new ye(t):Ze(t)?new si(t):void 0}var A="@@__IMMUTABLE_MAP__@@";function Re(t){return!!(t&&t[A])}function Ne(t){return Re(t)&&Pe(t)}function ze(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function ae(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(ze(t)&&ze(e)&&t.equals(e))}var nt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,i){e|=0,i|=0;var n=e&65535,a=i&65535;return n*a+((e>>>16)*a+n*(i>>>16)<<16>>>0)|0};function Oe(t){return t>>>1&1073741824|t&3221225471}var C=Object.prototype.valueOf;function k(t){if(t==null)return U(t);if(typeof t.hashCode=="function")return Oe(t.hashCode(t));var e=x0(t);if(e==null)return U(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return je(e);case"string":return e.length>A0?Ft(e):Tt(e);case"object":case"function":return pt(e);case"symbol":return Gt(e);default:if(typeof e.toString=="function")return Tt(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function U(t){return t===null?1108378658:1108378659}function je(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Oe(e)}function Ft(t){var e=fi[t];return e===void 0&&(e=Tt(t),pi===O0&&(pi=0,fi={}),pi++,fi[t]=e),e}function Tt(t){for(var e=0,i=0;i<t.length;i++)e=31*e+t.charCodeAt(i)|0;return Oe(e)}function Gt(t){var e=on[t];return e!==void 0||(e=nn(),on[t]=e),e}function pt(t){var e;if(ci&&(e=di.get(t),e!==void 0)||(e=t[ft],e!==void 0)||!rn&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[ft],e!==void 0||(e=k0(t),e!==void 0)))return e;if(e=nn(),ci)di.set(t,e);else{if(tn!==void 0&&tn(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(rn)Object.defineProperty(t,ft,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[ft]=e;else if(t.nodeType!==void 0)t[ft]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var tn=Object.isExtensible,rn=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function k0(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function x0(t){return t.valueOf!==C&&typeof t.valueOf=="function"?t.valueOf(t):t}function nn(){var t=++ui;return ui&1073741824&&(ui=0),t}var ci=typeof WeakMap=="function",di;ci&&(di=new WeakMap);var on=Object.create(null),ui=0,ft="__immutablehash__";typeof Symbol=="function"&&(ft=Symbol(ft));var A0=16,O0=255,pi=0,fi={},Dr=function(t){function e(i,n){this._iter=i,this._useKeys=n,this.size=i.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return this._iter.get(n,a)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,a=li(this,!0);return this._useKeys||(a.valueSeq=function(){return n._iter.toSeq().reverse()}),a},e.prototype.map=function(n,a){var d=this,u=un(this,n,a);return this._useKeys||(u.valueSeq=function(){return d._iter.toSeq().map(n,a)}),u},e.prototype.__iterate=function(n,a){var d=this;return this._iter.__iterate(function(u,h){return n(u,h,d)},a)},e.prototype.__iterator=function(n,a){return this._iter.__iterator(n,a)},e}(Ae);Dr.prototype[Xe]=!0;var an=function(t){function e(i){this._iter=i,this.size=i.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,a){var d=this,u=0;return a&&I(this),this._iter.__iterate(function(h){return n(h,a?d.size-++u:u++,d)},a)},e.prototype.__iterator=function(n,a){var d=this,u=this._iter.__iterator(Me,a),h=0;return a&&I(this),new Y(function(){var m=u.next();return m.done?m:X(n,a?d.size-++h:h++,m.value,m)})},e}(Te),sn=function(t){function e(i){this._iter=i,this.size=i.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,a){var d=this;return this._iter.__iterate(function(u){return n(u,u,d)},a)},e.prototype.__iterator=function(n,a){var d=this._iter.__iterator(Me,a);return new Y(function(){var u=d.next();return u.done?u:X(n,u.value,u.value,u)})},e}(Qe),cn=function(t){function e(i){this._iter=i,this.size=i.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,a){var d=this;return this._iter.__iterate(function(u){if(u){mn(u);var h=P(u);return n(h?u.get(1):u[1],h?u.get(0):u[0],d)}},a)},e.prototype.__iterator=function(n,a){var d=this._iter.__iterator(Me,a);return new Y(function(){for(;;){var u=d.next();if(u.done)return u;var h=u.value;if(h){mn(h);var m=P(h);return X(n,m?h.get(0):h[0],m?h.get(1):h[1],u)}}})},e}(Ae);an.prototype.cacheResult=Dr.prototype.cacheResult=sn.prototype.cacheResult=cn.prototype.cacheResult=gi;function dn(t){var e=Fe(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var i=t.reverse.apply(this);return i.flip=function(){return t.reverse()},i},e.has=function(i){return t.includes(i)},e.includes=function(i){return t.has(i)},e.cacheResult=gi,e.__iterateUncached=function(i,n){var a=this;return t.__iterate(function(d,u){return i(u,d,a)!==!1},n)},e.__iteratorUncached=function(i,n){if(i===Ce){var a=t.__iterator(i,n);return new Y(function(){var d=a.next();if(!d.done){var u=d.value[0];d.value[0]=d.value[1],d.value[1]=u}return d})}return t.__iterator(i===Me?it:Me,n)},e}function un(t,e,i){var n=Fe(t);return n.size=t.size,n.has=function(a){return t.has(a)},n.get=function(a,d){var u=t.get(a,c);return u===c?d:e.call(i,u,a,t)},n.__iterateUncached=function(a,d){var u=this;return t.__iterate(function(h,m,_){return a(e.call(i,h,m,_),m,u)!==!1},d)},n.__iteratorUncached=function(a,d){var u=t.__iterator(Ce,d);return new Y(function(){var h=u.next();if(h.done)return h;var m=h.value,_=m[0];return X(a,_,e.call(i,m[1],_,t),h)})},n}function li(t,e){var i=this,n=Fe(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var a=dn(t);return a.reverse=function(){return t.flip()},a}),n.get=function(a,d){return t.get(e?a:-1-a,d)},n.has=function(a){return t.has(e?a:-1-a)},n.includes=function(a){return t.includes(a)},n.cacheResult=gi,n.__iterate=function(a,d){var u=this,h=0;return d&&I(t),t.__iterate(function(m,_){return a(m,e?_:d?u.size-++h:h++,u)},!d)},n.__iterator=function(a,d){var u=0;d&&I(t);var h=t.__iterator(Ce,!d);return new Y(function(){var m=h.next();if(m.done)return m;var _=m.value;return X(a,e?_[0]:d?i.size-++u:u++,_[1],m)})},n}function pn(t,e,i,n){var a=Fe(t);return n&&(a.has=function(d){var u=t.get(d,c);return u!==c&&!!e.call(i,u,d,t)},a.get=function(d,u){var h=t.get(d,c);return h!==c&&e.call(i,h,d,t)?h:u}),a.__iterateUncached=function(d,u){var h=this,m=0;return t.__iterate(function(_,y,v){if(e.call(i,_,y,v))return m++,d(_,n?y:m-1,h)},u),m},a.__iteratorUncached=function(d,u){var h=t.__iterator(Ce,u),m=0;return new Y(function(){for(;;){var _=h.next();if(_.done)return _;var y=_.value,v=y[0],w=y[1];if(e.call(i,w,v,t))return X(d,n?v:m++,w,_)}})},a}function L0(t,e,i){var n=ht().asMutable();return t.__iterate(function(a,d){n.update(e.call(i,a,d,t),0,function(u){return u+1})}),n.asImmutable()}function E0(t,e,i){var n=K(t),a=(Pe(t)?We():ht()).asMutable();t.__iterate(function(u,h){a.update(e.call(i,u,h,t),function(m){return m=m||[],m.push(n?[h,u]:u),m})});var d=mi(t);return a.map(function(u){return Z(t,d(u))}).asImmutable()}function K0(t,e,i){var n=K(t),a=[[],[]];t.__iterate(function(u,h){a[e.call(i,u,h,t)?1:0].push(n?[h,u]:u)});var d=mi(t);return a.map(function(u){return Z(t,d(u))})}function hi(t,e,i,n){var a=t.size;if(R(e,i,a))return t;if(typeof a>"u"&&(e<0||i<0))return hi(t.toSeq().cacheResult(),e,i,n);var d=N(e,a),u=q(i,a),h=u-d,m;h===h&&(m=h<0?0:h);var _=Fe(t);return _.size=m===0?m:t.size&&m||void 0,!n&&se(t)&&m>=0&&(_.get=function(y,v){return y=S(this,y),y>=0&&y<m?t.get(y+d,v):v}),_.__iterateUncached=function(y,v){var w=this;if(m===0)return 0;if(v)return this.cacheResult().__iterate(y,v);var H=0,z=!0,W=0;return t.__iterate(function(Ee,$e){if(!(z&&(z=H++<d)))return W++,y(Ee,n?$e:W-1,w)!==!1&&W!==m}),W},_.__iteratorUncached=function(y,v){if(m!==0&&v)return this.cacheResult().__iterator(y,v);if(m===0)return new Y(oe);var w=t.__iterator(y,v),H=0,z=0;return new Y(function(){for(;H++<d;)w.next();if(++z>m)return oe();var W=w.next();return n||y===Me||W.done?W:y===it?X(y,z-1,void 0,W):X(y,z-1,W.value[1],W)})},_}function N0(t,e,i){var n=Fe(t);return n.__iterateUncached=function(a,d){var u=this;if(d)return this.cacheResult().__iterate(a,d);var h=0;return t.__iterate(function(m,_,y){return e.call(i,m,_,y)&&++h&&a(m,_,u)}),h},n.__iteratorUncached=function(a,d){var u=this;if(d)return this.cacheResult().__iterator(a,d);var h=t.__iterator(Ce,d),m=!0;return new Y(function(){if(!m)return oe();var _=h.next();if(_.done)return _;var y=_.value,v=y[0],w=y[1];return e.call(i,w,v,u)?a===Ce?_:X(a,v,w,_):(m=!1,oe())})},n}function fn(t,e,i,n){var a=Fe(t);return a.__iterateUncached=function(d,u){var h=this;if(u)return this.cacheResult().__iterate(d,u);var m=!0,_=0;return t.__iterate(function(y,v,w){if(!(m&&(m=e.call(i,y,v,w))))return _++,d(y,n?v:_-1,h)}),_},a.__iteratorUncached=function(d,u){var h=this;if(u)return this.cacheResult().__iterator(d,u);var m=t.__iterator(Ce,u),_=!0,y=0;return new Y(function(){var v,w,H;do{if(v=m.next(),v.done)return n||d===Me?v:d===it?X(d,y++,void 0,v):X(d,y++,v.value[1],v);var z=v.value;w=z[0],H=z[1],_&&(_=e.call(i,H,w,h))}while(_);return d===Ce?v:X(d,w,H,v)})},a}function z0(t,e){var i=K(t),n=[t].concat(e).map(function(u){return P(u)?i&&(u=Ie(u)):u=i?L(u):de(Array.isArray(u)?u:[u]),u}).filter(function(u){return u.size!==0});if(n.length===0)return t;if(n.length===1){var a=n[0];if(a===t||i&&K(a)||te(t)&&te(a))return a}var d=new ye(n);return i?d=d.toKeyedSeq():te(t)||(d=d.toSetSeq()),d=d.flatten(!0),d.size=n.reduce(function(u,h){if(u!==void 0){var m=h.size;if(m!==void 0)return u+m}},0),d}function ln(t,e,i){var n=Fe(t);return n.__iterateUncached=function(a,d){if(d)return this.cacheResult().__iterate(a,d);var u=0,h=!1;function m(_,y){_.__iterate(function(v,w){return(!e||y<e)&&P(v)?m(v,y+1):(u++,a(v,i?w:u-1,n)===!1&&(h=!0)),!h},d)}return m(t,0),u},n.__iteratorUncached=function(a,d){if(d)return this.cacheResult().__iterator(a,d);var u=t.__iterator(a,d),h=[],m=0;return new Y(function(){for(;u;){var _=u.next();if(_.done!==!1){u=h.pop();continue}var y=_.value;if(a===Ce&&(y=y[1]),(!e||h.length<e)&&P(y))h.push(u),u=y.__iterator(a,d);else return i?_:X(a,m++,y,_)}return oe()})},n}function H0(t,e,i){var n=mi(t);return t.toSeq().map(function(a,d){return n(e.call(i,a,d,t))}).flatten(!0)}function q0(t,e){var i=Fe(t);return i.size=t.size&&t.size*2-1,i.__iterateUncached=function(n,a){var d=this,u=0;return t.__iterate(function(h){return(!u||n(e,u++,d)!==!1)&&n(h,u++,d)!==!1},a),u},i.__iteratorUncached=function(n,a){var d=t.__iterator(Me,a),u=0,h;return new Y(function(){return(!h||u%2)&&(h=d.next(),h.done)?h:u%2?X(n,u++,e):X(n,u++,h.value,h)})},i}function Dt(t,e,i){e||(e=gn);var n=K(t),a=0,d=t.toSeq().map(function(u,h){return[h,u,a++,i?i(u,h,t):u]}).valueSeq().toArray();return d.sort(function(u,h){return e(u[3],h[3])||u[2]-h[2]}).forEach(n?function(u,h){d[h].length=2}:function(u,h){d[h]=u[1]}),n?Ae(d):te(t)?Te(d):Qe(d)}function Pr(t,e,i){if(e||(e=gn),i){var n=t.toSeq().map(function(a,d){return[a,i(a,d,t)]}).reduce(function(a,d){return hn(e,a[1],d[1])?d:a});return n&&n[0]}return t.reduce(function(a,d){return hn(e,a,d)?d:a})}function hn(t,e,i){var n=t(i,e);return n===0&&i!==e&&(i==null||i!==i)||n>0}function Mr(t,e,i,n){var a=Fe(t),d=new ye(i).map(function(u){return u.size});return a.size=n?d.max():d.min(),a.__iterate=function(u,h){for(var m=this.__iterator(Me,h),_,y=0;!(_=m.next()).done&&u(_.value,y++,this)!==!1;);return y},a.__iteratorUncached=function(u,h){var m=i.map(function(v){return v=ie(v),ut(h?v.reverse():v)}),_=0,y=!1;return new Y(function(){var v;return y||(v=m.map(function(w){return w.next()}),y=n?v.every(function(w){return w.done}):v.some(function(w){return w.done})),y?oe():X(u,_++,e.apply(null,v.map(function(w){return w.value})))})},a}function Z(t,e){return t===e?t:se(t)?e:t.constructor(e)}function mn(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function mi(t){return K(t)?Ie:te(t)?Ue:rt}function Fe(t){return Object.create((K(t)?Ae:te(t)?Te:Qe).prototype)}function gi(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ge.prototype.cacheResult.call(this)}function gn(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Ge(t,e){e=e||0;for(var i=Math.max(0,t.length-e),n=new Array(i),a=0;a<i;a++)n[a]=t[a+e];return n}function Bt(t,e){if(!t)throw new Error(e)}function Le(t){Bt(t!==1/0,"Cannot perform this action with an infinite size.")}function _n(t){if(Ke(t)&&typeof t!="string")return t;if(Pe(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var U0=Object.prototype.toString;function _i(t){if(!t||typeof t!="object"||U0.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var i=e,n=Object.getPrototypeOf(e);n!==null;)i=n,n=Object.getPrototypeOf(i);return i===e}function ot(t){return typeof t=="object"&&(ne(t)||Array.isArray(t)||_i(t))}function Wt(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function yn(t,e){return ne(t)?t.has(e):ot(t)&&J.call(t,e)}function yi(t,e,i){return ne(t)?t.get(e,i):yn(t,e)?typeof t.get=="function"?t.get(e):t[e]:i}function Rr(t){if(Array.isArray(t))return Ge(t);var e={};for(var i in t)J.call(t,i)&&(e[i]=t[i]);return e}function bn(t,e){if(!ot(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(ne(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!J.call(t,e))return t;var i=Rr(t);return Array.isArray(i)?i.splice(e,1):delete i[e],i}function vn(t,e,i){if(!ot(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(ne(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,i)}if(J.call(t,e)&&i===t[e])return t;var n=Rr(t);return n[e]=i,n}function lt(t,e,i,n){n||(n=i,i=void 0);var a=Sn(ne(t),t,_n(e),0,i,n);return a===c?i:a}function Sn(t,e,i,n,a,d){var u=e===c;if(n===i.length){var h=u?a:e,m=d(h);return m===h?e:m}if(!u&&!ot(e))throw new TypeError("Cannot update within non-data-structure value in path ["+i.slice(0,n).map(Wt)+"]: "+e);var _=i[n],y=u?c:yi(e,_,c),v=Sn(y===c?t:ne(y),y,i,n+1,a,d);return v===y?e:v===c?bn(e,_):vn(u?t?Be():{}:e,_,v)}function In(t,e,i){return lt(t,e,c,function(){return i})}function bi(t,e){return In(this,t,e)}function Cn(t,e){return lt(t,e,function(){return c})}function vi(t){return Cn(this,t)}function Si(t,e,i,n){return lt(t,[e],i,n)}function Ii(t,e,i){return arguments.length===1?t(this):Si(this,t,e,i)}function Ci(t,e,i){return lt(this,t,e,i)}function Tn(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Pn(this,t)}function Dn(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return Pn(this,e,t)}function Pn(t,e,i){for(var n=[],a=0;a<e.length;a++){var d=Ie(e[a]);d.size!==0&&n.push(d)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(u){for(var h=i?function(_,y){Si(u,y,c,function(v){return v===c?_:i(v,_,y)})}:function(_,y){u.set(y,_)},m=0;m<n.length;m++)n[m].forEach(h)})}function j0(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return Yt(t,e)}function F0(t,e){for(var i=[],n=arguments.length-2;n-- >0;)i[n]=arguments[n+2];return Yt(e,i,t)}function G0(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return $t(t,e)}function B0(t,e){for(var i=[],n=arguments.length-2;n-- >0;)i[n]=arguments[n+2];return $t(e,i,t)}function $t(t,e,i){return Yt(t,e,W0(i))}function Yt(t,e,i){if(!ot(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(ne(t))return typeof i=="function"&&t.mergeWith?t.mergeWith.apply(t,[i].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),a=t,d=n?Ue:Ie,u=n?function(m){a===t&&(a=Rr(a)),a.push(m)}:function(m,_){var y=J.call(a,_),v=y&&i?i(a[_],m,_):m;(!y||v!==a[_])&&(a===t&&(a=Rr(a)),a[_]=v)},h=0;h<e.length;h++)d(e[h]).forEach(u);return a}function W0(t){function e(i,n,a){return ot(i)&&ot(n)&&$0(i,n)?Yt(i,[n],e):t?t(i,n,a):n}return e}function $0(t,e){var i=ge(t),n=ge(e);return te(i)===te(n)&&K(i)===K(n)}function Mn(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return $t(this,t)}function Rn(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return $t(this,e,t)}function Ti(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return lt(this,t,Be(),function(n){return Yt(n,e)})}function Di(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return lt(this,t,Be(),function(n){return $t(n,e)})}function Vt(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Jt(){return this.__ownerID?this:this.__ensureOwner(new b)}function Xt(){return this.__ensureOwner()}function Pi(){return this.__altered}var ht=function(t){function e(i){return i==null?Be():Re(i)&&!Pe(i)?i:Be().withMutations(function(n){var a=t(i);Le(a.size),a.forEach(function(d,u){return n.set(u,d)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,a){return this._root?this._root.get(0,void 0,n,a):a},e.prototype.set=function(n,a){return xn(this,n,a)},e.prototype.remove=function(n){return xn(this,n,c)},e.prototype.deleteAll=function(n){var a=ie(n);return a.size===0?this:this.withMutations(function(d){a.forEach(function(u){return d.remove(u)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Be()},e.prototype.sort=function(n){return We(Dt(this,n))},e.prototype.sortBy=function(n,a){return We(Dt(this,a,n))},e.prototype.map=function(n,a){var d=this;return this.withMutations(function(u){u.forEach(function(h,m){u.set(m,n.call(a,h,m,d))})})},e.prototype.__iterator=function(n,a){return new Y0(this,n,a)},e.prototype.__iterate=function(n,a){var d=this,u=0;return this._root&&this._root.iterate(function(h){return u++,n(h[1],h[0],d)},a),u},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Ri(this.size,this._root,n,this.__hash):this.size===0?Be():(this.__ownerID=n,this.__altered=!1,this)},e}(Ie);ht.isMap=Re;var re=ht.prototype;re[A]=!0,re[r]=re.remove,re.removeAll=re.deleteAll,re.setIn=bi,re.removeIn=re.deleteIn=vi,re.update=Ii,re.updateIn=Ci,re.merge=re.concat=Tn,re.mergeWith=Dn,re.mergeDeep=Mn,re.mergeDeepWith=Rn,re.mergeIn=Ti,re.mergeDeepIn=Di,re.withMutations=Vt,re.wasAltered=Pi,re.asImmutable=Xt,re["@@transducer/init"]=re.asMutable=Jt,re["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},re["@@transducer/result"]=function(t){return t.asImmutable()};var Zt=function(e,i){this.ownerID=e,this.entries=i};Zt.prototype.get=function(e,i,n,a){for(var d=this.entries,u=0,h=d.length;u<h;u++)if(ae(n,d[u][0]))return d[u][1];return a},Zt.prototype.update=function(e,i,n,a,d,u,h){for(var m=d===c,_=this.entries,y=0,v=_.length;y<v&&!ae(a,_[y][0]);y++);var w=y<v;if(w?_[y][1]===d:m)return this;if(g(h),(m||!w)&&g(u),!(m&&_.length===1)){if(!w&&!m&&_.length>=eo)return V0(e,_,a,d);var H=e&&e===this.ownerID,z=H?_:Ge(_);return w?m?y===v-1?z.pop():z[y]=z.pop():z[y]=[a,d]:z.push([a,d]),H?(this.entries=z,this):new Zt(e,z)}};var Pt=function(e,i,n){this.ownerID=e,this.bitmap=i,this.nodes=n};Pt.prototype.get=function(e,i,n,a){i===void 0&&(i=k(n));var d=1<<((e===0?i:i>>>e)&f),u=this.bitmap;return u&d?this.nodes[On(u&d-1)].get(e+o,i,n,a):a},Pt.prototype.update=function(e,i,n,a,d,u,h){n===void 0&&(n=k(a));var m=(i===0?n:n>>>i)&f,_=1<<m,y=this.bitmap,v=(y&_)!==0;if(!v&&d===c)return this;var w=On(y&_-1),H=this.nodes,z=v?H[w]:void 0,W=wi(z,e,i+o,n,a,d,u,h);if(W===z)return this;if(!v&&W&&H.length>=to)return X0(e,H,y,m,W);if(v&&!W&&H.length===2&&An(H[w^1]))return H[w^1];if(v&&W&&H.length===1&&An(W))return W;var Ee=e&&e===this.ownerID,$e=v?W?y:y^_:y|_,_t=v?W?Ln(H,w,W,Ee):Q0(H,w,Ee):Z0(H,w,W,Ee);return Ee?(this.bitmap=$e,this.nodes=_t,this):new Pt(e,$e,_t)};var Qt=function(e,i,n){this.ownerID=e,this.count=i,this.nodes=n};Qt.prototype.get=function(e,i,n,a){i===void 0&&(i=k(n));var d=(e===0?i:i>>>e)&f,u=this.nodes[d];return u?u.get(e+o,i,n,a):a},Qt.prototype.update=function(e,i,n,a,d,u,h){n===void 0&&(n=k(a));var m=(i===0?n:n>>>i)&f,_=d===c,y=this.nodes,v=y[m];if(_&&!v)return this;var w=wi(v,e,i+o,n,a,d,u,h);if(w===v)return this;var H=this.count;if(!v)H++;else if(!w&&(H--,H<ro))return J0(e,y,H,m);var z=e&&e===this.ownerID,W=Ln(y,m,w,z);return z?(this.count=H,this.nodes=W,this):new Qt(e,H,W)};var Mt=function(e,i,n){this.ownerID=e,this.keyHash=i,this.entries=n};Mt.prototype.get=function(e,i,n,a){for(var d=this.entries,u=0,h=d.length;u<h;u++)if(ae(n,d[u][0]))return d[u][1];return a},Mt.prototype.update=function(e,i,n,a,d,u,h){n===void 0&&(n=k(a));var m=d===c;if(n!==this.keyHash)return m?this:(g(h),g(u),ki(this,e,i,n,[a,d]));for(var _=this.entries,y=0,v=_.length;y<v&&!ae(a,_[y][0]);y++);var w=y<v;if(w?_[y][1]===d:m)return this;if(g(h),(m||!w)&&g(u),m&&v===2)return new et(e,this.keyHash,_[y^1]);var H=e&&e===this.ownerID,z=H?_:Ge(_);return w?m?y===v-1?z.pop():z[y]=z.pop():z[y]=[a,d]:z.push([a,d]),H?(this.entries=z,this):new Mt(e,this.keyHash,z)};var et=function(e,i,n){this.ownerID=e,this.keyHash=i,this.entry=n};et.prototype.get=function(e,i,n,a){return ae(n,this.entry[0])?this.entry[1]:a},et.prototype.update=function(e,i,n,a,d,u,h){var m=d===c,_=ae(a,this.entry[0]);if(_?d===this.entry[1]:m)return this;if(g(h),m){g(u);return}return _?e&&e===this.ownerID?(this.entry[1]=d,this):new et(e,this.keyHash,[a,d]):(g(u),ki(this,e,i,k(a),[a,d]))},Zt.prototype.iterate=Mt.prototype.iterate=function(t,e){for(var i=this.entries,n=0,a=i.length-1;n<=a;n++)if(t(i[e?a-n:n])===!1)return!1},Pt.prototype.iterate=Qt.prototype.iterate=function(t,e){for(var i=this.nodes,n=0,a=i.length-1;n<=a;n++){var d=i[e?a-n:n];if(d&&d.iterate(t,e)===!1)return!1}},et.prototype.iterate=function(t,e){return t(this.entry)};var Y0=function(t){function e(i,n,a){this._type=n,this._reverse=a,this._stack=i._root&&wn(i._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,a=this._stack;a;){var d=a.node,u=a.index++,h=void 0;if(d.entry){if(u===0)return Mi(n,d.entry)}else if(d.entries){if(h=d.entries.length-1,u<=h)return Mi(n,d.entries[this._reverse?h-u:u])}else if(h=d.nodes.length-1,u<=h){var m=d.nodes[this._reverse?h-u:u];if(m){if(m.entry)return Mi(n,m.entry);a=this._stack=wn(m,a)}continue}a=this._stack=this._stack.__prev}return oe()},e}(Y);function Mi(t,e){return X(t,e[0],e[1])}function wn(t,e){return{node:t,index:0,__prev:e}}function Ri(t,e,i,n){var a=Object.create(re);return a.size=t,a._root=e,a.__ownerID=i,a.__hash=n,a.__altered=!1,a}var kn;function Be(){return kn||(kn=Ri(0))}function xn(t,e,i){var n,a;if(t._root){var d=l(),u=l();if(n=wi(t._root,t.__ownerID,0,void 0,e,i,d,u),!u.value)return t;a=t.size+(d.value?i===c?-1:1:0)}else{if(i===c)return t;a=1,n=new Zt(t.__ownerID,[[e,i]])}return t.__ownerID?(t.size=a,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Ri(a,n):Be()}function wi(t,e,i,n,a,d,u,h){return t?t.update(e,i,n,a,d,u,h):d===c?t:(g(h),g(u),new et(e,n,[a,d]))}function An(t){return t.constructor===et||t.constructor===Mt}function ki(t,e,i,n,a){if(t.keyHash===n)return new Mt(e,n,[t.entry,a]);var d=(i===0?t.keyHash:t.keyHash>>>i)&f,u=(i===0?n:n>>>i)&f,h,m=d===u?[ki(t,e,i+o,n,a)]:(h=new et(e,n,a),d<u?[t,h]:[h,t]);return new Pt(e,1<<d|1<<u,m)}function V0(t,e,i,n){t||(t=new b);for(var a=new et(t,k(i),[i,n]),d=0;d<e.length;d++){var u=e[d];a=a.update(t,0,void 0,u[0],u[1])}return a}function J0(t,e,i,n){for(var a=0,d=0,u=new Array(i),h=0,m=1,_=e.length;h<_;h++,m<<=1){var y=e[h];y!==void 0&&h!==n&&(a|=m,u[d++]=y)}return new Pt(t,a,u)}function X0(t,e,i,n,a){for(var d=0,u=new Array(p),h=0;i!==0;h++,i>>>=1)u[h]=i&1?e[d++]:void 0;return u[n]=a,new Qt(t,d+1,u)}function On(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function Ln(t,e,i,n){var a=n?t:Ge(t);return a[e]=i,a}function Z0(t,e,i,n){var a=t.length+1;if(n&&e+1===a)return t[e]=i,t;for(var d=new Array(a),u=0,h=0;h<a;h++)h===e?(d[h]=i,u=-1):d[h]=t[h+u];return d}function Q0(t,e,i){var n=t.length-1;if(i&&e===n)return t.pop(),t;for(var a=new Array(n),d=0,u=0;u<n;u++)u===e&&(d=1),a[u]=t[u+d];return a}var eo=p/4,to=p/2,ro=p/4,En="@@__IMMUTABLE_LIST__@@";function xi(t){return!!(t&&t[En])}var er=function(t){function e(i){var n=wr();if(i==null)return n;if(xi(i))return i;var a=t(i),d=a.size;return d===0?n:(Le(d),d>0&&d<p?rr(0,d,o,null,new at(a.toArray())):n.withMutations(function(u){u.setSize(d),a.forEach(function(h,m){return u.set(m,h)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,a){if(n=S(this,n),n>=0&&n<this.size){n+=this._origin;var d=Nn(this,n);return d&&d.array[n&f]}return a},e.prototype.set=function(n,a){return io(this,n,a)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,a){return this.splice(n,0,a)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=o,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):wr()},e.prototype.push=function(){var n=arguments,a=this.size;return this.withMutations(function(d){st(d,0,a+n.length);for(var u=0;u<n.length;u++)d.set(a+u,n[u])})},e.prototype.pop=function(){return st(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(a){st(a,-n.length);for(var d=0;d<n.length;d++)a.set(d,n[d])})},e.prototype.shift=function(){return st(this,1)},e.prototype.concat=function(){for(var n=arguments,a=[],d=0;d<arguments.length;d++){var u=n[d],h=t(typeof u!="string"&&Ze(u)?u:[u]);h.size!==0&&a.push(h)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(m){a.forEach(function(_){return _.forEach(function(y){return m.push(y)})})})},e.prototype.setSize=function(n){return st(this,0,n)},e.prototype.map=function(n,a){var d=this;return this.withMutations(function(u){for(var h=0;h<d.size;h++)u.set(h,n.call(a,u.get(h),h,d))})},e.prototype.slice=function(n,a){var d=this.size;return R(n,a,d)?this:st(this,N(n,d),q(a,d))},e.prototype.__iterator=function(n,a){var d=a?this.size:0,u=Kn(this,a);return new Y(function(){var h=u();return h===tr?oe():X(n,a?--d:d++,h)})},e.prototype.__iterate=function(n,a){for(var d=a?this.size:0,u=Kn(this,a),h;(h=u())!==tr&&n(h,a?--d:d++,this)!==!1;);return d},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?rr(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?wr():(this.__ownerID=n,this.__altered=!1,this)},e}(Ue);er.isList=xi;var ue=er.prototype;ue[En]=!0,ue[r]=ue.remove,ue.merge=ue.concat,ue.setIn=bi,ue.deleteIn=ue.removeIn=vi,ue.update=Ii,ue.updateIn=Ci,ue.mergeIn=Ti,ue.mergeDeepIn=Di,ue.withMutations=Vt,ue.wasAltered=Pi,ue.asImmutable=Xt,ue["@@transducer/init"]=ue.asMutable=Jt,ue["@@transducer/step"]=function(t,e){return t.push(e)},ue["@@transducer/result"]=function(t){return t.asImmutable()};var at=function(e,i){this.array=e,this.ownerID=i};at.prototype.removeBefore=function(e,i,n){if(!(n&(1<<i+o)-1)||this.array.length===0)return this;var a=n>>>i&f;if(a>=this.array.length)return new at([],e);var d=a===0,u;if(i>0){var h=this.array[a];if(u=h&&h.removeBefore(e,i-o,n),u===h&&d)return this}if(d&&!u)return this;var m=Rt(this,e);if(!d)for(var _=0;_<a;_++)m.array[_]=void 0;return u&&(m.array[a]=u),m},at.prototype.removeAfter=function(e,i,n){if(n===(i?1<<i+o:p)||this.array.length===0)return this;var a=n-1>>>i&f;if(a>=this.array.length)return this;var d;if(i>0){var u=this.array[a];if(d=u&&u.removeAfter(e,i-o,n),d===u&&a===this.array.length-1)return this}var h=Rt(this,e);return h.array.splice(a+1),d&&(h.array[a]=d),h};var tr={};function Kn(t,e){var i=t._origin,n=t._capacity,a=ir(n),d=t._tail;return u(t._root,t._level,0);function u(_,y,v){return y===0?h(_,v):m(_,y,v)}function h(_,y){var v=y===a?d&&d.array:_&&_.array,w=y>i?0:i-y,H=n-y;return H>p&&(H=p),function(){if(w===H)return tr;var z=e?--H:w++;return v&&v[z]}}function m(_,y,v){var w,H=_&&_.array,z=v>i?0:i-v>>y,W=(n-v>>y)+1;return W>p&&(W=p),function(){for(;;){if(w){var Ee=w();if(Ee!==tr)return Ee;w=null}if(z===W)return tr;var $e=e?--W:z++;w=u(H&&H[$e],y-o,v+($e<<y))}}}}function rr(t,e,i,n,a,d,u){var h=Object.create(ue);return h.size=e-t,h._origin=t,h._capacity=e,h._level=i,h._root=n,h._tail=a,h.__ownerID=d,h.__hash=u,h.__altered=!1,h}function wr(){return rr(0,0,o)}function io(t,e,i){if(e=S(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(u){e<0?st(u,e).set(0,i):st(u,0,e+1).set(e,i)});e+=t._origin;var n=t._tail,a=t._root,d=l();return e>=ir(t._capacity)?n=Ai(n,t.__ownerID,0,e,i,d):a=Ai(a,t.__ownerID,t._level,e,i,d),d.value?t.__ownerID?(t._root=a,t._tail=n,t.__hash=void 0,t.__altered=!0,t):rr(t._origin,t._capacity,t._level,a,n):t}function Ai(t,e,i,n,a,d){var u=n>>>i&f,h=t&&u<t.array.length;if(!h&&a===void 0)return t;var m;if(i>0){var _=t&&t.array[u],y=Ai(_,e,i-o,n,a,d);return y===_?t:(m=Rt(t,e),m.array[u]=y,m)}return h&&t.array[u]===a?t:(d&&g(d),m=Rt(t,e),a===void 0&&u===m.array.length-1?m.array.pop():m.array[u]=a,m)}function Rt(t,e){return e&&t&&e===t.ownerID?t:new at(t?t.array.slice():[],e)}function Nn(t,e){if(e>=ir(t._capacity))return t._tail;if(e<1<<t._level+o){for(var i=t._root,n=t._level;i&&n>0;)i=i.array[e>>>n&f],n-=o;return i}}function st(t,e,i){e!==void 0&&(e|=0),i!==void 0&&(i|=0);var n=t.__ownerID||new b,a=t._origin,d=t._capacity,u=a+e,h=i===void 0?d:i<0?d+i:a+i;if(u===a&&h===d)return t;if(u>=h)return t.clear();for(var m=t._level,_=t._root,y=0;u+y<0;)_=new at(_&&_.array.length?[void 0,_]:[],n),m+=o,y+=1<<m;y&&(u+=y,a+=y,h+=y,d+=y);for(var v=ir(d),w=ir(h);w>=1<<m+o;)_=new at(_&&_.array.length?[_]:[],n),m+=o;var H=t._tail,z=w<v?Nn(t,h-1):w>v?new at([],n):H;if(H&&w>v&&u<d&&H.array.length){_=Rt(_,n);for(var W=_,Ee=m;Ee>o;Ee-=o){var $e=v>>>Ee&f;W=W.array[$e]=Rt(W.array[$e],n)}W.array[v>>>o&f]=H}if(h<d&&(z=z&&z.removeAfter(n,0,h)),u>=w)u-=w,h-=w,m=o,_=null,z=z&&z.removeBefore(n,0,u);else if(u>a||w<v){for(y=0;_;){var _t=u>>>m&f;if(_t!==w>>>m&f)break;_t&&(y+=(1<<m)*_t),m-=o,_=_.array[_t]}_&&u>a&&(_=_.removeBefore(n,m,u-y)),_&&w<v&&(_=_.removeAfter(n,m,w-y)),y&&(u-=y,h-=y)}return t.__ownerID?(t.size=h-u,t._origin=u,t._capacity=h,t._level=m,t._root=_,t._tail=z,t.__hash=void 0,t.__altered=!0,t):rr(u,h,m,_,z)}function ir(t){return t<p?0:t-1>>>o<<o}var We=function(t){function e(i){return i==null?nr():Ne(i)?i:nr().withMutations(function(n){var a=Ie(i);Le(a.size),a.forEach(function(d,u){return n.set(u,d)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,a){var d=this._map.get(n);return d!==void 0?this._list.get(d)[1]:a},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):nr()},e.prototype.set=function(n,a){return Hn(this,n,a)},e.prototype.remove=function(n){return Hn(this,n,c)},e.prototype.__iterate=function(n,a){var d=this;return this._list.__iterate(function(u){return u&&n(u[1],u[0],d)},a)},e.prototype.__iterator=function(n,a){return this._list.fromEntrySeq().__iterator(n,a)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n),d=this._list.__ensureOwner(n);return n?Oi(a,d,n,this.__hash):this.size===0?nr():(this.__ownerID=n,this.__altered=!1,this._map=a,this._list=d,this)},e}(ht);We.isOrderedMap=Ne,We.prototype[Xe]=!0,We.prototype[r]=We.prototype.remove;function Oi(t,e,i,n){var a=Object.create(We.prototype);return a.size=t?t.size:0,a._map=t,a._list=e,a.__ownerID=i,a.__hash=n,a.__altered=!1,a}var zn;function nr(){return zn||(zn=Oi(Be(),wr()))}function Hn(t,e,i){var n=t._map,a=t._list,d=n.get(e),u=d!==void 0,h,m;if(i===c){if(!u)return t;a.size>=p&&a.size>=n.size*2?(m=a.filter(function(_,y){return _!==void 0&&d!==y}),h=m.toKeyedSeq().map(function(_){return _[0]}).flip().toMap(),t.__ownerID&&(h.__ownerID=m.__ownerID=t.__ownerID)):(h=n.remove(e),m=d===a.size-1?a.pop():a.set(d,void 0))}else if(u){if(i===a.get(d)[1])return t;h=n,m=a.set(d,[e,i])}else h=n.set(e,a.size),m=a.set(a.size,[e,i]);return t.__ownerID?(t.size=h.size,t._map=h,t._list=m,t.__hash=void 0,t.__altered=!0,t):Oi(h,m)}var qn="@@__IMMUTABLE_STACK__@@";function kr(t){return!!(t&&t[qn])}var xr=function(t){function e(i){return i==null?Ar():kr(i)?i:Ar().pushAll(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,a){var d=this._head;for(n=S(this,n);d&&n--;)d=d.next;return d?d.value:a},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,d=this._head,u=arguments.length-1;u>=0;u--)d={value:n[u],next:d};return this.__ownerID?(this.size=a,this._head=d,this.__hash=void 0,this.__altered=!0,this):or(a,d)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&kr(n))return n;Le(n.size);var a=this.size,d=this._head;return n.__iterate(function(u){a++,d={value:u,next:d}},!0),this.__ownerID?(this.size=a,this._head=d,this.__hash=void 0,this.__altered=!0,this):or(a,d)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ar()},e.prototype.slice=function(n,a){if(R(n,a,this.size))return this;var d=N(n,this.size),u=q(a,this.size);if(u!==this.size)return t.prototype.slice.call(this,n,a);for(var h=this.size-d,m=this._head;d--;)m=m.next;return this.__ownerID?(this.size=h,this._head=m,this.__hash=void 0,this.__altered=!0,this):or(h,m)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?or(this.size,this._head,n,this.__hash):this.size===0?Ar():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,a){var d=this;if(a)return new ye(this.toArray()).__iterate(function(m,_){return n(m,_,d)},a);for(var u=0,h=this._head;h&&n(h.value,u++,this)!==!1;)h=h.next;return u},e.prototype.__iterator=function(n,a){if(a)return new ye(this.toArray()).__iterator(n,a);var d=0,u=this._head;return new Y(function(){if(u){var h=u.value;return u=u.next,X(n,d++,h)}return oe()})},e}(Ue);xr.isStack=kr;var De=xr.prototype;De[qn]=!0,De.shift=De.pop,De.unshift=De.push,De.unshiftAll=De.pushAll,De.withMutations=Vt,De.wasAltered=Pi,De.asImmutable=Xt,De["@@transducer/init"]=De.asMutable=Jt,De["@@transducer/step"]=function(t,e){return t.unshift(e)},De["@@transducer/result"]=function(t){return t.asImmutable()};function or(t,e,i,n){var a=Object.create(De);return a.size=t,a._head=e,a.__ownerID=i,a.__hash=n,a.__altered=!1,a}var Un;function Ar(){return Un||(Un=or(0))}var jn="@@__IMMUTABLE_SET__@@";function Or(t){return!!(t&&t[jn])}function Li(t){return Or(t)&&Pe(t)}function Ei(t,e){if(t===e)return!0;if(!P(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||K(t)!==K(e)||te(t)!==te(e)||Pe(t)!==Pe(e))return!1;if(t.size===0&&e.size===0)return!0;var i=!qe(t);if(Pe(t)){var n=t.entries();return e.every(function(m,_){var y=n.next().value;return y&&ae(y[1],m)&&(i||ae(y[0],_))})&&n.next().done}var a=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{a=!0;var d=t;t=e,e=d}var u=!0,h=e.__iterate(function(m,_){if(i?!t.has(m):a?!ae(m,t.get(_,c)):!ae(t.get(_,c),m))return u=!1,!1});return u&&t.size===h}function mt(t,e){var i=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(i),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(i),t}function Lr(t){if(!t||typeof t!="object")return t;if(!P(t)){if(!ot(t))return t;t=ge(t)}if(K(t)){var e={};return t.__iterate(function(n,a){e[a]=Lr(n)}),e}var i=[];return t.__iterate(function(n){i.push(Lr(n))}),i}var ar=function(t){function e(i){return i==null?sr():Or(i)&&!Pe(i)?i:sr().withMutations(function(n){var a=t(i);Le(a.size),a.forEach(function(d){return n.add(d)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Ie(n).keySeq())},e.intersect=function(n){return n=ie(n).toArray(),n.length?_e.intersect.apply(e(n.pop()),n):sr()},e.union=function(n){return n=ie(n).toArray(),n.length?_e.union.apply(e(n.pop()),n):sr()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return Er(this,this._map.set(n,n))},e.prototype.remove=function(n){return Er(this,this._map.remove(n))},e.prototype.clear=function(){return Er(this,this._map.clear())},e.prototype.map=function(n,a){var d=this,u=!1,h=Er(this,this._map.mapEntries(function(m){var _=m[1],y=n.call(a,_,_,d);return y!==_&&(u=!0),[y,y]},a));return u?h:this},e.prototype.union=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return n=n.filter(function(d){return d.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(d){for(var u=0;u<n.length;u++)typeof n[u]=="string"?d.add(n[u]):t(n[u]).forEach(function(h){return d.add(h)})})},e.prototype.intersect=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(u){return t(u)});var d=[];return this.forEach(function(u){n.every(function(h){return h.includes(u)})||d.push(u)}),this.withMutations(function(u){d.forEach(function(h){u.remove(h)})})},e.prototype.subtract=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(u){return t(u)});var d=[];return this.forEach(function(u){n.some(function(h){return h.includes(u)})&&d.push(u)}),this.withMutations(function(u){d.forEach(function(h){u.remove(h)})})},e.prototype.sort=function(n){return xt(Dt(this,n))},e.prototype.sortBy=function(n,a){return xt(Dt(this,a,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,a){var d=this;return this._map.__iterate(function(u){return n(u,u,d)},a)},e.prototype.__iterator=function(n,a){return this._map.__iterator(n,a)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n);return n?this.__make(a,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=a,this)},e}(rt);ar.isSet=Or;var _e=ar.prototype;_e[jn]=!0,_e[r]=_e.remove,_e.merge=_e.concat=_e.union,_e.withMutations=Vt,_e.asImmutable=Xt,_e["@@transducer/init"]=_e.asMutable=Jt,_e["@@transducer/step"]=function(t,e){return t.add(e)},_e["@@transducer/result"]=function(t){return t.asImmutable()},_e.__empty=sr,_e.__make=Fn;function Er(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function Fn(t,e){var i=Object.create(_e);return i.size=t?t.size:0,i._map=t,i.__ownerID=e,i}var Gn;function sr(){return Gn||(Gn=Fn(Be()))}var Bn=function(t){function e(i,n,a){if(a===void 0&&(a=1),!(this instanceof e))return new e(i,n,a);if(Bt(a!==0,"Cannot step a Range by 0"),Bt(i!==void 0,"You must define a start value when using Range"),Bt(n!==void 0,"You must define an end value when using Range"),a=Math.abs(a),n<i&&(a=-a),this._start=i,this._end=n,this._step=a,this.size=Math.max(0,Math.ceil((n-i)/a-1)+1),this.size===0){if(Ki)return Ki;Ki=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,a){return this.has(n)?this._start+S(this,n)*this._step:a},e.prototype.includes=function(n){var a=(n-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},e.prototype.slice=function(n,a){return R(n,a,this.size)?this:(n=N(n,this.size),a=q(a,this.size),a<=n?new e(0,0):new e(this.get(n,this._end),this.get(a,this._end),this._step))},e.prototype.indexOf=function(n){var a=n-this._start;if(a%this._step===0){var d=a/this._step;if(d>=0&&d<this.size)return d}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,a){for(var d=this.size,u=this._step,h=a?this._start+(d-1)*u:this._start,m=0;m!==d&&n(h,a?d-++m:m++,this)!==!1;)h+=a?-u:u;return m},e.prototype.__iterator=function(n,a){var d=this.size,u=this._step,h=a?this._start+(d-1)*u:this._start,m=0;return new Y(function(){if(m===d)return oe();var _=h;return h+=a?-u:u,X(n,a?d-++m:m++,_)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:Ei(this,n)},e}(Te),Ki;function Ni(t,e,i){for(var n=_n(e),a=0;a!==n.length;)if(t=yi(t,n[a++],c),t===c)return i;return t}function Wn(t,e){return Ni(this,t,e)}function $n(t,e){return Ni(t,e,c)!==c}function no(t){return $n(this,t)}function Yn(){Le(this.size);var t={};return this.__iterate(function(e,i){t[i]=e}),t}ie.Iterator=Y,mt(ie,{toArray:function(){Le(this.size);var e=new Array(this.size||0),i=K(this),n=0;return this.__iterate(function(a,d){e[n++]=i?[d,a]:a}),e},toIndexedSeq:function(){return new an(this)},toJS:function(){return Lr(this)},toKeyedSeq:function(){return new Dr(this,!0)},toMap:function(){return ht(this.toKeyedSeq())},toObject:Yn,toOrderedMap:function(){return We(this.toKeyedSeq())},toOrderedSet:function(){return xt(K(this)?this.valueSeq():this)},toSet:function(){return ar(K(this)?this.valueSeq():this)},toSetSeq:function(){return new sn(this)},toSeq:function(){return te(this)?this.toIndexedSeq():K(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return xr(K(this)?this.valueSeq():this)},toList:function(){return er(K(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,i){return this.size===0?e+i:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+i},concat:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return Z(this,z0(this,e))},includes:function(e){return this.some(function(i){return ae(i,e)})},entries:function(){return this.__iterator(Ce)},every:function(e,i){Le(this.size);var n=!0;return this.__iterate(function(a,d,u){if(!e.call(i,a,d,u))return n=!1,!1}),n},filter:function(e,i){return Z(this,pn(this,e,i,!0))},partition:function(e,i){return K0(this,e,i)},find:function(e,i,n){var a=this.findEntry(e,i);return a?a[1]:n},forEach:function(e,i){return Le(this.size),this.__iterate(i?e.bind(i):e)},join:function(e){Le(this.size),e=e!==void 0?""+e:",";var i="",n=!0;return this.__iterate(function(a){n?n=!1:i+=e,i+=a!=null?a.toString():""}),i},keys:function(){return this.__iterator(it)},map:function(e,i){return Z(this,un(this,e,i))},reduce:function(e,i,n){return Vn(this,e,i,n,arguments.length<2,!1)},reduceRight:function(e,i,n){return Vn(this,e,i,n,arguments.length<2,!0)},reverse:function(){return Z(this,li(this,!0))},slice:function(e,i){return Z(this,hi(this,e,i,!0))},some:function(e,i){Le(this.size);var n=!1;return this.__iterate(function(a,d,u){if(e.call(i,a,d,u))return n=!0,!1}),n},sort:function(e){return Z(this,Dt(this,e))},values:function(){return this.__iterator(Me)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,i){return I(e?this.toSeq().filter(e,i):this)},countBy:function(e,i){return L0(this,e,i)},equals:function(e){return Ei(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ye(e._cache);var i=e.toSeq().map(ao).toIndexedSeq();return i.fromEntrySeq=function(){return e.toSeq()},i},filterNot:function(e,i){return this.filter(zi(e),i)},findEntry:function(e,i,n){var a=n;return this.__iterate(function(d,u,h){if(e.call(i,d,u,h))return a=[u,d],!1}),a},findKey:function(e,i){var n=this.findEntry(e,i);return n&&n[0]},findLast:function(e,i,n){return this.toKeyedSeq().reverse().find(e,i,n)},findLastEntry:function(e,i,n){return this.toKeyedSeq().reverse().findEntry(e,i,n)},findLastKey:function(e,i){return this.toKeyedSeq().reverse().findKey(e,i)},first:function(e){return this.find(M,null,e)},flatMap:function(e,i){return Z(this,H0(this,e,i))},flatten:function(e){return Z(this,ln(this,e,!0))},fromEntrySeq:function(){return new cn(this)},get:function(e,i){return this.find(function(n,a){return ae(a,e)},void 0,i)},getIn:Wn,groupBy:function(e,i){return E0(this,e,i)},has:function(e){return this.get(e,c)!==c},hasIn:no,isSubset:function(e){return e=typeof e.includes=="function"?e:ie(e),this.every(function(i){return e.includes(i)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:ie(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(i){return ae(i,e)})},keySeq:function(){return this.toSeq().map(oo).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Pr(this,e)},maxBy:function(e,i){return Pr(this,i,e)},min:function(e){return Pr(this,e?Jn(e):Zn)},minBy:function(e,i){return Pr(this,i?Jn(i):Zn,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,i){return Z(this,fn(this,e,i,!0))},skipUntil:function(e,i){return this.skipWhile(zi(e),i)},sortBy:function(e,i){return Z(this,Dt(this,i,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,i){return Z(this,N0(this,e,i))},takeUntil:function(e,i){return this.takeWhile(zi(e),i)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=so(this))}});var be=ie.prototype;be[E]=!0,be[dt]=be.values,be.toJSON=be.toArray,be.__toStringMapper=Wt,be.inspect=be.toSource=function(){return this.toString()},be.chain=be.flatMap,be.contains=be.includes,mt(Ie,{flip:function(){return Z(this,dn(this))},mapEntries:function(e,i){var n=this,a=0;return Z(this,this.toSeq().map(function(d,u){return e.call(i,[u,d],a++,n)}).fromEntrySeq())},mapKeys:function(e,i){var n=this;return Z(this,this.toSeq().flip().map(function(a,d){return e.call(i,a,d,n)}).flip())}});var cr=Ie.prototype;cr[O]=!0,cr[dt]=be.entries,cr.toJSON=Yn,cr.__toStringMapper=function(t,e){return Wt(e)+": "+Wt(t)},mt(Ue,{toKeyedSeq:function(){return new Dr(this,!1)},filter:function(e,i){return Z(this,pn(this,e,i,!1))},findIndex:function(e,i){var n=this.findEntry(e,i);return n?n[0]:-1},indexOf:function(e){var i=this.keyOf(e);return i===void 0?-1:i},lastIndexOf:function(e){var i=this.lastKeyOf(e);return i===void 0?-1:i},reverse:function(){return Z(this,li(this,!1))},slice:function(e,i){return Z(this,hi(this,e,i,!1))},splice:function(e,i){var n=arguments.length;if(i=Math.max(i||0,0),n===0||n===2&&!i)return this;e=N(e,e<0?this.count():this.size);var a=this.slice(0,e);return Z(this,n===1?a:a.concat(Ge(arguments,2),this.slice(e+i)))},findLastIndex:function(e,i){var n=this.findLastEntry(e,i);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Z(this,ln(this,e,!1))},get:function(e,i){return e=S(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?i:this.find(function(n,a){return a===e},void 0,i)},has:function(e){return e=S(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Z(this,q0(this,e))},interleave:function(){var e=[this].concat(Ge(arguments)),i=Mr(this.toSeq(),Te.of,e),n=i.flatten(!0);return i.size&&(n.size=i.size*e.length),Z(this,n)},keySeq:function(){return Bn(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,i){return Z(this,fn(this,e,i,!1))},zip:function(){var e=[this].concat(Ge(arguments));return Z(this,Mr(this,Xn,e))},zipAll:function(){var e=[this].concat(Ge(arguments));return Z(this,Mr(this,Xn,e,!0))},zipWith:function(e){var i=Ge(arguments);return i[0]=this,Z(this,Mr(this,e,i))}});var wt=Ue.prototype;wt[me]=!0,wt[Xe]=!0,mt(rt,{get:function(e,i){return this.has(e)?e:i},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var kt=rt.prototype;kt.has=be.includes,kt.contains=kt.includes,kt.keys=kt.values,mt(Ae,cr),mt(Te,wt),mt(Qe,kt);function Vn(t,e,i,n,a,d){return Le(t.size),t.__iterate(function(u,h,m){a?(a=!1,i=u):i=e.call(n,i,u,h,m)},d),i}function oo(t,e){return e}function ao(t,e){return[e,t]}function zi(t){return function(){return!t.apply(this,arguments)}}function Jn(t){return function(){return-t.apply(this,arguments)}}function Xn(){return Ge(arguments)}function Zn(t,e){return t<e?1:t>e?-1:0}function so(t){if(t.size===1/0)return 0;var e=Pe(t),i=K(t),n=e?1:0;return t.__iterate(i?e?function(a,d){n=31*n+Qn(k(a),k(d))|0}:function(a,d){n=n+Qn(k(a),k(d))|0}:e?function(a){n=31*n+k(a)|0}:function(a){n=n+k(a)|0}),co(t.size,n)}function co(t,e){return e=nt(e,3432918353),e=nt(e<<15|e>>>-15,461845907),e=nt(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=nt(e^e>>>16,2246822507),e=nt(e^e>>>13,3266489909),e=Oe(e^e>>>16),e}function Qn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var xt=function(t){function e(i){return i==null?Hi():Li(i)?i:Hi().withMutations(function(n){var a=rt(i);Le(a.size),a.forEach(function(d){return n.add(d)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Ie(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(ar);xt.isOrderedSet=Li;var gt=xt.prototype;gt[Xe]=!0,gt.zip=wt.zip,gt.zipWith=wt.zipWith,gt.zipAll=wt.zipAll,gt.__empty=Hi,gt.__make=e0;function e0(t,e){var i=Object.create(gt);return i.size=t?t.size:0,i._map=t,i.__ownerID=e,i}var t0;function Hi(){return t0||(t0=e0(nr()))}var uo={LeftThenRight:-1,RightThenLeft:1};function po(t){if(Je(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ne(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var le=function(e,i){var n;po(e);var a=function(h){var m=this;if(h instanceof a)return h;if(!(this instanceof a))return new a(h);if(!n){n=!0;var _=Object.keys(e),y=d._indices={};d._name=i,d._keys=_,d._defaultValues=e;for(var v=0;v<_.length;v++){var w=_[v];y[w]=v,d[w]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Ui(this)+' with property "'+w+'" since that property name is part of the Record API.'):fo(d,w)}}return this.__ownerID=void 0,this._values=er().withMutations(function(H){H.setSize(m._keys.length),Ie(h).forEach(function(z,W){H.set(m._indices[W],z===m._defaultValues[W]?void 0:z)})}),this},d=a.prototype=Object.create(ee);return d.constructor=a,i&&(a.displayName=i),a};le.prototype.toString=function(){for(var e=Ui(this)+" { ",i=this._keys,n,a=0,d=i.length;a!==d;a++)n=i[a],e+=(a?", ":"")+n+": "+Wt(this.get(n));return e+" }"},le.prototype.equals=function(e){return this===e||Je(e)&&At(this).equals(At(e))},le.prototype.hashCode=function(){return At(this).hashCode()},le.prototype.has=function(e){return this._indices.hasOwnProperty(e)},le.prototype.get=function(e,i){if(!this.has(e))return i;var n=this._indices[e],a=this._values.get(n);return a===void 0?this._defaultValues[e]:a},le.prototype.set=function(e,i){if(this.has(e)){var n=this._values.set(this._indices[e],i===this._defaultValues[e]?void 0:i);if(n!==this._values&&!this.__ownerID)return qi(this,n)}return this},le.prototype.remove=function(e){return this.set(e)},le.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:qi(this,e)},le.prototype.wasAltered=function(){return this._values.wasAltered()},le.prototype.toSeq=function(){return At(this)},le.prototype.toJS=function(){return Lr(this)},le.prototype.entries=function(){return this.__iterator(Ce)},le.prototype.__iterator=function(e,i){return At(this).__iterator(e,i)},le.prototype.__iterate=function(e,i){return At(this).__iterate(e,i)},le.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var i=this._values.__ensureOwner(e);return e?qi(this,i,e):(this.__ownerID=e,this._values=i,this)},le.isRecord=Je,le.getDescriptiveName=Ui;var ee=le.prototype;ee[fe]=!0,ee[r]=ee.remove,ee.deleteIn=ee.removeIn=vi,ee.getIn=Wn,ee.hasIn=be.hasIn,ee.merge=Tn,ee.mergeWith=Dn,ee.mergeIn=Ti,ee.mergeDeep=Mn,ee.mergeDeepWith=Rn,ee.mergeDeepIn=Di,ee.setIn=bi,ee.update=Ii,ee.updateIn=Ci,ee.withMutations=Vt,ee.asMutable=Jt,ee.asImmutable=Xt,ee[dt]=ee.entries,ee.toJSON=ee.toObject=be.toObject,ee.inspect=ee.toSource=function(){return this.toString()};function qi(t,e,i){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=i,n}function Ui(t){return t.constructor.displayName||t.constructor.name||"Record"}function At(t){return L(t._keys.map(function(e){return[e,t.get(e)]}))}function fo(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(i){Bt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,i)}})}catch{}}var lo=function(t){function e(i,n){if(!(this instanceof e))return new e(i,n);if(this._value=i,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(ji)return ji;ji=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,a){return this.has(n)?this._value:a},e.prototype.includes=function(n){return ae(this._value,n)},e.prototype.slice=function(n,a){var d=this.size;return R(n,a,d)?this:new e(this._value,q(a,d)-N(n,d))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return ae(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return ae(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,a){for(var d=this.size,u=0;u!==d&&n(this._value,a?d-++u:u++,this)!==!1;);return u},e.prototype.__iterator=function(n,a){var d=this,u=this.size,h=0;return new Y(function(){return h===u?oe():X(n,a?u-++h:h++,d._value)})},e.prototype.equals=function(n){return n instanceof e?ae(this._value,n._value):Ei(this,n)},e}(Te),ji;function ho(t,e){return r0([],e||mo,t,"",e&&e.length>2?[]:void 0,{"":t})}function r0(t,e,i,n,a,d){if(typeof i!="string"&&!ne(i)&&(Ke(i)||Ze(i)||_i(i))){if(~t.indexOf(i))throw new TypeError("Cannot convert circular structure to Immutable");t.push(i),a&&n!==""&&a.push(n);var u=e.call(d,n,ge(i).map(function(h,m){return r0(t,e,h,m,a,i)}),a&&a.slice());return t.pop(),a&&a.pop(),u}return i}function mo(t,e){return te(e)?e.toList():K(e)?e.toMap():e.toSet()}var go="5.0.3",_o=ie;s.Collection=ie,s.Iterable=_o,s.List=er,s.Map=ht,s.OrderedMap=We,s.OrderedSet=xt,s.PairSorting=uo,s.Range=Bn,s.Record=le,s.Repeat=lo,s.Seq=ge,s.Set=ar,s.Stack=xr,s.fromJS=ho,s.get=yi,s.getIn=Ni,s.has=yn,s.hasIn=$n,s.hash=k,s.is=ae,s.isAssociative=qe,s.isCollection=P,s.isImmutable=ne,s.isIndexed=te,s.isKeyed=K,s.isList=xi,s.isMap=Re,s.isOrdered=Pe,s.isOrderedMap=Ne,s.isOrderedSet=Li,s.isPlainObject=_i,s.isRecord=Je,s.isSeq=se,s.isSet=Or,s.isStack=kr,s.isValueObject=ze,s.merge=j0,s.mergeDeep=G0,s.mergeDeepWith=B0,s.mergeWith=F0,s.remove=bn,s.removeIn=Cn,s.set=vn,s.setIn=In,s.update=Si,s.updateIn=lt,s.version=go})});var ur=n0((da,s0)=>{s0.exports={strict:function(){}}});var D,F,Ur=i0(()=>{D=class s{constructor(r,o){this.start=r;this.end=o}intersect(r){let o=Math.max(this.start,r.start),p=Math.min(this.end,r.end);return p<=o?new s(-1,-1):new s(o,p)}fullyContains(r){return this.start<=r.start&&this.end>=r.end}},F=class s extends Array{rmap(r){let o=new s;return this.forEach(p=>{let f=r(p);Array.isArray(f)?f.forEach(c=>{c.start>-1&&o.push(c)}):f.start>-1&&o.push(f)}),o}union(r){let o=[],p=new s;return o.push.apply(o,this),o.push.apply(o,r),o.length==0||(o.sort((f,c)=>f.start-c.start),p.push(o.reduce((f,c)=>f.fullyContains(c)?f:f.start<=c.start&&c.start<f.end?new D(f.start,c.end):f.start<c.end&&c.end<=f.end?new D(c.start,f.end):(p.push(f),c)))),p}}});var b0={};Co(b0,{AllCornerRandomPolicy:()=>$i,DistributionRandomPolicy:()=>Ot,ErlangRandomPolicy:()=>_r,ImmediatePolicy:()=>tt,LogNormalRandomPolicy:()=>gr,RandomPolicy:()=>jr,StraightRandomPolicy:()=>Fr,UniformRandomPolicy:()=>mr,createFixedPositionPolicy:()=>Eo});function Eo(s){return Object.freeze({sample(r,o,p){let f=[];for(let c=0;c<o;++c)f.push(new D(s,s+10));return f},reconcile(r){return this},reconcileImmediate(r){return this},reconcileDistributionRandom(r){return this},reconcileRandom(r){return this},reconcileStraightRandom(r){return this},reconcileAllCornerRandom(r){return this}})}var tt,jr,Ot,mr,gr,_r,Fr,$i,Gr=i0(()=>{Ur();tt=Object.freeze({sample(s,r,o){return s.slice(0,1)},reconcile(s){return s.reconcileImmediate(this)},reconcileImmediate(s){return s},reconcileDistributionRandom(s){return s},reconcileRandom(s){return s},reconcileStraightRandom(s){return s},reconcileAllCornerRandom(s){return s}}),jr=Object.freeze({sample(s,r,o){if(s.length==0)return[];let p=0,f=s.map(l=>p+=l.end-l.start),c=[];for(let l=0;l<r;++l){let g=o.uniform(p),b=s.find((I,S)=>f[S]>g);c.push(b.start+o.uniform(b.end-b.start-10))}return c.map(l=>new D(l,l+10))},reconcile(s){return s.reconcileRandom(this)},reconcileImmediate(s){return this},reconcileDistributionRandom(s){return this},reconcileRandom(s){return s},reconcileStraightRandom(s){return s},reconcileAllCornerRandom(s){return s}}),Ot=class{sample(r,o,p){if(r.length==0)return[];let f=r.reduce((b,I)=>b+I.end-I.start,0),c=r.slice().sort((b,I)=>b.start-I.start),l=this.distribution(f,o,p),g=[];for(let b=0;b<o;++b){let I=l[b];for(let S=0;;S++)if(I+=c[S].start,I>c[S].end)I-=c[S].end;else{g.push(new D(I,c[S].end));break}}return g}reconcile(r){return r.reconcileDistributionRandom(this)}reconcileImmediate(r){return this}reconcileDistributionRandom(r){return this}reconcileRandom(r){return r}reconcileStraightRandom(r){return r}reconcileAllCornerRandom(r){return r}},mr=class extends Ot{constructor(){super()}distribution(r,o,p){let f=[];for(let c=0;c<o;++c)f.push(p.uniform(r));return f}},gr=class extends Ot{constructor(o,p){super();this.mu=o;this.sigma=p}distribution(o,p,f){let c=[],l=1/0,g=0,b=Math.ceil(p/2);for(let S=0;S<b;++S){let M,R,N;do M=f.random()*2-1,R=f.random()*2-1,N=M*M+R*R;while(N==0||N>=1);let q=Math.sqrt(-2*Math.log(N)/N)*this.sigma,Q=Math.exp(M*q+this.mu),ce=Math.exp(R*q+this.mu);l=Math.min(l,Q,ce),g=Math.max(g,Q,ce),c.push(Q,ce)}let I=g-l;return c.map(S=>Math.floor(o*(S-l)/I))}},_r=class extends Ot{constructor(o,p){super();this.k=o;this.lambda=p}distribution(o,p,f){let c=[],l=1/0,g=0;for(let I=0;I<p;++I){let S=1;for(let R=0;R<this.k;++R)S*=f.random();let M=-Math.log(S)/this.lambda;l=Math.min(l,M),g=Math.max(g,M),c.push(M)}if(p==1)return c.map(S=>Math.floor(o*Math.min(S/18,1)));let b=g-l;return c.map(I=>Math.floor(o*(I-l)/b))}},Fr=Object.freeze({sample(s,r,o){if(s.length==0)return[];let p=[];for(let f=0;f<r;++f){let c=s[o.uniform(s.length)];p.push(c.start+o.uniform(c.end-c.start-10))}return p.map(f=>new D(f,f+10))},reconcile(s){return s.reconcileStraightRandom(this)},reconcileImmediate(s){return this},reconcileDistributionRandom(s){return this},reconcileRandom(s){return this},reconcileStraightRandom(s){return s},reconcileAllCornerRandom(s){throw new Error("cannot reconcile StraightRandomPolicy with AllCornerRandomPolicy")}}),$i=Object.freeze({placeTriggers(s,r){let o=[],p=s.slice();for(p.sort((f,c)=>f.start-c.start);o.length<4&&p.length>0;){let f=r.uniform(p.length),c=p[f],l=c.start+r.uniform(c.end-c.start-10);l+20<=c.end?p.splice(f,1,new D(l+10,c.end)):p.splice(f,1),p.splice(0,f),o.push(l)}return new D(o[0],o[0]+10)},sample(s,r,o){let p=[];for(let f=0;f<r;++f)p.push(this.placeTriggers(s,o));return p},reconcile(s){return s.reconcileAllCornerRandom(this)},reconcileImmediate(s){return this},reconcileDistributionRandom(s){return this},reconcileRandom(s){return this},reconcileStraightRandom(s){throw new Error("cannot reconcile StraightRandomPolicy with AllCornerRandomPolicy")},reconcileAllCornerRandom(s){return this}})});var zt=yt(zr()),ct=yt(zr());var dr=yt(zr());var He={"100011":{baseCost:0,groupId:"10001",iconId:"20013",order:10},"100021":{baseCost:0,groupId:"10002",iconId:"20013",order:10},"100031":{baseCost:0,groupId:"10003",iconId:"20013",order:10},"100041":{baseCost:0,groupId:"10004",iconId:"20043",order:10},"100051":{baseCost:0,groupId:"10005",iconId:"20013",order:10},"100061":{baseCost:0,groupId:"10006",iconId:"20013",order:10},"100071":{baseCost:0,groupId:"10007",iconId:"20013",order:10},"100081":{baseCost:0,groupId:"10008",iconId:"20013",order:10},"100091":{baseCost:0,groupId:"10009",iconId:"20013",order:10},"100101":{baseCost:0,groupId:"10010",iconId:"20043",order:10},"100111":{baseCost:0,groupId:"10011",iconId:"20013",order:10},"100121":{baseCost:0,groupId:"10012",iconId:"20013",order:10},"100131":{baseCost:0,groupId:"10013",iconId:"20013",order:10},"100141":{baseCost:0,groupId:"10014",iconId:"20013",order:10},"100151":{baseCost:0,groupId:"10015",iconId:"20013",order:10},"100161":{baseCost:0,groupId:"10016",iconId:"20013",order:10},"100171":{baseCost:0,groupId:"10017",iconId:"20013",order:10},"100181":{baseCost:0,groupId:"10018",iconId:"20013",order:10},"100191":{baseCost:0,groupId:"10019",iconId:"20013",order:10},"100201":{baseCost:0,groupId:"10020",iconId:"20043",order:10},"100231":{baseCost:0,groupId:"10023",iconId:"20013",order:10},"100241":{baseCost:0,groupId:"10024",iconId:"20013",order:10},"100251":{baseCost:0,groupId:"10025",iconId:"20013",order:10},"100261":{baseCost:0,groupId:"10026",iconId:"20013",order:10},"100271":{baseCost:0,groupId:"10027",iconId:"20043",order:10},"100281":{baseCost:0,groupId:"10028",iconId:"20013",order:10},"100301":{baseCost:0,groupId:"10030",iconId:"20013",order:10},"100321":{baseCost:0,groupId:"10032",iconId:"20023",order:10},"100351":{baseCost:0,groupId:"10035",iconId:"20013",order:10},"100371":{baseCost:0,groupId:"10037",iconId:"20013",order:10},"100381":{baseCost:0,groupId:"10038",iconId:"20013",order:10},"100391":{baseCost:0,groupId:"10039",iconId:"20013",order:10},"100401":{baseCost:0,groupId:"10040",iconId:"20043",order:10},"100411":{baseCost:0,groupId:"10041",iconId:"20013",order:10},"100451":{baseCost:0,groupId:"10045",iconId:"20023",order:10},"100461":{baseCost:0,groupId:"10046",iconId:"20013",order:10},"100481":{baseCost:0,groupId:"10048",iconId:"20013",order:10},"100501":{baseCost:0,groupId:"10050",iconId:"20013",order:10},"100521":{baseCost:0,groupId:"10052",iconId:"20023",order:10},"100561":{baseCost:0,groupId:"10056",iconId:"20013",order:10},"100581":{baseCost:0,groupId:"10058",iconId:"20013",order:10},"100591":{baseCost:0,groupId:"10059",iconId:"20043",order:10},"100601":{baseCost:0,groupId:"10060",iconId:"20013",order:10},"100611":{baseCost:0,groupId:"10061",iconId:"20013",order:10},"10071":{baseCost:0,groupId:"1007",iconId:"20013",order:10},"10081":{baseCost:0,groupId:"1008",iconId:"20013",order:10},"10091":{baseCost:0,groupId:"1009",iconId:"20013",order:10},"10111":{baseCost:0,groupId:"1011",iconId:"20013",order:10},"10141":{baseCost:0,groupId:"1014",iconId:"20013",order:10},"10181":{baseCost:0,groupId:"1018",iconId:"20013",order:10},"10241":{baseCost:0,groupId:"1024",iconId:"20013",order:10},"10271":{baseCost:0,groupId:"1027",iconId:"20043",order:10},"10321":{baseCost:0,groupId:"1032",iconId:"20023",order:10},"10351":{baseCost:0,groupId:"1035",iconId:"20013",order:10},"10411":{baseCost:0,groupId:"1041",iconId:"20013",order:10},"10451":{baseCost:0,groupId:"1045",iconId:"20023",order:10},"10521":{baseCost:0,groupId:"1052",iconId:"20023",order:10},"10561":{baseCost:0,groupId:"1056",iconId:"20013",order:10},"10601":{baseCost:0,groupId:"1060",iconId:"20013",order:10},"10611":{baseCost:0,groupId:"1061",iconId:"20013",order:10},"110011":{baseCost:0,groupId:"11001",iconId:"20023",order:10},"110031":{baseCost:0,groupId:"11003",iconId:"20013",order:10},"110041":{baseCost:0,groupId:"11004",iconId:"20013",order:10},"110061":{baseCost:0,groupId:"11006",iconId:"20013",order:10},"110111":{baseCost:0,groupId:"11011",iconId:"20023",order:10},"110131":{baseCost:0,groupId:"11013",iconId:"20013",order:10},"110141":{baseCost:0,groupId:"11014",iconId:"20043",order:10},"110171":{baseCost:0,groupId:"11017",iconId:"20013",order:10},"110181":{baseCost:0,groupId:"11018",iconId:"20013",order:10},"110231":{baseCost:0,groupId:"11023",iconId:"20013",order:10},"110241":{baseCost:0,groupId:"11024",iconId:"20013",order:10},"110301":{baseCost:0,groupId:"11030",iconId:"20023",order:10},"110401":{baseCost:0,groupId:"11040",iconId:"20013",order:10},"110451":{baseCost:0,groupId:"11045",iconId:"20013",order:10},"110561":{baseCost:0,groupId:"11056",iconId:"20013",order:10},"200011":{baseCost:110,groupId:"20001",iconId:"10011",order:1005},"200012":{baseCost:90,groupId:"20001",iconId:"10011",order:1010},"200013":{baseCost:50,groupId:"20001",iconId:"10014",order:1020},"200021":{baseCost:110,groupId:"20002",iconId:"10011",order:1030},"200022":{baseCost:90,groupId:"20002",iconId:"10011",order:1040},"200023":{baseCost:50,groupId:"20002",iconId:"10014",order:1050},"200031":{baseCost:110,groupId:"20003",iconId:"10021",order:1060},"200032":{baseCost:90,groupId:"20003",iconId:"10021",order:1070},"200033":{baseCost:50,groupId:"20003",iconId:"10024",order:1080},"200041":{baseCost:110,groupId:"20004",iconId:"10021",order:1090},"200042":{baseCost:90,groupId:"20004",iconId:"10021",order:1100},"200043":{baseCost:50,groupId:"20004",iconId:"10024",order:1110},"200051":{baseCost:110,groupId:"20005",iconId:"10021",order:1120},"200052":{baseCost:90,groupId:"20005",iconId:"10021",order:1130},"200053":{baseCost:50,groupId:"20005",iconId:"10024",order:1140},"200061":{baseCost:110,groupId:"20006",iconId:"10021",order:1150},"200062":{baseCost:90,groupId:"20006",iconId:"10021",order:1160},"200063":{baseCost:50,groupId:"20006",iconId:"10024",order:1170},"200064":{baseCost:130,groupId:"20006",iconId:"10022",order:1145},"200071":{baseCost:110,groupId:"20007",iconId:"10021",order:1180},"200072":{baseCost:90,groupId:"20007",iconId:"10021",order:1190},"200073":{baseCost:50,groupId:"20007",iconId:"10024",order:1200},"200081":{baseCost:90,groupId:"20008",iconId:"10021",order:1210},"200082":{baseCost:70,groupId:"20008",iconId:"10021",order:1220},"200083":{baseCost:40,groupId:"20008",iconId:"10024",order:1230},"200091":{baseCost:90,groupId:"20009",iconId:"10021",order:1240},"200092":{baseCost:70,groupId:"20009",iconId:"10021",order:1250},"200093":{baseCost:40,groupId:"20009",iconId:"10024",order:1260},"200101":{baseCost:90,groupId:"20010",iconId:"10021",order:1270},"200102":{baseCost:70,groupId:"20010",iconId:"10021",order:1280},"200103":{baseCost:40,groupId:"20010",iconId:"10024",order:1290},"200111":{baseCost:90,groupId:"20011",iconId:"10021",order:1300},"200112":{baseCost:70,groupId:"20011",iconId:"10021",order:1310},"200113":{baseCost:40,groupId:"20011",iconId:"10024",order:1320},"200121":{baseCost:90,groupId:"20012",iconId:"10021",order:1330},"200122":{baseCost:70,groupId:"20012",iconId:"10021",order:1340},"200123":{baseCost:40,groupId:"20012",iconId:"10024",order:1350},"200131":{baseCost:110,groupId:"20013",iconId:"10021",order:1390},"200132":{baseCost:90,groupId:"20013",iconId:"10021",order:1400},"200133":{baseCost:50,groupId:"20013",iconId:"10024",order:1410},"200141":{baseCost:110,groupId:"20014",iconId:"10021",order:1420},"200142":{baseCost:90,groupId:"20014",iconId:"10021",order:1430},"200143":{baseCost:50,groupId:"20014",iconId:"10024",order:1440},"200151":{baseCost:110,groupId:"20015",iconId:"10031",order:1450},"200152":{baseCost:90,groupId:"20015",iconId:"10031",order:1460},"200153":{baseCost:50,groupId:"20015",iconId:"10034",order:1470},"200161":{baseCost:110,groupId:"20016",iconId:"10031",order:1480},"200162":{baseCost:90,groupId:"20016",iconId:"10031",order:1490},"200163":{baseCost:50,groupId:"20016",iconId:"10034",order:1500},"200171":{baseCost:110,groupId:"20017",iconId:"10011",order:1510},"200172":{baseCost:90,groupId:"20017",iconId:"10011",order:1520},"200173":{baseCost:50,groupId:"20017",iconId:"10014",order:1530},"200181":{baseCost:110,groupId:"20018",iconId:"10011",order:1540},"200182":{baseCost:90,groupId:"20018",iconId:"10011",order:1550},"200183":{baseCost:50,groupId:"20018",iconId:"10014",order:1560},"200191":{baseCost:110,groupId:"20019",iconId:"10011",order:1570},"200192":{baseCost:90,groupId:"20019",iconId:"10011",order:1580},"200193":{baseCost:50,groupId:"20019",iconId:"10014",order:1590},"200194":{baseCost:130,groupId:"20019",iconId:"10012",order:1565},"200201":{baseCost:110,groupId:"20020",iconId:"10011",order:1600},"200202":{baseCost:90,groupId:"20020",iconId:"10011",order:1610},"200203":{baseCost:50,groupId:"20020",iconId:"10014",order:1620},"200211":{baseCost:110,groupId:"20021",iconId:"10041",order:1630},"200212":{baseCost:90,groupId:"20021",iconId:"10041",order:1640},"200221":{baseCost:110,groupId:"20022",iconId:"10041",order:1650},"200222":{baseCost:90,groupId:"20022",iconId:"10041",order:1660},"200231":{baseCost:110,groupId:"20023",iconId:"10041",order:1670},"200232":{baseCost:90,groupId:"20023",iconId:"10041",order:1680},"200233":{baseCost:50,groupId:"20023",iconId:"10044",order:1690},"200241":{baseCost:110,groupId:"20024",iconId:"10041",order:1700},"200242":{baseCost:90,groupId:"20024",iconId:"10041",order:1710},"200251":{baseCost:110,groupId:"20025",iconId:"10051",order:1720},"200252":{baseCost:90,groupId:"20025",iconId:"10051",order:1730},"200253":{baseCost:50,groupId:"20025",iconId:"10054",order:1740},"200261":{baseCost:110,groupId:"20026",iconId:"10011",order:1750},"200262":{baseCost:90,groupId:"20026",iconId:"10011",order:1760},"200263":{baseCost:50,groupId:"20026",iconId:"10014",order:1770},"200271":{baseCost:110,groupId:"20027",iconId:"10011",order:1780},"200272":{baseCost:90,groupId:"20027",iconId:"10011",order:1790},"200281":{baseCost:110,groupId:"20028",iconId:"10031",order:1800},"200282":{baseCost:90,groupId:"20028",iconId:"10031",order:1810},"200283":{baseCost:50,groupId:"20028",iconId:"10034",order:1820},"200291":{baseCost:110,groupId:"20029",iconId:"10041",order:1830},"200292":{baseCost:90,groupId:"20029",iconId:"10041",order:1840},"200301":{baseCost:110,groupId:"20030",iconId:"10011",order:1850},"200302":{baseCost:90,groupId:"20030",iconId:"10011",order:1860},"200311":{baseCost:50,groupId:"20031",iconId:"10014",order:1870},"200321":{baseCost:50,groupId:"20032",iconId:"10024",order:1880},"200331":{baseCost:180,groupId:"20033",iconId:"20012",order:1890},"200332":{baseCost:180,groupId:"20033",iconId:"20011",order:1900},"200333":{baseCost:100,groupId:"20033",iconId:"20014",order:1910},"200341":{baseCost:180,groupId:"20034",iconId:"20042",order:1920},"200342":{baseCost:180,groupId:"20034",iconId:"20041",order:1930},"200343":{baseCost:100,groupId:"20034",iconId:"20044",order:1940},"200351":{baseCost:170,groupId:"20035",iconId:"20022",order:1950},"200352":{baseCost:170,groupId:"20035",iconId:"20021",order:1960},"200353":{baseCost:100,groupId:"20035",iconId:"20024",order:1970},"200361":{baseCost:170,groupId:"20036",iconId:"20012",order:1980},"200362":{baseCost:170,groupId:"20036",iconId:"20011",order:1990},"200371":{baseCost:170,groupId:"20037",iconId:"20042",order:2e3},"200372":{baseCost:170,groupId:"20037",iconId:"20041",order:2010},"200381":{baseCost:170,groupId:"20038",iconId:"20022",order:2020},"200382":{baseCost:170,groupId:"20038",iconId:"20021",order:2030},"200391":{baseCost:100,groupId:"20039",iconId:"20024",order:2040},"200401":{baseCost:100,groupId:"20040",iconId:"20024",order:2050},"200411":{baseCost:100,groupId:"20041",iconId:"20014",order:2060},"200421":{baseCost:100,groupId:"20042",iconId:"20014",order:2070},"200431":{baseCost:140,groupId:"20043",iconId:"20062",order:2080},"200432":{baseCost:140,groupId:"20043",iconId:"20061",order:2090},"200433":{baseCost:70,groupId:"20043",iconId:"20064",order:2100},"200441":{baseCost:160,groupId:"20044",iconId:"20022",order:2110},"200442":{baseCost:160,groupId:"20044",iconId:"20021",order:2120},"200451":{baseCost:120,groupId:"20045",iconId:"20052",order:2130},"200452":{baseCost:120,groupId:"20045",iconId:"20051",order:2140},"200461":{baseCost:170,groupId:"20046",iconId:"20012",order:2150},"200462":{baseCost:170,groupId:"20046",iconId:"20011",order:2160},"200471":{baseCost:170,groupId:"20047",iconId:"20022",order:2170},"200472":{baseCost:170,groupId:"20047",iconId:"20021",order:2180},"200481":{baseCost:170,groupId:"20048",iconId:"20022",order:2190},"200482":{baseCost:170,groupId:"20048",iconId:"20021",order:2200},"200491":{baseCost:150,groupId:"20049",iconId:"20042",order:2210},"200492":{baseCost:150,groupId:"20049",iconId:"20041",order:2220},"200501":{baseCost:120,groupId:"20050",iconId:"20052",order:2230},"200502":{baseCost:120,groupId:"20050",iconId:"20051",order:2240},"200511":{baseCost:170,groupId:"20051",iconId:"20012",order:2250},"200512":{baseCost:170,groupId:"20051",iconId:"20011",order:2260},"200521":{baseCost:100,groupId:"20052",iconId:"20024",order:2270},"200531":{baseCost:120,groupId:"20053",iconId:"20042",order:2280},"200532":{baseCost:120,groupId:"20053",iconId:"20041",order:2290},"200541":{baseCost:180,groupId:"20054",iconId:"20012",order:2300},"200542":{baseCost:180,groupId:"20054",iconId:"20011",order:2310},"200551":{baseCost:180,groupId:"20055",iconId:"20042",order:2320},"200552":{baseCost:180,groupId:"20055",iconId:"20041",order:2330},"200561":{baseCost:180,groupId:"20056",iconId:"20022",order:2340},"200562":{baseCost:180,groupId:"20056",iconId:"20021",order:2350},"200571":{baseCost:180,groupId:"20057",iconId:"20022",order:2360},"200572":{baseCost:180,groupId:"20057",iconId:"20021",order:2370},"200581":{baseCost:180,groupId:"20058",iconId:"20012",order:2380},"200582":{baseCost:180,groupId:"20058",iconId:"20011",order:2390},"200591":{baseCost:180,groupId:"20059",iconId:"20012",order:2400},"200592":{baseCost:180,groupId:"20059",iconId:"20011",order:2410},"200601":{baseCost:180,groupId:"20060",iconId:"20042",order:2420},"200602":{baseCost:180,groupId:"20060",iconId:"20041",order:2430},"200611":{baseCost:180,groupId:"20061",iconId:"20012",order:2440},"200612":{baseCost:180,groupId:"20061",iconId:"20011",order:2450},"200621":{baseCost:180,groupId:"20062",iconId:"20022",order:2460},"200622":{baseCost:180,groupId:"20062",iconId:"20021",order:2470},"200631":{baseCost:180,groupId:"20063",iconId:"20012",order:2480},"200632":{baseCost:180,groupId:"20063",iconId:"20011",order:2490},"200641":{baseCost:180,groupId:"20064",iconId:"20042",order:2500},"200642":{baseCost:180,groupId:"20064",iconId:"20041",order:2510},"200651":{baseCost:160,groupId:"20065",iconId:"20042",order:2520},"200652":{baseCost:160,groupId:"20065",iconId:"20041",order:2530},"200662":{baseCost:160,groupId:"20066",iconId:"20021",order:2550},"200671":{baseCost:160,groupId:"20067",iconId:"20012",order:2560},"200672":{baseCost:160,groupId:"20067",iconId:"20011",order:2570},"200681":{baseCost:160,groupId:"20068",iconId:"20012",order:2580},"200682":{baseCost:160,groupId:"20068",iconId:"20011",order:2590},"200691":{baseCost:160,groupId:"20069",iconId:"20022",order:2600},"200692":{baseCost:160,groupId:"20069",iconId:"20021",order:2610},"200701":{baseCost:160,groupId:"20070",iconId:"20042",order:2620},"200702":{baseCost:160,groupId:"20070",iconId:"20041",order:2630},"200711":{baseCost:160,groupId:"20071",iconId:"20022",order:2640},"200712":{baseCost:160,groupId:"20071",iconId:"20021",order:2650},"200721":{baseCost:160,groupId:"20072",iconId:"20012",order:2660},"200722":{baseCost:160,groupId:"20072",iconId:"20011",order:2670},"200731":{baseCost:160,groupId:"20073",iconId:"20012",order:2680},"200732":{baseCost:160,groupId:"20073",iconId:"20011",order:2690},"200741":{baseCost:160,groupId:"20074",iconId:"20022",order:2700},"200742":{baseCost:160,groupId:"20074",iconId:"20021",order:2710},"200751":{baseCost:160,groupId:"20075",iconId:"20012",order:2720},"200752":{baseCost:160,groupId:"20075",iconId:"20011",order:2730},"200761":{baseCost:160,groupId:"20076",iconId:"20022",order:2740},"200762":{baseCost:160,groupId:"20076",iconId:"20021",order:2750},"200771":{baseCost:140,groupId:"20077",iconId:"30051",order:2760},"200772":{baseCost:140,groupId:"20077",iconId:"30052",order:2755},"200781":{baseCost:140,groupId:"20078",iconId:"30051",order:2770},"200791":{baseCost:130,groupId:"20079",iconId:"30041",order:2780},"200801":{baseCost:130,groupId:"20080",iconId:"30041",order:2790},"200811":{baseCost:130,groupId:"20081",iconId:"30041",order:2800},"200821":{baseCost:130,groupId:"20082",iconId:"30041",order:2810},"200831":{baseCost:130,groupId:"20083",iconId:"30051",order:2820},"200841":{baseCost:130,groupId:"20084",iconId:"30051",order:2830},"200851":{baseCost:130,groupId:"20085",iconId:"30011",order:2840},"200861":{baseCost:130,groupId:"20086",iconId:"30051",order:2850},"200871":{baseCost:130,groupId:"20087",iconId:"30051",order:2860},"200881":{baseCost:130,groupId:"20088",iconId:"30011",order:2870},"200891":{baseCost:130,groupId:"20089",iconId:"30051",order:2880},"200901":{baseCost:130,groupId:"20090",iconId:"30051",order:2890},"200911":{baseCost:130,groupId:"20091",iconId:"30011",order:2900},"200921":{baseCost:130,groupId:"20092",iconId:"30051",order:2910},"200931":{baseCost:130,groupId:"20093",iconId:"30051",order:2920},"200941":{baseCost:130,groupId:"20094",iconId:"30011",order:2930},"200951":{baseCost:110,groupId:"20095",iconId:"10021",order:1360},"200952":{baseCost:90,groupId:"20095",iconId:"10021",order:1370},"200953":{baseCost:50,groupId:"20095",iconId:"10024",order:1380},"200961":{baseCost:110,groupId:"20096",iconId:"20011",order:20010},"200962":{baseCost:100,groupId:"20096",iconId:"20011",order:20020},"200971":{baseCost:110,groupId:"20097",iconId:"20011",order:20030},"200972":{baseCost:100,groupId:"20097",iconId:"20011",order:20040},"200981":{baseCost:170,groupId:"20098",iconId:"20012",order:20050},"200982":{baseCost:170,groupId:"20098",iconId:"20011",order:20060},"200991":{baseCost:160,groupId:"20099",iconId:"20042",order:20070},"200992":{baseCost:160,groupId:"20099",iconId:"20041",order:20080},"201001":{baseCost:140,groupId:"20100",iconId:"20052",order:20090},"201002":{baseCost:140,groupId:"20100",iconId:"20051",order:20100},"201011":{baseCost:170,groupId:"20101",iconId:"30012",order:20110},"201012":{baseCost:170,groupId:"20101",iconId:"30011",order:20120},"201021":{baseCost:170,groupId:"20102",iconId:"30052",order:20130},"201022":{baseCost:170,groupId:"20102",iconId:"30051",order:20140},"201031":{baseCost:110,groupId:"20103",iconId:"20011",order:20150},"201032":{baseCost:100,groupId:"20103",iconId:"20011",order:20160},"201041":{baseCost:110,groupId:"20104",iconId:"20011",order:20170},"201042":{baseCost:100,groupId:"20104",iconId:"20011",order:20180},"201051":{baseCost:160,groupId:"20105",iconId:"20012",order:20190},"201052":{baseCost:160,groupId:"20105",iconId:"20011",order:20200},"201061":{baseCost:160,groupId:"20106",iconId:"20042",order:20210},"201062":{baseCost:160,groupId:"20106",iconId:"20041",order:20220},"201071":{baseCost:120,groupId:"20107",iconId:"20012",order:20230},"201072":{baseCost:120,groupId:"20107",iconId:"20011",order:20240},"201081":{baseCost:160,groupId:"20108",iconId:"30012",order:20250},"201082":{baseCost:160,groupId:"20108",iconId:"30011",order:20260},"201091":{baseCost:160,groupId:"20109",iconId:"30022",order:20270},"201092":{baseCost:160,groupId:"20109",iconId:"30021",order:20280},"201101":{baseCost:110,groupId:"20110",iconId:"20011",order:20300},"201102":{baseCost:100,groupId:"20110",iconId:"20011",order:20310},"201111":{baseCost:110,groupId:"20111",iconId:"20011",order:20320},"201112":{baseCost:100,groupId:"20111",iconId:"20011",order:20330},"201121":{baseCost:110,groupId:"20112",iconId:"20092",order:20340},"201122":{baseCost:110,groupId:"20112",iconId:"20091",order:20350},"201131":{baseCost:140,groupId:"20113",iconId:"20052",order:20360},"201132":{baseCost:140,groupId:"20113",iconId:"20051",order:20370},"201141":{baseCost:160,groupId:"20114",iconId:"20022",order:20380},"201142":{baseCost:160,groupId:"20114",iconId:"20021",order:20390},"201151":{baseCost:160,groupId:"20115",iconId:"30012",order:20400},"201152":{baseCost:160,groupId:"20115",iconId:"30011",order:20410},"201161":{baseCost:160,groupId:"20116",iconId:"30052",order:20420},"201162":{baseCost:160,groupId:"20116",iconId:"30051",order:20430},"201171":{baseCost:110,groupId:"20117",iconId:"20011",order:20440},"201172":{baseCost:100,groupId:"20117",iconId:"20011",order:20450},"201181":{baseCost:110,groupId:"20118",iconId:"20011",order:20460},"201182":{baseCost:100,groupId:"20118",iconId:"20011",order:20470},"201191":{baseCost:160,groupId:"20119",iconId:"20012",order:20480},"201192":{baseCost:160,groupId:"20119",iconId:"20011",order:20490},"201201":{baseCost:160,groupId:"20120",iconId:"20022",order:20500},"201202":{baseCost:160,groupId:"20120",iconId:"20021",order:20510},"201211":{baseCost:160,groupId:"20121",iconId:"20012",order:20520},"201212":{baseCost:160,groupId:"20121",iconId:"20011",order:20530},"201221":{baseCost:160,groupId:"20122",iconId:"30052",order:20540},"201222":{baseCost:160,groupId:"20122",iconId:"30051",order:20550},"201231":{baseCost:110,groupId:"20123",iconId:"30072",order:20560},"201232":{baseCost:110,groupId:"20123",iconId:"30071",order:20570},"201241":{baseCost:140,groupId:"20124",iconId:"20011",order:20580},"201242":{baseCost:130,groupId:"20124",iconId:"20011",order:20590},"201251":{baseCost:140,groupId:"20125",iconId:"20011",order:20600},"201252":{baseCost:130,groupId:"20125",iconId:"20011",order:20610},"201261":{baseCost:110,groupId:"20126",iconId:"20052",order:20620},"201262":{baseCost:110,groupId:"20126",iconId:"20051",order:20630},"201272":{baseCost:180,groupId:"20127",iconId:"20011",order:20650},"201281":{baseCost:180,groupId:"20128",iconId:"20022",order:20660},"201282":{baseCost:180,groupId:"20128",iconId:"20021",order:20670},"201291":{baseCost:180,groupId:"20129",iconId:"20042",order:20680},"201292":{baseCost:180,groupId:"20129",iconId:"20041",order:20690},"201302":{baseCost:130,groupId:"20130",iconId:"30021",order:20710},"201311":{baseCost:140,groupId:"20131",iconId:"20011",order:20720},"201312":{baseCost:130,groupId:"20131",iconId:"20011",order:20730},"201321":{baseCost:140,groupId:"20132",iconId:"20011",order:20740},"201322":{baseCost:130,groupId:"20132",iconId:"20011",order:20750},"201331":{baseCost:120,groupId:"20133",iconId:"20042",order:20760},"201332":{baseCost:120,groupId:"20133",iconId:"20041",order:20770},"201341":{baseCost:120,groupId:"20134",iconId:"20042",order:20780},"201342":{baseCost:120,groupId:"20134",iconId:"20041",order:20790},"201351":{baseCost:180,groupId:"20135",iconId:"20022",order:20800},"201352":{baseCost:180,groupId:"20135",iconId:"20021",order:20810},"201361":{baseCost:120,groupId:"20136",iconId:"20042",order:20820},"201362":{baseCost:120,groupId:"20136",iconId:"20041",order:20830},"201371":{baseCost:110,groupId:"20137",iconId:"30072",order:20840},"201372":{baseCost:110,groupId:"20137",iconId:"30071",order:20850},"201381":{baseCost:140,groupId:"20138",iconId:"20011",order:20860},"201382":{baseCost:130,groupId:"20138",iconId:"20011",order:20870},"201391":{baseCost:140,groupId:"20139",iconId:"20011",order:20880},"201392":{baseCost:130,groupId:"20139",iconId:"20011",order:20890},"201401":{baseCost:120,groupId:"20140",iconId:"20042",order:20900},"201402":{baseCost:120,groupId:"20140",iconId:"20041",order:20910},"201411":{baseCost:120,groupId:"20141",iconId:"20012",order:20920},"201412":{baseCost:120,groupId:"20141",iconId:"20011",order:20930},"201421":{baseCost:180,groupId:"20142",iconId:"20022",order:20940},"201422":{baseCost:180,groupId:"20142",iconId:"20021",order:20950},"201431":{baseCost:120,groupId:"20143",iconId:"20092",order:20960},"201432":{baseCost:120,groupId:"20143",iconId:"20091",order:20970},"201441":{baseCost:180,groupId:"20144",iconId:"30052",order:20980},"201442":{baseCost:180,groupId:"20144",iconId:"30051",order:20990},"201451":{baseCost:140,groupId:"20145",iconId:"20011",order:21e3},"201452":{baseCost:130,groupId:"20145",iconId:"20011",order:21010},"201461":{baseCost:140,groupId:"20146",iconId:"20011",order:21020},"201462":{baseCost:130,groupId:"20146",iconId:"20011",order:21030},"201471":{baseCost:110,groupId:"20147",iconId:"20092",order:21040},"201472":{baseCost:110,groupId:"20147",iconId:"20091",order:21050},"201481":{baseCost:170,groupId:"20148",iconId:"20022",order:21060},"201482":{baseCost:170,groupId:"20148",iconId:"20021",order:21070},"201491":{baseCost:180,groupId:"20149",iconId:"20022",order:21080},"201492":{baseCost:180,groupId:"20149",iconId:"20021",order:21090},"201501":{baseCost:110,groupId:"20150",iconId:"20092",order:21100},"201502":{baseCost:110,groupId:"20150",iconId:"20091",order:21110},"201511":{baseCost:180,groupId:"20151",iconId:"30012",order:21120},"201512":{baseCost:180,groupId:"20151",iconId:"30011",order:21130},"201521":{baseCost:130,groupId:"20152",iconId:"10051",order:21140},"201522":{baseCost:110,groupId:"20152",iconId:"10051",order:21150},"201531":{baseCost:130,groupId:"20153",iconId:"10051",order:21160},"201532":{baseCost:110,groupId:"20153",iconId:"10051",order:21170},"201541":{baseCost:130,groupId:"20154",iconId:"10051",order:21180},"201542":{baseCost:110,groupId:"20154",iconId:"10051",order:21190},"201551":{baseCost:130,groupId:"20155",iconId:"10051",order:21200},"201552":{baseCost:110,groupId:"20155",iconId:"10051",order:21210},"201561":{baseCost:110,groupId:"20156",iconId:"10062",order:21220},"201562":{baseCost:110,groupId:"20156",iconId:"10061",order:21230},"201571":{baseCost:160,groupId:"20157",iconId:"20021",order:21240},"201581":{baseCost:160,groupId:"20158",iconId:"20041",order:21250},"201591":{baseCost:160,groupId:"20159",iconId:"20011",order:21270},"201592":{baseCost:160,groupId:"20159",iconId:"20012",order:21260},"201601":{baseCost:100,groupId:"20160",iconId:"20041",order:21280},"201611":{baseCost:100,groupId:"20161",iconId:"20011",order:21300},"201621":{baseCost:100,groupId:"20162",iconId:"20021",order:21310},"201631":{baseCost:70,groupId:"20163",iconId:"10011",order:21320},"201641":{baseCost:70,groupId:"20164",iconId:"10011",order:21330},"201651":{baseCost:160,groupId:"20165",iconId:"20011",order:21340},"201661":{baseCost:160,groupId:"20166",iconId:"20011",order:21350},"201671":{baseCost:180,groupId:"20167",iconId:"20012",order:21360},"201672":{baseCost:180,groupId:"20167",iconId:"20011",order:21370},"201681":{baseCost:140,groupId:"20168",iconId:"20052",order:21380},"201682":{baseCost:140,groupId:"20168",iconId:"20051",order:21390},"201691":{baseCost:180,groupId:"20169",iconId:"20022",order:21400},"201692":{baseCost:180,groupId:"20169",iconId:"20021",order:21410},"201701":{baseCost:160,groupId:"20170",iconId:"20012",order:21420},"201702":{baseCost:160,groupId:"20170",iconId:"20011",order:21430},"201801":{baseCost:50,groupId:"20180",iconId:"10014",order:20},"201902":{baseCost:180,groupId:"20190",iconId:"20041",order:21450},"202022":{baseCost:180,groupId:"20202",iconId:"20011",order:21510},"202032":{baseCost:120,groupId:"20203",iconId:"20011",order:21530},"202051":{baseCost:200,groupId:"20205",iconId:"40012",order:990},"210011":{baseCost:200,groupId:"21001",iconId:"20102",order:31e3},"210012":{baseCost:200,groupId:"21001",iconId:"20101",order:31001},"210021":{baseCost:200,groupId:"21002",iconId:"20112",order:31002},"210022":{baseCost:200,groupId:"21002",iconId:"20111",order:31003},"210031":{baseCost:200,groupId:"21003",iconId:"20122",order:31004},"210032":{baseCost:200,groupId:"21003",iconId:"20121",order:31005},"210041":{baseCost:200,groupId:"21004",iconId:"20102",order:31006},"210042":{baseCost:200,groupId:"21004",iconId:"20101",order:31007},"210051":{baseCost:200,groupId:"21005",iconId:"20132",order:31008},"210052":{baseCost:200,groupId:"21005",iconId:"20131",order:31009},"900011":{baseCost:200,groupId:"90001",iconId:"20011",order:30},"900021":{baseCost:200,groupId:"90002",iconId:"20011",order:30},"900031":{baseCost:200,groupId:"90003",iconId:"20011",order:30},"900041":{baseCost:200,groupId:"90004",iconId:"20041",order:30},"900051":{baseCost:200,groupId:"90005",iconId:"20011",order:30},"900061":{baseCost:200,groupId:"90006",iconId:"20011",order:30},"900071":{baseCost:200,groupId:"90007",iconId:"20011",order:30},"900081":{baseCost:200,groupId:"90008",iconId:"20011",order:30},"900091":{baseCost:200,groupId:"90009",iconId:"20011",order:30},"900101":{baseCost:200,groupId:"90010",iconId:"20041",order:30},"900111":{baseCost:200,groupId:"90011",iconId:"20011",order:30},"900121":{baseCost:200,groupId:"90012",iconId:"20011",order:30},"900131":{baseCost:200,groupId:"90013",iconId:"20011",order:30},"900141":{baseCost:200,groupId:"90014",iconId:"20011",order:30},"900151":{baseCost:200,groupId:"90015",iconId:"20011",order:30},"900161":{baseCost:200,groupId:"90016",iconId:"20011",order:30},"900171":{baseCost:200,groupId:"90017",iconId:"20011",order:30},"900181":{baseCost:200,groupId:"90018",iconId:"20011",order:30},"900191":{baseCost:200,groupId:"90019",iconId:"20011",order:30},"900201":{baseCost:200,groupId:"90020",iconId:"20041",order:30},"900231":{baseCost:200,groupId:"90023",iconId:"20011",order:30},"900241":{baseCost:200,groupId:"90024",iconId:"20011",order:30},"900251":{baseCost:200,groupId:"90025",iconId:"20011",order:30},"900261":{baseCost:200,groupId:"90026",iconId:"20011",order:30},"900271":{baseCost:200,groupId:"90027",iconId:"20041",order:30},"900281":{baseCost:200,groupId:"90028",iconId:"20011",order:30},"900301":{baseCost:200,groupId:"90030",iconId:"20011",order:30},"900321":{baseCost:200,groupId:"90032",iconId:"20021",order:30},"900351":{baseCost:200,groupId:"90035",iconId:"20011",order:30},"900371":{baseCost:200,groupId:"90037",iconId:"20011",order:30},"900381":{baseCost:200,groupId:"90038",iconId:"20011",order:30},"900391":{baseCost:200,groupId:"90039",iconId:"20011",order:30},"900401":{baseCost:200,groupId:"90040",iconId:"20041",order:30},"900411":{baseCost:200,groupId:"90041",iconId:"20011",order:30},"900451":{baseCost:200,groupId:"90045",iconId:"20021",order:30},"900461":{baseCost:200,groupId:"90046",iconId:"20011",order:30},"900481":{baseCost:200,groupId:"90048",iconId:"20011",order:30},"900501":{baseCost:200,groupId:"90050",iconId:"20011",order:30},"900521":{baseCost:200,groupId:"90052",iconId:"20021",order:30},"900561":{baseCost:200,groupId:"90056",iconId:"20011",order:30},"900581":{baseCost:200,groupId:"90058",iconId:"20011",order:30},"900591":{baseCost:200,groupId:"90059",iconId:"20041",order:30},"900601":{baseCost:200,groupId:"90060",iconId:"20011",order:30},"900611":{baseCost:200,groupId:"90061",iconId:"20011",order:30},"910011":{baseCost:200,groupId:"91001",iconId:"20021",order:30},"910031":{baseCost:200,groupId:"91003",iconId:"20011",order:30},"910041":{baseCost:200,groupId:"91004",iconId:"20011",order:30},"910061":{baseCost:200,groupId:"91006",iconId:"20011",order:30},"910111":{baseCost:200,groupId:"91011",iconId:"20021",order:30},"910131":{baseCost:200,groupId:"91013",iconId:"20011",order:30},"910141":{baseCost:200,groupId:"91014",iconId:"20041",order:30},"910171":{baseCost:200,groupId:"91017",iconId:"20011",order:30},"910181":{baseCost:200,groupId:"91018",iconId:"20011",order:30},"910231":{baseCost:200,groupId:"91023",iconId:"20011",order:30},"910241":{baseCost:200,groupId:"91024",iconId:"20011",order:30},"910301":{baseCost:200,groupId:"91030",iconId:"20021",order:30},"910401":{baseCost:200,groupId:"91040",iconId:"20011",order:30},"910451":{baseCost:200,groupId:"91045",iconId:"20011",order:30},"910561":{baseCost:200,groupId:"91056",iconId:"20011",order:30}};function Po(s){return He[s].iconId[0]=="3"}function Mo(s){return(0,dr.Map)(s.reduce((r,o)=>{let{entries:p,ndebuff:f}=r,c=He[o].groupId;return Po(o)?(p.push([c+"-"+f,o]),{entries:p,ndebuff:f+1}):(p.push([c,o]),{entries:p,ndebuff:f})},{entries:[],ndebuff:0}).entries)}var Ye=class extends(0,dr.Record)({outfitId:"",speed:1200,stamina:1200,power:800,guts:400,wisdom:400,strategy:"Senkou",distanceAptitude:"S",surfaceAptitude:"A",strategyAptitude:"A",mood:2,skills:Mo([]),forcedSkillPositions:(0,dr.Map)()}){};var _0=yt(ur());var c0=yt(ur()),bt=(c=>(c[c.Nige=1]="Nige",c[c.Senkou=2]="Senkou",c[c.Sasi=3]="Sasi",c[c.Oikomi=4]="Oikomi",c[c.Oonige=5]="Oonige",c))(bt||{});var we;(o=>{function s(p){(0,c0.strict)(bt.hasOwnProperty(p))}o.assertIsStrategy=s;function r(p,f){return p==f||p==1&&f==5||p==5&&f==1}o.strategyMatches=r})(we||={});var pr=yt(ur());var d0={"10101":{corners:[{length:275,start:400},{length:275,start:675}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:13500,raceTrackId:10001,slopes:[],straights:[{end:400,frontType:2,start:0},{end:1200,frontType:1,start:950}],surface:1,turn:1},"10102":{corners:[{length:275,start:150},{length:275,start:700},{length:275,start:975}],course:1,courseSetStatus:[],distance:1500,distanceType:2,finishTimeMax:95e4,finishTimeMin:879e3,laneMax:13500,raceTrackId:10001,slopes:[],straights:[{end:700,frontType:2,start:425},{end:1500,frontType:1,start:1250}],surface:1,turn:1},"10103":{corners:[{length:275,start:175},{length:275,start:450},{length:275,start:1e3},{length:275,start:1275}],course:1,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:13500,raceTrackId:10001,slopes:[],straights:[{end:175,frontType:1,start:0},{end:1e3,frontType:2,start:725},{end:1800,frontType:1,start:1550}],surface:1,turn:1},"10104":{corners:[{length:275,start:375},{length:275,start:650},{length:275,start:1200},{length:275,start:1475}],course:1,courseSetStatus:[3],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:13500,raceTrackId:10001,slopes:[],straights:[{end:375,frontType:1,start:0},{end:1200,frontType:2,start:925},{end:2e3,frontType:1,start:1750}],surface:1,turn:1},"10105":{corners:[{length:275,start:175},{length:275,start:450},{length:275,start:975},{length:275,start:1250},{length:275,start:1800},{length:275,start:2075}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,finishTimeMax:165e4,finishTimeMin:1576e3,laneMax:13500,raceTrackId:10001,slopes:[],straights:[{end:175,frontType:2,start:0},{end:975,frontType:1,start:725},{end:1800,frontType:2,start:1525},{end:2600,frontType:1,start:2350}],surface:1,turn:1},"10106":{corners:[{length:230,start:280},{length:230,start:510}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,finishTimeMax:63e4,finishTimeMin:574e3,laneMax:11e3,raceTrackId:10001,slopes:[],straights:[{end:280,frontType:2,start:0},{end:1e3,frontType:1,start:740}],surface:2,turn:1},"10107":{corners:[{length:230,start:240},{length:230,start:470},{length:230,start:980},{length:230,start:1210}],course:1,courseSetStatus:[1],distance:1700,distanceType:2,finishTimeMax:113e4,finishTimeMin:1014e3,laneMax:11e3,raceTrackId:10001,slopes:[],straights:[{end:240,frontType:1,start:0},{end:980,frontType:2,start:700},{end:1700,frontType:1,start:1440}],surface:2,turn:1},"10108":{corners:[{length:230,start:200},{length:230,start:430},{length:230,start:940},{length:230,start:1170},{length:230,start:1680},{length:230,start:1910}],course:1,courseSetStatus:[],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:11e3,raceTrackId:10001,slopes:[],straights:[{end:200,frontType:2,start:0},{end:940,frontType:1,start:660},{end:1680,frontType:2,start:1408},{end:2400,frontType:1,start:2140}],surface:2,turn:1},"10201":{corners:[{length:220,start:310},{length:220,start:530}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,finishTimeMax:57e4,finishTimeMin:547e3,laneMax:14700,raceTrackId:10002,slopes:[{length:555,slope:1e4,start:0}],straights:[{end:310,frontType:2,start:0},{end:1e3,frontType:1,start:750}],surface:1,turn:1},"10202":{corners:[{length:220,start:510},{length:220,start:730}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:14700,raceTrackId:10002,slopes:[{length:755,slope:1e4,start:0}],straights:[{end:510,frontType:2,start:0},{end:1200,frontType:1,start:950}],surface:1,turn:1},"10203":{corners:[{length:220,start:320},{length:220,start:540},{length:220,start:1110},{length:220,start:1330}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:14700,raceTrackId:10002,slopes:[{length:200,slope:-1e4,start:220},{length:720,slope:1e4,start:665}],straights:[{end:320,frontType:1,start:0},{end:1110,frontType:2,start:760},{end:1800,frontType:1,start:1550}],surface:1,turn:1},"10204":{corners:[{length:220,start:520},{length:220,start:740},{length:220,start:1310},{length:220,start:1530}],course:1,courseSetStatus:[1],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:14700,raceTrackId:10002,slopes:[{length:200,slope:-1e4,start:420},{length:720,slope:1e4,start:865}],straights:[{end:520,frontType:1,start:0},{end:1310,frontType:2,start:960},{end:2e3,frontType:1,start:1750}],surface:1,turn:1},"10205":{corners:[{length:230,start:240},{length:230,start:470},{length:230,start:1070},{length:230,start:1300},{length:230,start:1890},{length:230,start:2120}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,finishTimeMax:165e4,finishTimeMin:1576e3,laneMax:14700,raceTrackId:10002,slopes:[{length:495,slope:1e4,start:0},{length:200,slope:-1e4,start:970},{length:720,slope:1e4,start:1425}],straights:[{end:240,frontType:2,start:0},{end:1070,frontType:1,start:700},{end:1890,frontType:2,start:1530},{end:2600,frontType:1,start:2350}],surface:1,turn:1},"10206":{corners:[{length:190,start:370},{length:190,start:560}],course:1,courseSetStatus:[],distance:1e3,distanceType:1,finishTimeMax:63e4,finishTimeMin:574e3,laneMax:11e3,raceTrackId:10002,slopes:[],straights:[{end:370,frontType:2,start:0},{end:1e3,frontType:1,start:750}],surface:2,turn:1},"10207":{corners:[{length:190,start:350},{length:190,start:540},{length:190,start:1070},{length:190,start:1260}],course:1,courseSetStatus:[],distance:1700,distanceType:2,finishTimeMax:113e4,finishTimeMin:1014e3,laneMax:11e3,raceTrackId:10002,slopes:[{length:340,slope:-1e4,start:275},{length:670,slope:1e4,start:615}],straights:[{end:350,frontType:1,start:0},{end:1070,frontType:2,start:730},{end:1700,frontType:1,start:1450}],surface:2,turn:1},"10208":{corners:[{length:190,start:292},{length:190,start:482},{length:190,start:1040},{length:190,start:1230},{length:190,start:1770},{length:190,start:1960}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:11e3,raceTrackId:10002,slopes:[],straights:[{end:292,frontType:2,start:0},{end:1040,frontType:1,start:672},{end:1770,frontType:2,start:1420},{end:2400,frontType:1,start:2150}],surface:2,turn:1},"10301":{corners:[],course:1,courseSetStatus:[3],distance:1e3,distanceType:1,finishTimeMax:57e4,finishTimeMin:547e3,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:649.900024414062,frontType:1,start:0},{end:1e3,frontType:1,start:650}],surface:1,turn:4},"10302":{corners:[{length:200,start:430},{length:210,start:640}],course:2,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:430,frontType:2,start:0},{end:1200,frontType:1,start:850}],surface:1,turn:2},"10303":{corners:[{length:200,start:650},{length:200,start:850}],course:2,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:650,frontType:2,start:0},{end:1400,frontType:1,start:1050}],surface:1,turn:2},"10304":{corners:[{length:200,start:550},{length:200,start:750}],course:3,courseSetStatus:[],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:13500,raceTrackId:10003,slopes:[{length:350,slope:1e4,start:250},{length:300,slope:-15e3,start:600}],straights:[{end:550,frontType:2,start:0},{end:1600,frontType:1,start:950}],surface:1,turn:2},"10305":{corners:[{length:200,start:750},{length:200,start:950}],course:3,courseSetStatus:[3],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:13500,raceTrackId:10003,slopes:[{length:350,slope:1e4,start:450},{length:300,slope:-15e3,start:800}],straights:[{end:750,frontType:2,start:0},{end:1800,frontType:1,start:1150}],surface:1,turn:2},"10306":{corners:[{length:200,start:420},{length:200,start:620},{length:200,start:1250},{length:200,start:1450}],course:2,courseSetStatus:[2,3],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:420,frontType:1,start:0},{end:1250,frontType:2,start:820},{end:2e3,frontType:1,start:1650}],surface:1,turn:2},"10307":{corners:[{length:200,start:950},{length:200,start:1150}],course:3,courseSetStatus:[2,3],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:13500,raceTrackId:10003,slopes:[{length:350,slope:1e4,start:650},{length:300,slope:-15e3,start:1e3}],straights:[{end:950,frontType:2,start:0},{end:2e3,frontType:1,start:1350}],surface:1,turn:2},"10308":{corners:[{length:200,start:650},{length:200,start:850},{length:200,start:1450},{length:200,start:1650}],course:2,courseSetStatus:[1],distance:2200,distanceType:3,finishTimeMax:135e4,finishTimeMin:1302e3,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:650,frontType:1,start:0},{end:1450,frontType:2,start:1050},{end:2200,frontType:1,start:1850}],surface:1,turn:2},"10309":{corners:[{length:200,start:810},{length:200,start:1010},{length:200,start:1650},{length:200,start:1850}],course:2,courseSetStatus:[],distance:2400,distanceType:3,finishTimeMax:149e4,finishTimeMin:1416e3,laneMax:13500,raceTrackId:10003,slopes:[],straights:[{end:810,frontType:1,start:0},{end:1650,frontType:2,start:1210},{end:2400,frontType:1,start:2050}],surface:1,turn:2},"10310":{corners:[{length:150,start:600},{length:150,start:750}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:11e3,raceTrackId:10003,slopes:[],straights:[{end:600,frontType:2,start:0},{end:1200,frontType:1,start:900}],surface:2,turn:2},"10311":{corners:[{length:160,start:400},{length:160,start:560},{length:160,start:1140},{length:160,start:1300}],course:1,courseSetStatus:[5],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:11e3,raceTrackId:10003,slopes:[],straights:[{end:400,frontType:1,start:0},{end:1140,frontType:2,start:720},{end:1800,frontType:1,start:1460}],surface:2,turn:2},"10312":{corners:[{length:160,start:380},{length:160,start:540},{length:160,start:1120},{length:160,start:1280},{length:160,start:1850},{length:160,start:2010}],course:1,courseSetStatus:[],distance:2500,distanceType:4,finishTimeMax:164e4,finishTimeMin:1591e3,laneMax:11e3,raceTrackId:10003,slopes:[],straights:[{end:380,frontType:2,start:0},{end:1120,frontType:1,start:700},{end:1850,frontType:2,start:1440},{end:2500,frontType:1,start:2170}],surface:2,turn:2},"10401":{corners:[{length:300,start:420},{length:200,start:720}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:13e3,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:180}],straights:[{end:420,frontType:2,start:0},{end:1200,frontType:1,start:920}],surface:1,turn:1},"10402":{corners:[{length:200,start:330},{length:200,start:530},{length:300,start:1020},{length:200,start:1320}],course:1,courseSetStatus:[2],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:13e3,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:780}],straights:[{end:330,frontType:1,start:0},{end:1020,frontType:2,start:730},{end:1800,frontType:1,start:1520}],surface:1,turn:1},"10403":{corners:[{length:200,start:530},{length:200,start:730},{length:300,start:1220},{length:200,start:1520}],course:1,courseSetStatus:[2],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:13e3,raceTrackId:10004,slopes:[{length:100,slope:15e3,start:980}],straights:[{end:530,frontType:1,start:0},{end:1220,frontType:2,start:930},{end:2e3,frontType:1,start:1720}],surface:1,turn:1},"10404":{corners:[{length:300,start:220},{length:200,start:520},{length:200,start:1130},{length:200,start:1330},{length:300,start:1820},{length:200,start:2120}],course:1,courseSetStatus:[],distance:2600,distanceType:4,finishTimeMax:165e4,finishTimeMin:1576e3,laneMax:13e3,raceTrackId:10004,slopes:[{length:80,slope:15e3,start:0},{length:100,slope:15e3,start:1580}],straights:[{end:220,frontType:2,start:0},{end:1130,frontType:1,start:720},{end:1820,frontType:2,start:1530},{end:2600,frontType:1,start:2320}],surface:1,turn:1},"10405":{corners:[{length:210,start:500},{length:160,start:710}],course:1,courseSetStatus:[],distance:1150,distanceType:1,finishTimeMax:72e4,finishTimeMin:666e3,laneMax:11500,raceTrackId:10004,slopes:[],straights:[{end:500,frontType:2,start:0},{end:1150,frontType:1,start:870}],surface:2,turn:1},"10406":{corners:[{length:170,start:360},{length:170,start:530},{length:210,start:1050},{length:160,start:1260}],course:1,courseSetStatus:[3],distance:1700,distanceType:2,finishTimeMax:113e4,finishTimeMin:1014e3,laneMax:11500,raceTrackId:10004,slopes:[{length:320,slope:-1e4,start:285}],straights:[{end:360,frontType:1,start:0},{end:1050,frontType:2,start:700},{end:1700,frontType:1,start:1420}],surface:2,turn:1},"10407":{corners:[{length:210,start:310},{length:160,start:520},{length:170,start:1060},{length:170,start:1230},{length:210,start:1750},{length:160,start:1960}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:11500,raceTrackId:10004,slopes:[],straights:[{end:310,frontType:2,start:0},{end:1060,frontType:1,start:680},{end:1750,frontType:2,start:1400},{end:2400,frontType:1,start:2120}],surface:2,turn:1},"10501":{corners:[{length:350,start:300},{length:250,start:650}],course:3,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:200,slope:-15e3,start:0},{length:110,slope:2e4,start:1025}],straights:[{end:1200,frontType:1,start:900}],surface:1,turn:1},"10502":{corners:[{length:450,start:50},{length:350,start:700},{length:250,start:1050}],course:3,courseSetStatus:[3],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:300,slope:-15e3,start:300},{length:110,slope:2e4,start:1425}],straights:[{end:1600,frontType:1,start:1300}],surface:1,turn:1},"10503":{corners:[{length:250,start:175},{length:250,start:425},{length:250,start:1e3},{length:250,start:1250}],course:2,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:35,slope:2e4,start:1},{length:200,slope:15e3,start:125},{length:400,slope:-15e3,start:425},{length:110,slope:2e4,start:1625}],straights:[{end:175,frontType:1,start:0},{end:1e3,frontType:2,start:675},{end:1800,frontType:1,start:1500}],surface:1,turn:1},"10504":{corners:[{length:250,start:375},{length:250,start:625},{length:250,start:1200},{length:250,start:1450}],course:2,courseSetStatus:[1],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:125},{length:200,slope:15e3,start:325},{length:400,slope:-15e3,start:625},{length:110,slope:2e4,start:1825}],straights:[{end:375,frontType:1,start:0},{end:1200,frontType:2,start:875},{end:2e3,frontType:1,start:1700}],surface:1,turn:1},"10505":{corners:[{length:247,start:403},{length:450,start:650},{length:350,start:1300},{length:250,start:1650}],course:3,courseSetStatus:[2,4],distance:2200,distanceType:3,finishTimeMax:135e4,finishTimeMin:1302e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:153},{length:200,slope:15e3,start:353},{length:300,slope:-15e3,start:900},{length:110,slope:2e4,start:2025}],straights:[{end:403,frontType:1,start:0},{end:2200,frontType:1,start:1900}],surface:1,turn:1},"10506":{corners:[{length:146,start:100},{length:250,start:246},{length:250,start:875},{length:250,start:1125},{length:250,start:1700},{length:250,start:1950}],course:2,courseSetStatus:[2,4],distance:2500,distanceType:4,finishTimeMax:157e4,finishTimeMin:1487e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:621},{length:200,slope:15e3,start:825},{length:400,slope:-15e3,start:1125},{length:110,slope:2e4,start:2325}],straights:[{end:875,frontType:1,start:496},{end:1700,frontType:2,start:1375},{end:2500,frontType:1,start:2200}],surface:1,turn:1},"10507":{corners:[{length:250,start:290},{length:250,start:540},{length:250,start:1115},{length:250,start:1365},{length:250,start:1975},{length:250,start:2225},{length:250,start:2800},{length:250,start:3050}],course:2,courseSetStatus:[2],distance:3600,distanceType:4,finishTimeMax:227e4,finishTimeMin:2231e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:110,slope:2e4,start:40},{length:200,slope:15e3,start:240},{length:400,slope:-15e3,start:540},{length:110,slope:2e4,start:1740},{length:200,slope:15e3,start:1925},{length:400,slope:-15e3,start:2225},{length:110,slope:2e4,start:3425}],straights:[{end:290,frontType:1,start:0},{end:1115,frontType:2,start:790},{end:1975,frontType:1,start:1615},{end:2800,frontType:2,start:2475},{end:3600,frontType:1,start:3300}],surface:1,turn:1},"10508":{corners:[{length:200,start:500},{length:200,start:700}],course:1,courseSetStatus:[3],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:12e3,raceTrackId:10005,slopes:[{length:175,slope:-15e3,start:175},{length:175,slope:15e3,start:1e3}],straights:[{end:500,frontType:2,start:0},{end:1200,frontType:1,start:900}],surface:2,turn:1},"10509":{corners:[{length:200,start:350},{length:200,start:550},{length:200,start:1100},{length:200,start:1300}],course:1,courseSetStatus:[3],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:12e3,raceTrackId:10005,slopes:[{length:175,slope:15e3,start:100},{length:175,slope:1e4,start:350},{length:175,slope:-15e3,start:775},{length:175,slope:15e3,start:1600}],straights:[{end:350,frontType:1,start:0},{end:1100,frontType:1,start:750},{end:1800,frontType:1,start:1500}],surface:2,turn:1},"10510":{corners:[{length:200,start:200},{length:200,start:400},{length:200,start:950},{length:200,start:1150},{length:200,start:1700},{length:200,start:1900}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:12e3,raceTrackId:10005,slopes:[],straights:[{end:200,frontType:2,start:0},{end:950,frontType:1,start:600},{end:1700,frontType:2,start:1350},{end:2400,frontType:1,start:2100}],surface:2,turn:1},"10511":{corners:[{length:200,start:300},{length:200,start:500},{length:200,start:1050},{length:200,start:1250},{length:200,start:1800},{length:200,start:2e3}],course:1,courseSetStatus:[],distance:2500,distanceType:4,finishTimeMax:164e4,finishTimeMin:1591e3,laneMax:12e3,raceTrackId:10005,slopes:[],straights:[{end:300,frontType:2,start:0},{end:1050,frontType:1,start:700},{end:1800,frontType:2,start:1450},{end:2500,frontType:1,start:2200}],surface:2,turn:1},"10601":{corners:[{length:275,start:350},{length:275,start:625}],course:1,courseSetStatus:[2,3],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:125},{length:250,slope:-15e3,start:250},{length:150,slope:15e3,start:950}],straights:[{end:350,frontType:2,start:0},{end:1400,frontType:1,start:900}],surface:1,turn:2},"10602":{corners:[{length:275,start:550},{length:275,start:825}],course:1,courseSetStatus:[2,4],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:325},{length:250,slope:-15e3,start:450},{length:150,slope:15e3,start:1150}],straights:[{end:550,frontType:2,start:0},{end:1600,frontType:1,start:1100}],surface:1,turn:2},"10603":{corners:[{length:250,start:75},{length:275,start:750},{length:275,start:1025}],course:1,courseSetStatus:[1],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:525},{length:250,slope:-15e3,start:650},{length:150,slope:15e3,start:1350}],straights:[{end:750,frontType:2,start:325},{end:1800,frontType:1,start:1300}],surface:1,turn:2},"10604":{corners:[{length:200,start:200},{length:275,start:950},{length:275,start:1225}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:725},{length:250,slope:-15e3,start:850},{length:150,slope:15e3,start:1550}],straights:[{end:950,frontType:2,start:400},{end:2e3,frontType:1,start:1500}],surface:1,turn:2},"10605":{corners:[{length:250,start:225},{length:325,start:475},{length:275,start:1250},{length:275,start:1525}],course:1,courseSetStatus:[3],distance:2300,distanceType:3,finishTimeMax:143e4,finishTimeMin:1393e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:1025},{length:250,slope:-15e3,start:1150},{length:150,slope:15e3,start:1850}],straights:[{end:225,frontType:1,start:0},{end:1250,frontType:2,start:800},{end:2300,frontType:1,start:1800}],surface:1,turn:2},"10606":{corners:[{length:250,start:325},{length:325,start:575},{length:275,start:1350},{length:275,start:1625}],course:1,courseSetStatus:[],distance:2400,distanceType:3,finishTimeMax:149e4,finishTimeMin:1416e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:40,slope:15e3,start:0},{length:75,slope:2e4,start:1125},{length:250,slope:-15e3,start:1250},{length:150,slope:15e3,start:1950}],straights:[{end:325,frontType:1,start:0},{end:1350,frontType:2,start:900},{end:2400,frontType:1,start:1900}],surface:1,turn:2},"10607":{corners:[{length:250,start:425},{length:325,start:675},{length:275,start:1450},{length:275,start:1725}],course:1,courseSetStatus:[2],distance:2500,distanceType:4,finishTimeMax:157e4,finishTimeMin:1487e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:140,slope:15e3,start:0},{length:75,slope:2e4,start:1225},{length:250,slope:-15e3,start:1350},{length:150,slope:15e3,start:2050}],straights:[{end:425,frontType:1,start:0},{end:1450,frontType:2,start:1e3},{end:2500,frontType:1,start:2e3}],surface:1,turn:2},"10608":{corners:[{length:275,start:292},{length:275,start:567},{length:250,start:1325},{length:325,start:1575},{length:275,start:2350},{length:275,start:2625}],course:1,courseSetStatus:[],distance:3400,distanceType:4,finishTimeMax:214e4,finishTimeMin:2099e3,laneMax:15e3,raceTrackId:10006,slopes:[{length:75,slope:2e4,start:67},{length:250,slope:-15e3,start:192},{length:150,slope:15e3,start:892},{length:75,slope:2e4,start:2125},{length:250,slope:-15e3,start:2250},{length:150,slope:15e3,start:2950}],straights:[{end:292,frontType:2,start:0},{end:1325,frontType:1,start:842},{end:2350,frontType:2,start:1900},{end:3400,frontType:1,start:2900}],surface:1,turn:2},"10609":{corners:[{length:225,start:350},{length:225,start:575}],course:1,courseSetStatus:[1],distance:1300,distanceType:1,finishTimeMax:82e4,finishTimeMin:766e3,laneMax:12500,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:275},{length:250,slope:15e3,start:800}],straights:[{end:350,frontType:2,start:0},{end:1300,frontType:1,start:800}],surface:2,turn:2},"10610":{corners:[{length:225,start:450},{length:225,start:675}],course:1,courseSetStatus:[2],distance:1400,distanceType:1,finishTimeMax:94e4,finishTimeMin:808e3,laneMax:12500,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:375},{length:250,slope:15e3,start:900}],straights:[{end:450,frontType:2,start:0},{end:1400,frontType:1,start:900}],surface:2,turn:2},"10611":{corners:[{length:225,start:650},{length:225,start:875}],course:1,courseSetStatus:[1,2],distance:1600,distanceType:2,finishTimeMax:108e4,finishTimeMin:941e3,laneMax:12500,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:575},{length:250,slope:15e3,start:1100}],straights:[{end:650,frontType:2,start:0},{end:1600,frontType:1,start:1100}],surface:2,turn:2},"10612":{corners:[{length:250,start:200},{length:250,start:450},{length:225,start:1150},{length:225,start:1375}],course:1,courseSetStatus:[],distance:2100,distanceType:3,finishTimeMax:133e4,finishTimeMin:1274e3,laneMax:12500,raceTrackId:10006,slopes:[{length:200,slope:-1e4,start:1075},{length:250,slope:15e3,start:1600}],straights:[{end:200,frontType:1,start:0},{end:1150,frontType:2,start:700},{end:2100,frontType:1,start:1600}],surface:2,turn:2},"10613":{corners:[{length:250,start:500},{length:250,start:750},{length:225,start:1450},{length:225,start:1675},{length:500,start:2348}],course:1,courseSetStatus:[2],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:12500,raceTrackId:10006,slopes:[],straights:[{end:500,frontType:1,start:0},{end:1450,frontType:2,start:1e3},{end:2400,frontType:1,start:1900}],surface:2,turn:2},"10701":{corners:[{length:250,start:300},{length:250,start:550}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:14400,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:100},{length:100,slope:2e4,start:875}],straights:[{end:300,frontType:2,start:0},{end:1200,frontType:1,start:800}],surface:1,turn:2},"10702":{corners:[{length:250,start:500},{length:250,start:750}],course:1,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:14400,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:300},{length:100,slope:2e4,start:1075}],straights:[{end:500,frontType:2,start:0},{end:1400,frontType:1,start:1e3}],surface:1,turn:2},"10703":{corners:[{length:150,start:150},{length:250,start:700},{length:250,start:950}],course:1,courseSetStatus:[1],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:14400,raceTrackId:10007,slopes:[{length:775,slope:-1e4,start:500},{length:100,slope:2e4,start:1275}],straights:[{end:700,frontType:2,start:300},{end:1600,frontType:1,start:1200}],surface:1,turn:2},"10704":{corners:[{length:200,start:300},{length:200,start:500},{length:250,start:1100},{length:250,start:1350}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:14400,raceTrackId:10007,slopes:[{length:50,slope:2e4,start:0},{length:775,slope:-1e4,start:900},{length:100,slope:2e4,start:1675}],straights:[{end:300,frontType:1,start:0},{end:1100,frontType:2,start:700},{end:2e3,frontType:1,start:1600}],surface:1,turn:2},"10705":{corners:[{length:200,start:500},{length:200,start:700},{length:250,start:1300},{length:250,start:1550}],course:1,courseSetStatus:[2],distance:2200,distanceType:3,finishTimeMax:135e4,finishTimeMin:1302e3,laneMax:14400,raceTrackId:10007,slopes:[{length:150,slope:-1e4,start:0},{length:100,slope:2e4,start:150},{length:775,slope:-1e4,start:1100},{length:100,slope:2e4,start:1875}],straights:[{end:500,frontType:1,start:0},{end:1300,frontType:2,start:900},{end:2200,frontType:1,start:1800}],surface:1,turn:2},"10706":{corners:[{length:200,start:400},{length:200,start:600}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:13e3,raceTrackId:10007,slopes:[],straights:[{end:400,frontType:2,start:0},{end:1200,frontType:1,start:800}],surface:2,turn:2},"10707":{corners:[{length:200,start:600},{length:200,start:800}],course:1,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:94e4,finishTimeMin:808e3,laneMax:13e3,raceTrackId:10007,slopes:[{length:600,slope:-15e3,start:425},{length:150,slope:15e3,start:1025}],straights:[{end:600,frontType:2,start:0},{end:1400,frontType:1,start:1e3}],surface:2,turn:2},"10708":{corners:[{length:165,start:270},{length:165,start:435},{length:200,start:1e3},{length:200,start:1200}],course:1,courseSetStatus:[2],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:13e3,raceTrackId:10007,slopes:[{length:50,slope:15e3,start:0},{length:600,slope:-15e3,start:825},{length:150,slope:15e3,start:1425}],straights:[{end:270,frontType:1,start:0},{end:1e3,frontType:2,start:600},{end:1800,frontType:1,start:1400}],surface:2,turn:2},"10709":{corners:[{length:165,start:370},{length:165,start:535},{length:200,start:1100},{length:200,start:1300}],course:1,courseSetStatus:[],distance:1900,distanceType:3,finishTimeMax:123e4,finishTimeMin:1142e3,laneMax:13e3,raceTrackId:10007,slopes:[],straights:[{end:370,frontType:1,start:0},{end:1100,frontType:2,start:700},{end:1900,frontType:1,start:1500}],surface:2,turn:2},"10801":{corners:[{length:275,start:320},{length:275,start:595}],course:2,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:14100,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:120},{length:150,slope:-15e3,start:420}],straights:[{end:320,frontType:2,start:0},{end:1200,frontType:1,start:870}],surface:1,turn:1},"10802":{corners:[{length:275,start:520},{length:275,start:795}],course:2,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:14100,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:320},{length:150,slope:-15e3,start:620}],straights:[{end:520,frontType:2,start:0},{end:1400,frontType:1,start:1070}],surface:1,turn:1},"10803":{corners:[{length:250,start:500},{length:250,start:750}],course:3,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:250},{length:225,slope:1e4,start:350},{length:150,slope:-2e4,start:575}],straights:[{end:500,frontType:2,start:0},{end:1400,frontType:1,start:1e3}],surface:1,turn:1},"10804":{corners:[{length:275,start:720},{length:275,start:995}],course:2,courseSetStatus:[1],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:14100,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:520},{length:150,slope:-15e3,start:820}],straights:[{end:720,frontType:2,start:200},{end:1600,frontType:1,start:1270}],surface:1,turn:1},"10805":{corners:[{length:250,start:700},{length:250,start:950}],course:3,courseSetStatus:[1],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:450},{length:225,slope:1e4,start:550},{length:150,slope:-2e4,start:775}],straights:[{end:700,frontType:2,start:200},{end:1600,frontType:1,start:1200}],surface:1,turn:1},"10806":{corners:[{length:250,start:900},{length:250,start:1150}],course:3,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:650},{length:225,slope:1e4,start:750},{length:150,slope:-2e4,start:975}],straights:[{end:900,frontType:2,start:400},{end:1800,frontType:1,start:1400}],surface:1,turn:1},"10807":{corners:[{length:185,start:400},{length:185,start:585},{length:250,start:1170},{length:250,start:1420}],course:2,courseSetStatus:[3],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:14100,raceTrackId:10008,slopes:[{length:175,slope:15e3,start:970},{length:150,slope:-15e3,start:1270}],straights:[{end:400,frontType:1,start:0},{end:1170,frontType:2,start:770},{end:2e3,frontType:1,start:1670}],surface:1,turn:1},"10808":{corners:[{length:200,start:400},{length:200,start:600},{length:250,start:1300},{length:250,start:1550}],course:3,courseSetStatus:[1],distance:2200,distanceType:3,finishTimeMax:135e4,finishTimeMin:1302e3,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:1050},{length:225,slope:1e4,start:1150},{length:150,slope:-2e4,start:1375}],straights:[{end:400,frontType:1,start:0},{end:1300,frontType:2,start:800},{end:2200,frontType:1,start:1800}],surface:1,turn:1},"10809":{corners:[{length:200,start:600},{length:200,start:800},{length:250,start:1500},{length:250,start:1750}],course:3,courseSetStatus:[3],distance:2400,distanceType:3,finishTimeMax:149e4,finishTimeMin:1416e3,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:1250},{length:225,slope:1e4,start:1350},{length:150,slope:-2e4,start:1575}],straights:[{end:600,frontType:1,start:0},{end:1500,frontType:2,start:1e3},{end:2400,frontType:1,start:2e3}],surface:1,turn:1},"10810":{corners:[{length:250,start:261},{length:250,start:511},{length:200,start:1250},{length:200,start:1450},{length:250,start:2100},{length:250,start:2350}],course:3,courseSetStatus:[3,5],distance:3e3,distanceType:4,finishTimeMax:19e5,finishTimeMin:1815e3,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:11},{length:225,slope:1e4,start:111},{length:150,slope:-2e4,start:336},{length:100,slope:2e4,start:1850},{length:225,slope:1e4,start:1950},{length:150,slope:-2e4,start:2175}],straights:[{end:261,frontType:2,start:0},{end:1250,frontType:1,start:761},{end:2100,frontType:2,start:1650},{end:3e3,frontType:1,start:2600}],surface:1,turn:1},"10811":{corners:[{length:250,start:458},{length:250,start:708},{length:200,start:1450},{length:200,start:1650},{length:250,start:2300},{length:250,start:2550}],course:3,courseSetStatus:[],distance:3200,distanceType:4,finishTimeMax:204e4,finishTimeMin:193e4,laneMax:14100,raceTrackId:10008,slopes:[{length:100,slope:2e4,start:208},{length:225,slope:1e4,start:308},{length:150,slope:-2e4,start:533},{length:100,slope:2e4,start:2050},{length:225,slope:1e4,start:2150},{length:150,slope:-2e4,start:2375}],straights:[{end:458,frontType:2,start:0},{end:1450,frontType:1,start:958},{end:2300,frontType:2,start:1850},{end:3200,frontType:1,start:2800}],surface:1,turn:1},"10812":{corners:[{length:225,start:400},{length:225,start:625}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:13e3,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:175},{length:200,slope:-15e3,start:475}],straights:[{end:400,frontType:2,start:0},{end:1200,frontType:1,start:850}],surface:2,turn:1},"10813":{corners:[{length:225,start:600},{length:225,start:825}],course:1,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:94e4,finishTimeMin:808e3,laneMax:13e3,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:375},{length:200,slope:-15e3,start:675}],straights:[{end:600,frontType:2,start:100},{end:1400,frontType:1,start:1050}],surface:2,turn:1},"10814":{corners:[{length:150,start:300},{length:150,start:450},{length:225,start:1e3},{length:225,start:1225}],course:1,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:13e3,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:775},{length:200,slope:-15e3,start:1075}],straights:[{end:300,frontType:1,start:0},{end:1e3,frontType:2,start:600},{end:1800,frontType:1,start:1450}],surface:2,turn:1},"10815":{corners:[{length:150,start:400},{length:150,start:550},{length:225,start:1100},{length:225,start:1325}],course:1,courseSetStatus:[],distance:1900,distanceType:3,finishTimeMax:123e4,finishTimeMin:1142e3,laneMax:13e3,raceTrackId:10008,slopes:[{length:200,slope:15e3,start:875},{length:200,slope:-15e3,start:1175}],straights:[{end:400,frontType:1,start:0},{end:1100,frontType:2,start:700},{end:1900,frontType:1,start:1550}],surface:2,turn:1},"10901":{corners:[{length:300,start:250},{length:300,start:550}],course:2,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:12500,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:400},{length:125,slope:2e4,start:1e3}],straights:[{end:250,frontType:2,start:0},{end:1200,frontType:1,start:850}],surface:1,turn:1},"10902":{corners:[{length:300,start:450},{length:300,start:750}],course:2,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:84e4,finishTimeMin:8e5,laneMax:12500,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:600},{length:125,slope:2e4,start:1200}],straights:[{end:450,frontType:2,start:0},{end:1400,frontType:1,start:1050}],surface:1,turn:1},"10903":{corners:[{length:350,start:450},{length:350,start:800}],course:3,courseSetStatus:[3],distance:1600,distanceType:2,finishTimeMax:95e4,finishTimeMin:908e3,laneMax:12500,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:950},{length:120,slope:2e4,start:1405}],straights:[{end:450,frontType:2,start:0},{end:1600,frontType:1,start:1150}],surface:1,turn:1},"10904":{corners:[{length:350,start:650},{length:350,start:1e3}],course:3,courseSetStatus:[3],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:12500,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:1150},{length:120,slope:2e4,start:1605}],straights:[{end:650,frontType:2,start:0},{end:1800,frontType:1,start:1350}],surface:1,turn:1},"10905":{corners:[{length:190,start:370},{length:190,start:560},{length:300,start:1050},{length:300,start:1350}],course:2,courseSetStatus:[4],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:12500,raceTrackId:10009,slopes:[{length:140,slope:-1e4,start:0},{length:125,slope:2e4,start:145},{length:595,slope:-1e4,start:1200},{length:125,slope:2e4,start:1800}],straights:[{end:370,frontType:1,start:0},{end:1050,frontType:2,start:750},{end:2e3,frontType:1,start:1650}],surface:1,turn:1},"10906":{corners:[{length:190,start:520},{length:190,start:710},{length:300,start:1250},{length:300,start:1550}],course:2,courseSetStatus:[1],distance:2200,distanceType:3,finishTimeMax:135e4,finishTimeMin:1302e3,laneMax:12500,raceTrackId:10009,slopes:[{length:290,slope:-1e4,start:0},{length:125,slope:2e4,start:295},{length:595,slope:-1e4,start:1400},{length:125,slope:2e4,start:2e3}],straights:[{end:520,frontType:1,start:0},{end:1250,frontType:2,start:900},{end:2200,frontType:1,start:1850}],surface:1,turn:1},"10907":{corners:[{length:190,start:382},{length:190,start:558},{length:350,start:1250},{length:350,start:1600}],course:3,courseSetStatus:[3],distance:2400,distanceType:3,finishTimeMax:149e4,finishTimeMin:1416e3,laneMax:12500,raceTrackId:10009,slopes:[{length:132,slope:-1e4,start:0},{length:120,slope:2e4,start:187},{length:400,slope:-1e4,start:1750},{length:120,slope:2e4,start:2205}],straights:[{end:1250,frontType:2,start:750},{end:2400,frontType:1,start:1950}],surface:1,turn:1},"10908":{corners:[{length:190,start:570},{length:190,start:760},{length:350,start:1450},{length:350,start:1800}],course:3,courseSetStatus:[],distance:2600,distanceType:4,finishTimeMax:165e4,finishTimeMin:1576e3,laneMax:12500,raceTrackId:10009,slopes:[{length:315,slope:-1e4,start:0},{length:120,slope:2e4,start:370},{length:400,slope:-1e4,start:1950},{length:120,slope:2e4,start:2405}],straights:[{end:570,frontType:1,start:0},{end:1450,frontType:2,start:950},{end:2600,frontType:1,start:2150}],surface:1,turn:1},"10909":{corners:[{length:300,start:348},{length:300,start:648},{length:190,start:1320},{length:190,start:1510},{length:300,start:2050},{length:300,start:2350}],course:2,courseSetStatus:[3],distance:3e3,distanceType:4,finishTimeMax:19e5,finishTimeMin:1815e3,laneMax:12500,raceTrackId:10009,slopes:[{length:595,slope:-1e4,start:498},{length:125,slope:2e4,start:1095},{length:595,slope:-1e4,start:2200},{length:125,slope:2e4,start:2800}],straights:[{end:348,frontType:2,start:0},{end:1320,frontType:1,start:948},{end:2050,frontType:2,start:1700},{end:3e3,frontType:1,start:2650}],surface:1,turn:1},"10910":{corners:[{length:250,start:350},{length:250,start:600}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:12e3,raceTrackId:10009,slopes:[],straights:[{end:350,frontType:2,start:0},{end:1200,frontType:1,start:850}],surface:2,turn:1},"10911":{corners:[{length:250,start:550},{length:250,start:800}],course:1,courseSetStatus:[],distance:1400,distanceType:1,finishTimeMax:94e4,finishTimeMin:808e3,laneMax:12e3,raceTrackId:10009,slopes:[{length:125,slope:15e3,start:1200}],straights:[{end:550,frontType:2,start:0},{end:1400,frontType:1,start:1050}],surface:2,turn:1},"10912":{corners:[{length:150,start:330},{length:150,start:480},{length:250,start:950},{length:250,start:1200}],course:1,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:12e3,raceTrackId:10009,slopes:[{length:125,slope:15e3,start:105},{length:125,slope:15e3,start:1599}],straights:[{end:330,frontType:1,start:0},{end:950,frontType:2,start:630},{end:1800,frontType:1,start:1449}],surface:2,turn:1},"10913":{corners:[{length:150,start:500},{length:150,start:650},{length:250,start:1150},{length:250,start:1400}],course:1,courseSetStatus:[2,3],distance:2e3,distanceType:3,finishTimeMax:129e4,finishTimeMin:1219e3,laneMax:12e3,raceTrackId:10009,slopes:[{length:125,slope:15e3,start:275},{length:125,slope:15e3,start:1800}],straights:[{end:500,frontType:1,start:0},{end:1150,frontType:2,start:800},{end:2e3,frontType:1,start:1650}],surface:2,turn:1},"10914":{corners:[{length:350,start:370},{length:350,start:720},{length:190,start:1520},{length:190,start:1710},{length:300,start:2250},{length:300,start:2550}],course:4,courseSetStatus:[],distance:3200,distanceType:4,finishTimeMax:204e4,finishTimeMin:193e4,laneMax:12500,raceTrackId:10009,slopes:[{length:400,slope:-1e4,start:870},{length:120,slope:2e4,start:1325},{length:595,slope:-1e4,start:2400},{length:125,slope:2e4,start:3e3}],straights:[{end:370,frontType:2,start:0},{end:1520,frontType:1,start:1070},{end:2250,frontType:2,start:1900},{end:3200,frontType:1,start:2850}],surface:1,turn:1},"11001":{corners:[{length:205,start:500},{length:205,start:705}],course:1,courseSetStatus:[1],distance:1200,distanceType:1,finishTimeMax:71e4,finishTimeMin:675e3,laneMax:14500,raceTrackId:10010,slopes:[{length:60,slope:-15e3,start:0}],straights:[{end:500,frontType:2,start:0},{end:1200,frontType:1,start:910}],surface:1,turn:1},"11002":{corners:[{length:205,start:290},{length:205,start:495},{length:205,start:1100},{length:205,start:1305}],course:1,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:11e5,finishTimeMin:1044e3,laneMax:14500,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:280}],straights:[{end:290,frontType:1,start:0},{end:1100,frontType:2,start:700},{end:1800,frontType:1,start:1510}],surface:1,turn:1},"11003":{corners:[{length:205,start:490},{length:205,start:695},{length:205,start:1300},{length:205,start:1505}],course:1,courseSetStatus:[3],distance:2e3,distanceType:3,finishTimeMax:123e4,finishTimeMin:1171e3,laneMax:14500,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:480}],straights:[{end:490,frontType:1,start:0},{end:1300,frontType:2,start:900},{end:2e3,frontType:1,start:1710}],surface:1,turn:1},"11004":{corners:[{length:205,start:309},{length:205,start:514},{length:205,start:1110},{length:205,start:1315},{length:205,start:1900},{length:205,start:2105}],course:1,courseSetStatus:[2],distance:2600,distanceType:4,finishTimeMax:165e4,finishTimeMin:1576e3,laneMax:14500,raceTrackId:10010,slopes:[{length:255,slope:15e3,start:1100}],straights:[{end:309,frontType:2,start:0},{end:1110,frontType:1,start:719},{end:1900,frontType:2,start:1520},{end:2600,frontType:1,start:2310}],surface:1,turn:1},"11005":{corners:[{length:180,start:360},{length:180,start:540}],course:1,courseSetStatus:[1],distance:1e3,distanceType:1,finishTimeMax:63e4,finishTimeMin:574e3,laneMax:12e3,raceTrackId:10010,slopes:[],straights:[{end:360,frontType:2,start:0},{end:1e3,frontType:1,start:720}],surface:2,turn:1},"11006":{corners:[{length:180,start:340},{length:180,start:520},{length:180,start:1060},{length:180,start:1240}],course:1,courseSetStatus:[],distance:1700,distanceType:2,finishTimeMax:113e4,finishTimeMin:1014e3,laneMax:12e3,raceTrackId:10010,slopes:[{length:150,slope:15e3,start:370}],straights:[{end:340,frontType:1,start:0},{end:1060,frontType:2,start:700},{end:1700,frontType:1,start:1420}],surface:2,turn:1},"11007":{corners:[{length:180,start:312},{length:180,start:492},{length:180,start:1040},{length:180,start:1220},{length:180,start:1760},{length:180,start:1940}],course:1,courseSetStatus:[],distance:2400,distanceType:3,finishTimeMax:156e4,finishTimeMin:1491e3,laneMax:12e3,raceTrackId:10010,slopes:[],straights:[{end:312,frontType:2,start:0},{end:1040,frontType:1,start:672},{end:1760,frontType:2,start:1400},{end:2400,frontType:1,start:2120}],surface:2,turn:1},"11101":{corners:[{length:150,start:500},{length:150,start:650}],course:1,courseSetStatus:[],distance:1200,distanceType:1,finishTimeMax:77e4,finishTimeMin:69e4,laneMax:12e3,raceTrackId:10101,slopes:[],straights:[{end:500,frontType:2,start:0},{end:1200,frontType:1,start:812}],surface:2,turn:1},"11102":{corners:[{length:150,start:300},{length:150,start:500},{length:150,start:1100},{length:150,start:1250}],course:1,courseSetStatus:[],distance:1800,distanceType:2,finishTimeMax:118e4,finishTimeMin:1081e3,laneMax:12e3,raceTrackId:10101,slopes:[],straights:[{end:301,frontType:1,start:0},{end:1100.22998046875,frontType:2,start:600},{end:1800,frontType:1,start:1400}],surface:2,turn:1},"11103":{corners:[{length:150,start:500},{length:150,start:650},{length:150,start:1300},{length:150,start:1450}],course:1,courseSetStatus:[],distance:2e3,distanceType:3,finishTimeMax:129e4,finishTimeMin:1219e3,laneMax:12e3,raceTrackId:10101,slopes:[],straights:[{end:500,frontType:1,start:0},{end:1300,frontType:2,start:800},{end:2e3,frontType:1,start:1600}],surface:2,turn:1}};var u0=(o=>(o[o.Turf=1]="Turf",o[o.Dirt=2]="Dirt",o))(u0||{}),p0=(f=>(f[f.Short=1]="Short",f[f.Mile=2]="Mile",f[f.Mid=3]="Mid",f[f.Long=4]="Long",f))(p0||{}),f0=(f=>(f[f.Clockwise=1]="Clockwise",f[f.Counterclockwise=2]="Counterclockwise",f[f.UnusedOrientation=3]="UnusedOrientation",f[f.NoTurns=4]="NoTurns",f))(f0||{});var T;(I=>{function s(S){(0,pr.strict)(S==0||S==1||S==2||S==3)}I.assertIsPhase=s;function r(S){(0,pr.strict)(u0.hasOwnProperty(S))}I.assertIsSurface=r;function o(S){(0,pr.strict)(p0.hasOwnProperty(S))}I.assertIsDistanceType=o;function p(S){(0,pr.strict)(f0.hasOwnProperty(S))}I.assertIsOrientation=p;function f(S){let M=[!0,-1];function R(N,q){return[N[0]&&q.start>N[1],q.start]}return S.reduce(R,M)[0]}I.isSortedByStart=f;function c(S,M){switch(M){case 0:return 0;case 1:return S*1/6;case 2:return S*2/3;case 3:return S*5/6}}I.phaseStart=c;function l(S,M){switch(M){case 0:return S*1/6;case 1:return S*2/3;case 2:return S*5/6;case 3:return S}}I.phaseEnd=l;function g(S,M){let R=[0,M.speed,M.stamina,M.power,M.guts,M.wisdom].map(N=>Math.min(N,901));return 1+S.courseSetStatus.map(N=>(1+Math.floor(R[N]/300.01))*.05).reduce((N,q)=>N+q,0)/Math.max(S.courseSetStatus.length,1)}I.courseSpeedModifier=g;function b(S){let M=d0[S];f(M.slopes)||M.slopes.sort((O,K)=>O.start-K.start);let R=11.25,N=R/18,q=.02*1.5,Q=q/15,ce=R*M.laneMax/1e4,E=M.corners.length>0?M.corners[0].start:30,P={...M,courseWidth:R,horseLane:N,laneChangeAcceleration:q,laneChangeAccelerationPerFrame:Q,maxLaneDistance:ce,moveLanePoint:E};return Object.keys(P).forEach(O=>Object.freeze(P[O])),Object.freeze(P)}I.getCourse=b})(T||={});var wo=function(){function s(r){this._value=NaN,typeof r=="string"?this._seed=this.hashCode(r):typeof r=="number"?this._seed=this.getSafeSeed(r):this._seed=this.getSafeSeed(s.MIN+Math.floor((s.MAX-s.MIN)*Math.random())),this.reset()}return s.prototype.next=function(r,o){return r===void 0&&(r=0),o===void 0&&(o=1),this.recalculate(),this.map(this._value,s.MIN,s.MAX,r,o)},s.prototype.nextInt=function(r,o){return r===void 0&&(r=10),o===void 0&&(o=100),this.recalculate(),Math.floor(this.map(this._value,s.MIN,s.MAX,r,o+1))},s.prototype.nextString=function(r,o){r===void 0&&(r=16),o===void 0&&(o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");for(var p="";p.length<r;)p+=this.nextChar(o);return p},s.prototype.nextChar=function(r){return r===void 0&&(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"),r.substr(this.nextInt(0,r.length-1),1)},s.prototype.nextArrayItem=function(r){return r[this.nextInt(0,r.length-1)]},s.prototype.nextBoolean=function(){return this.recalculate(),this._value>.5},s.prototype.skip=function(r){for(r===void 0&&(r=1);r-- >0;)this.recalculate()},s.prototype.reset=function(){this._value=this._seed},s.prototype.recalculate=function(){this._value=this.xorshift(this._value)},s.prototype.xorshift=function(r){return r^=r<<13,r^=r>>17,r^=r<<5,r},s.prototype.map=function(r,o,p,f,c){return(r-o)/(p-o)*(c-f)+f},s.prototype.hashCode=function(r){var o=0;if(r)for(var p=r.length,f=0;f<p;f++)o=(o<<5)-o+r.charCodeAt(f),o|=0,o=this.xorshift(o);return this.getSafeSeed(o)},s.prototype.getSafeSeed=function(r){return r===0?1:r},s.MIN=-2147483648,s.MAX=2147483647,s}(),l0=wo;var Fi=class{constructor(r){this.prando=new l0(r)}int32(){return Math.floor(this.prando.next()*4294967296)}random(){return this.prando.next()}uniform(r){return this.prando.nextInt(0,r-1)}},he=Fi;var Ve=class{constructor(r,o,p){this.name=r;this.startRate=o;this.continuationRate=p}get valueOnStart(){return 0}update(r,o){let p=r.simulation.specialConditionRng;return o===0?p.random()<this.startRate?1:0:p.random()<this.continuationRate?1:0}},fr=class{constructor(r,o,p=0){this.name=r;this.conditions=o;this.valueOnStart=p}update(r,o){let p=null,f=null;for(let g of this.conditions)if(g.predicate===null)f=g.condition;else if(g.predicate(r)){p=g.condition;break}let c=p||f;if(!c)return o;let l=r.simulation.specialConditionRng;return o===0?l.random()<c.startRate?1:0:l.random()<c.continuationRate?1:0}};function h0(){let s=[{condition:new Ve("Outer lane",0,0),predicate:r=>{let o=r.simulation,p=Math.floor(o.pos/o.sectionLength);return p>=1&&p<=3&&o.currentLane>3*o.course.horseLane}},{condition:new Ve("Early race",.1,.85),predicate:r=>r.simulation.phase===0},{condition:new Ve("Mid race",.08,.75),predicate:r=>r.simulation.phase===1},{condition:new Ve("Other",.07,.5),predicate:null}];return new fr("blocked_side",s,1)}function m0(){let s=[{condition:new Ve("\u9003\u3052",.05,.5),predicate:r=>r.simulation.horse.strategy===1},{condition:new Ve("\u5148\u884C",.15,.55),predicate:r=>r.simulation.horse.strategy===2},{condition:new Ve("\u305D\u306E\u4ED6",.2,.6),predicate:null}];return new fr("overtake",s)}var qr;(o=>(o.StrategyPhaseCoefficient=Object.freeze([[],[1,.98,.962],[.978,.991,.975],[.938,.998,.994],[.931,1,1],[1.063,.962,.95]].map(p=>Object.freeze(p))),o.DistanceProficiencyModifier=Object.freeze([1.05,1,.9,.8,.6,.4,.2,.1])))(qr||={});function vt(s){return 20-(s.distance-2e3)/1e3}function y0(s,r,o){return vt(r)*qr.StrategyPhaseCoefficient[s.strategy][o]+ +(o==2)*Math.sqrt(500*s.speed)*qr.DistanceProficiencyModifier[s.distanceAptitude]*.002}function ko(s,r){let o=(y0(s,r,2)+.01*vt(r))*1.05+Math.sqrt(500*s.speed)*qr.DistanceProficiencyModifier[s.distanceAptitude]*.002;return o+=Math.pow(450*s.guts,.597)*1e-4,o}var Hr;(p=>(p.StrategyPhaseCoefficient=Object.freeze([[],[1,1,.996],[.985,1,.996],[.975,1,1],[.945,1,.997],[1.17,.94,.956]].map(f=>Object.freeze(f))),p.GroundTypeProficiencyModifier=Object.freeze([1.05,1,.9,.8,.7,.5,.3,.1]),p.DistanceProficiencyModifier=Object.freeze([1,1,1,1,1,.6,.5,.4])))(Hr||={});var xo=6e-4,Ao=4e-4;function Oo(s,r,o){return s*Math.sqrt(500*r.power)*Hr.StrategyPhaseCoefficient[r.strategy][o]*Hr.GroundTypeProficiencyModifier[r.surfaceAptitude]*Hr.DistanceProficiencyModifier[r.distanceAptitude]}var Lo=[-1.2,-.8,-1],Gi;(c=>{c.BaseMinimumThreshold=Object.freeze([0,0,3,6.5,7.5]),c.BaseMaximumThreshold=Object.freeze([0,0,5,7,8]);function o(l){return 8e-4*(l-1e3)+1}c.courseFactor=o;function p(l,g){return c.BaseMinimumThreshold[l]*(l==2?1:o(g))}c.minThreshold=p;function f(l,g){return c.BaseMaximumThreshold[l]*o(g)}c.maxThreshold=f})(Gi||={});var Bi=class{constructor(r){this.t=r}},lr=class{constructor(r,o=0){this.acc=r;this.err=o}add(r){let o=this.acc+r;Math.abs(this.acc)>=Math.abs(r)?this.err+=this.acc-o+r:this.err+=r-o+this.acc,this.acc=o}};var Wi=(E=>(E[E.Noop=0]="Noop",E[E.SpeedUp=1]="SpeedUp",E[E.StaminaUp=2]="StaminaUp",E[E.PowerUp=3]="PowerUp",E[E.GutsUp=4]="GutsUp",E[E.WisdomUp=5]="WisdomUp",E[E.Recovery=9]="Recovery",E[E.MultiplyStartDelay=10]="MultiplyStartDelay",E[E.SetStartDelay=14]="SetStartDelay",E[E.CurrentSpeed=21]="CurrentSpeed",E[E.CurrentSpeedWithNaturalDeceleration=22]="CurrentSpeedWithNaturalDeceleration",E[E.TargetSpeed=27]="TargetSpeed",E[E.LaneMovementSpeed=28]="LaneMovementSpeed",E[E.Accel=31]="Accel",E[E.ChangeLane=35]="ChangeLane",E[E.ActivateRandomGold=37]="ActivateRandomGold",E[E.ExtendEvolvedDuration=42]="ExtendEvolvedDuration",E))(Wi||{});function g0(s){}var hr=class{constructor(r){this.conditionValues=new Map;this.conditions=new Map;this.horse=Object.assign({},r.horse),this.course=r.course,this.hp=r.hp,this.rng=r.rng,this.pendingSkills=r.skills.slice(),this.pendingRemoval=new Set,this.usedSkills=new Set,this.syncRng=new he(this.rng.int32()),this.gorosiRng=new he(this.rng.int32()),this.rushedRng=new he(this.rng.int32()),this.wisdomRollRng=new he(this.rng.int32()),this.posKeepRng=new he(this.rng.int32()),this.laneMovementRng=new he(this.rng.int32()),this.specialConditionRng=new he(this.rng.int32()),this.timers=[],this.conditionTimer=this.getNewTimer(-1),this.accumulatetime=this.getNewTimer(),this.gateRoll=this.rng.uniform(12252240),this.randomLot=this.rng.uniform(100),this.phase=0,this.nextPhaseTransition=T.phaseStart(this.course.distance,1),this.activeTargetSpeedSkills=[],this.activeCurrentSpeedSkills=[],this.activeAccelSkills=[],this.activeLaneMovementSkills=[],this.activeChangeLaneSkills=[],this.activateCount=[0,0,0],this.activateCountHeal=0,this.onSkillActivate=r.onSkillActivate||g0,this.onSkillDeactivate=r.onSkillDeactivate||g0,this.sectionLength=this.course.distance/24,this.posKeepMinThreshold=Gi.minThreshold(this.horse.strategy,this.course.distance),this.posKeepMaxThreshold=Gi.maxThreshold(this.horse.strategy,this.course.distance),this.posKeepNextTimer=this.getNewTimer(),this.positionKeepState=0,this.posKeepMode=r.posKeepMode||0,this.posKeepStrategy=this.horse.strategy,this.mode=r.mode,this.skillWisdomCheck=r.skillWisdomCheck!==!1,this.rushedKakari=r.rushedKakari!==!1,this.posKeepEnd=this.sectionLength*(this.mode==="compare"?10:3),this.posKeepSpeedCoef=1,this.isPacer=r.isPacer||!1,this.pacerOverride=!1,this.umas=[],this.pacer=null,this.speedUpProbability=r.speedUpProbability!=null?r.speedUpProbability:100,this.isRushed=!1,this.hasBeenRushed=!1,this.rushedSection=-1,this.rushedEnterPosition=-1,this.rushedTimer=this.getNewTimer(),this.rushedMaxDuration=12,this.isDownhillMode=!1,this.downhillActivations=[],this.rushedActivations=[],this.positionKeepActivations=[],this.firstUmaInLateRace=!1,this.hpDied=!1,this.hpDiedPosition=null,this.fullSpurt=!1,this.nonFullSpurtVelocityDiff=null,this.nonFullSpurtDelayDistance=null,this.rushedKakari&&this.initRushedState(),this.competeFight=!1,this.competeFightStart=null,this.competeFightEnd=null,this.competeFightTimer=this.getNewTimer(),this.leadCompetition=!1,this.leadCompetitionStart=null,this.leadCompetitionEnd=null,this.leadCompetitionTimer=this.getNewTimer();let o=this.gateRoll%9,f=(o<9?o:1+(24-o)%8)*this.course.horseLane;this.currentLane=f,this.targetLane=f,this.laneChangeSpeed=0,this.extraMoveLane=-1,this.forceInSpeed=0,this.modifiers={targetSpeed:new lr(0),currentSpeed:new lr(0),accel:new lr(0),oneFrameAccel:0,specialSkillDurationScaling:1},this.startDelay=.1*this.rng.random(),this.pos=0,this.accel=0,this.currentSpeed=3,this.targetSpeed=.85*vt(this.course),this.processSkillActivations(),this.minSpeed=.85*vt(this.course)+Math.sqrt(200*this.horse.guts)*.001,this.startDash=!0,this.modifiers.accel.add(24),this.initHills(),this.startDelayAccumulator=this.startDelay,this.baseTargetSpeed=[0,1,2].map(c=>y0(this.horse,this.course,c)),this.lastSpurtSpeed=ko(this.horse,this.course),this.lastSpurtTransition=-1,this.sectionModifier=Array.from({length:24},()=>{let l=(this.horse.wisdom/5500*Math.log10(this.horse.wisdom*.1)-.65+this.wisdomRollRng.random()*.65)/100;return vt(this.course)*l}),this.sectionModifier.push(0),this.hp.init(this.horse),this.baseAccel=[0,1,2,0,1,2].map((c,l)=>Oo(l>2?Ao:xo,this.horse,c)),this.registerCondition("blocked_side",h0()),this.registerCondition("overtake",m0())}initUmas(r){this.umas=[...r.filter(o=>o!=null),this]}initHills(){(0,_0.strict)(T.isSortedByStart(this.course.slopes),"slopes must be sorted by start location"),this.nHills=this.course.slopes.length,this.hillStart=this.course.slopes.map(r=>r.start).reverse(),this.hillEnd=this.course.slopes.map(r=>r.start+r.length).reverse(),this.hillIdx=-1,this.downhillRng=this.course.slopes.map(r=>new he(this.rng.int32())),this.downhillTimer=this.getNewTimer(),this.hillStart.length>0&&this.hillStart[this.hillStart.length-1]==0?(this.hillIdx=0,this.slopePer=this.course.slopes[0].slope,this.downhillTimer.t=0,this.downhillCheck(this.downhillRng[0].random()),this.hillStart.pop()):this.slopePer=0}getNewTimer(r=0){let o=new Bi(r);return this.timers.push(o),o}initRushedState(){let r=this.horse.wisdom,o=Math.pow(6.5/Math.log10(.1*r+1),2)/100,p=this.pendingSkills.some(c=>c.skillId==="202161"),f=Math.max(0,o-(p?.03:0));this.rushedRng.random()<f&&(this.rushedSection=2+this.rushedRng.uniform(8),this.rushedEnterPosition=this.sectionLength*this.rushedSection)}updateRushedState(){if(this.rushedSection>=0&&!this.isRushed&&!this.hasBeenRushed&&this.pos>=this.rushedEnterPosition&&(this.isRushed=!0,this.hasBeenRushed=!0,this.rushedTimer.t=0,this.rushedActivations.push([this.pos,-1])),this.isRushed){if(this.rushedTimer.t>0&&Math.floor(this.rushedTimer.t/3)>Math.floor((this.rushedTimer.t-.017)/3)&&this.rushedRng.random()<.55){this.endRushedState();return}this.rushedTimer.t>=this.rushedMaxDuration&&this.endRushedState()}}endRushedState(){if(this.isRushed=!1,this.rushedActivations.length>0){let r=this.rushedActivations.length-1;this.rushedActivations[r][1]===-1&&(this.rushedActivations[r][1]=this.pos)}}getMaxStartDashSpeed(){return Math.min(this.targetSpeed,.85*vt(this.course))}logVelocityData(r){console.log("frame: ",this.accumulatetime.t),console.log("current speed: ",this.currentSpeed),console.log("accel: ",this.accel),console.log("dist:",this.pos),console.log("--------------------------------")}step(r){let o=r;if(this.timers.forEach(c=>c.t+=r),this.conditionTimer.t>=0&&(this.tickConditions(),this.conditionTimer.t=-1),this.startDelayAccumulator>0&&(this.startDelayAccumulator-=r,this.startDelayAccumulator>0))return;this.updateHills(),this.updatePhase(),this.updateRushedState(),this.processSkillActivations(),this.applyPositionKeepStates(),this.updatePositionKeepCoefficient(),this.updateLeadCompetition(),this.updateLastSpurtState(),this.updateTargetSpeed(),this.applyForces(),this.applyLaneMovement();let p;this.currentSpeed<=this.targetSpeed?p=Math.min(this.currentSpeed+this.accel*r,this.targetSpeed):p=Math.max(this.currentSpeed+this.accel*r,this.targetSpeed),this.startDash&&p>this.getMaxStartDashSpeed()&&(p=this.getMaxStartDashSpeed()),!this.startDash&&this.currentSpeed<this.minSpeed&&(p=this.minSpeed),this.currentSpeed=p;let f=this.currentSpeed+this.modifiers.currentSpeed.acc+this.modifiers.currentSpeed.err;this.startDelayAccumulator<0&&(o=Math.abs(this.startDelayAccumulator),this.startDelayAccumulator=0),this.pos+=f*o,this.hp.tick(this,r),!this.hp.hasRemainingHp()&&!this.hpDied&&(this.hpDied=!0,this.hpDiedPosition=this.course.distance-this.pos),this.startDash&&this.currentSpeed>=.85*vt(this.course)&&(this.startDash=!1,this.modifiers.accel.add(-24)),this.modifiers.oneFrameAccel=0}applyLaneMovement(){let r=this.currentLane,o=this.getConditionValue("blocked_side")===1,p=this.getConditionValue("overtake")===1;if(this.extraMoveLane<0&&this.isAfterFinalCornerOrInFinalStraight()&&(this.extraMoveLane=Math.min(r/.1,this.course.maxLaneDistance)*.5+this.laneMovementRng.random()*.1),this.activeChangeLaneSkills.length>0?this.targetLane=9.5*this.course.horseLane:p?this.targetLane=Math.max(this.targetLane,this.course.horseLane,this.extraMoveLane):this.hp.hasRemainingHp()?this.positionKeepState===2?this.targetLane=.18:this.extraMoveLane>r?this.targetLane=this.extraMoveLane:this.phase<=1&&!o?this.targetLane=Math.max(0,r-.05):this.targetLane=r:this.targetLane=r,o&&this.targetLane<r||Math.abs(this.targetLane-r)<1e-5)this.laneChangeSpeed=0;else{let f=.02*(.3+.001*this.horse.power);this.pos<this.course.moveLanePoint&&(f*=1+r/this.course.maxLaneDistance*.05),this.laneChangeSpeed=Math.min(this.laneChangeSpeed+this.course.laneChangeAccelerationPerFrame,f);let c=Math.min(this.laneChangeSpeed+this.activeLaneMovementSkills.reduce((l,g)=>l+g.modifier,0),.6);this.targetLane>r?this.currentLane=Math.min(this.targetLane,r+c):this.currentLane=Math.max(this.targetLane,r-c*(1+r))}}updatePacer(r){this.pacer=r}getPacer(){for(let c of[5,1]){var r=this.umas.filter(l=>l.posKeepStrategy===c);if(r.length>0){var o=r.reduce((l,g)=>g.pos>l.pos?g:l,r[0]);return o}}var p=this.umas.find(c=>c.pacerOverride);if(p)return p;for(let c of[2,3,4]){var r=this.umas.filter(g=>we.strategyMatches(g.posKeepStrategy,c));if(r.length>0){var o=r.reduce((b,I)=>I.pos>b.pos?I:b,r[0]);return o.pacerOverride=!0,o.posKeepStrategy=1,o}}var f=this.umas.find(c=>c.isPacer);if(f)return f.posKeepStrategy=1,f}getUmaByDistanceDescending(){return this.umas.sort((r,o)=>o.pos-r.pos)}isOnlyFrontRunner(){var r=this.umas.filter(o=>we.strategyMatches(o.posKeepStrategy,1));return r.length===1&&r[0]===this}speedUpOvertakeWitCheck(){return this.posKeepRng.random()<.2*Math.log10(.1*this.horse.wisdom)}paceUpWitCheck(){return this.posKeepRng.random()<.15*Math.log10(.1*this.horse.wisdom)}applyPositionKeepStates(){if(this.pos>=this.posKeepEnd||this.posKeepMode===0){this.positionKeepState!==0&&this.positionKeepActivations.length>0&&(this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos),this.positionKeepState=0;return}if(this.pacer){var r=this.pacer,o=r.pos-this.pos,p=this.posKeepStrategy;switch(this.positionKeepState){case 0:if(this.posKeepNextTimer.t<0)return;if(we.strategyMatches(p,1))if(r===this){var f=this.getUmaByDistanceDescending(),c=f[1],l=r.pos-c.pos;let g=p===5?17.5:4.5;if(this.posKeepNextTimer.t<0)return;l<g&&this.speedUpOvertakeWitCheck()&&(this.positionKeepActivations.push([this.pos,0,3]),this.positionKeepState=3,this.posKeepExitPosition=this.pos+Math.floor(this.sectionLength))}else this.speedUpOvertakeWitCheck()&&(this.positionKeepState=4,this.positionKeepActivations.push([this.pos,0,4]));else o>this.posKeepMaxThreshold?this.paceUpWitCheck()&&(this.positionKeepState=1,this.positionKeepActivations.push([this.pos,0,1]),this.posKeepExitDistance=this.posKeepRng.random()*(this.posKeepMaxThreshold-this.posKeepMinThreshold)+this.posKeepMinThreshold):o<this.posKeepMinThreshold&&this.activeTargetSpeedSkills.length==0&&this.activeCurrentSpeedSkills.length==0&&(this.positionKeepState=2,this.positionKeepActivations.push([this.pos,0,2]),this.posKeepExitDistance=this.posKeepRng.random()*(this.posKeepMaxThreshold-this.posKeepMinThreshold)+this.posKeepMinThreshold);this.positionKeepState==0?this.posKeepNextTimer.t=-2:this.posKeepExitPosition=this.pos+Math.floor(this.sectionLength);break;case 3:if(this.pos>=this.posKeepExitPosition)this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3;else if(r==this){var f=this.getUmaByDistanceDescending(),c=f[1],l=r.pos-c.pos;let S=p===5?17.5:4.5;l>=S&&(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3)}break;case 4:if(this.pos>=this.posKeepExitPosition)this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3;else if(r==this){var f=this.getUmaByDistanceDescending(),c=f[1],l=this.pos-c.pos;let S=p===5?27.5:10;l>=S&&(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3)}break;case 1:this.pos>=this.posKeepExitPosition?(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3):o<this.posKeepExitDistance&&(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3);break;case 2:this.pos>=this.posKeepExitPosition?(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3):(o>this.posKeepExitDistance||this.activeTargetSpeedSkills.length>0||this.activeCurrentSpeedSkills.length>0)&&(this.positionKeepState=0,this.positionKeepActivations[this.positionKeepActivations.length-1][1]=this.pos,this.posKeepNextTimer.t=-3);break;default:break}}}updatePositionKeepCoefficient(){switch(this.positionKeepState){case 3:this.posKeepSpeedCoef=1.04;break;case 4:this.posKeepSpeedCoef=1.05;case 1:this.posKeepSpeedCoef=1.04;break;case 2:this.posKeepSpeedCoef=.915;break;default:this.posKeepSpeedCoef=1;break}}isOnFinalStraight(){let r=this.course.straights[this.course.straights.length-1];return this.pos>=r.start&&this.pos<=r.end}isAfterFinalCorner(){let r=this.course.corners.length>0?this.course.corners[this.course.corners.length-1].start:1/0;return this.pos>=r}isAfterFinalCornerOrInFinalStraight(){return this.isAfterFinalCorner()||this.isOnFinalStraight()}updateCompeteFight(){if(this.competeFight){this.hp.hpRatioRemaining()<=.05&&(this.competeFight=!1,this.competeFightEnd=this.pos);return}we.strategyMatches(this.posKeepStrategy,1)||this.hp.hpRatioRemaining()<.15||!this.isOnFinalStraight()||this.competeFightTimer.t>=2&&(this.competeFight=!0,this.competeFightStart=this.pos)}updateLeadCompetition(){if(this.leadCompetition){let r=Math.pow(700*this.horse.guts,.5)*.012;(this.leadCompetitionTimer.t>=r||this.pos>=this.leadCompetitionEnd)&&(this.leadCompetition=!1,this.leadCompetitionEnd=this.pos)}if(this.leadCompetitionStart===null&&this.pos>=150&&this.pos<=Math.floor(this.sectionLength*5)&&we.strategyMatches(this.posKeepStrategy,1)){let r=this.umas.filter(f=>f.posKeepStrategy===this.posKeepStrategy),o=this.posKeepStrategy===1?3.75:5,p=r.filter(f=>Math.abs(f.pos-this.pos)<=o);if(p.length>=2)for(let f of p)f.leadCompetitionTimer.t=0,f.leadCompetition=!0,f.leadCompetitionStart=f.pos,f.leadCompetitionEnd=f.pos+Math.floor(this.sectionLength*8)}}updatefirstUmaInLateRace(){if(this.umas.find(g=>g.firstUmaInLateRace))return;let o=this.getUmaByDistanceDescending(),p=o[0];if(p.pos<this.course.distance*2/3)return;let f=Math.round(p.pos*100)/100,c=[];for(let g of o)if(Math.round(g.pos*100)/100===f)c.push(g);else break;let l=c[this.syncRng.uniform(c.length)];l.firstUmaInLateRace=!0}updateLastSpurtState(){if(!(this.isLastSpurt||this.phase<2)){if(this.lastSpurtTransition==-1){let r=this.lastSpurtSpeed,o=this.hp.getLastSpurtPair(this,this.lastSpurtSpeed,this.baseTargetSpeed[2]);this.lastSpurtTransition=o[0],this.lastSpurtSpeed=o[1],this.hp.isMaxSpurt&&this.hp.isMaxSpurt()?this.fullSpurt=!0:(this.nonFullSpurtVelocityDiff=this.lastSpurtSpeed-r,this.nonFullSpurtDelayDistance=this.lastSpurtTransition>=0?this.lastSpurtTransition-this.course.distance*2/3:null)}this.pos>=this.lastSpurtTransition&&(this.isLastSpurt=!0)}}updateTargetSpeed(){if(this.hp.hasRemainingHp()?this.isLastSpurt?this.targetSpeed=this.lastSpurtSpeed:(this.targetSpeed=this.baseTargetSpeed[this.phase]*this.posKeepSpeedCoef,this.targetSpeed+=this.sectionModifier[Math.floor(this.pos/this.sectionLength)]):this.targetSpeed=this.minSpeed,this.targetSpeed+=this.modifiers.targetSpeed.acc+this.modifiers.targetSpeed.err,this.isDownhillMode?this.targetSpeed+=.3+this.slopePer/1e5:this.hillIdx!=-1&&this.slopePer>0&&(this.targetSpeed-=this.slopePer/1e4*200/this.horse.power,this.targetSpeed=Math.max(this.targetSpeed,this.minSpeed)),this.competeFight&&(this.targetSpeed+=Math.pow(200*this.horse.guts,.709)*1e-4),this.leadCompetition&&(this.targetSpeed+=Math.pow(500*this.horse.guts,.6)*1e-4),this.laneChangeSpeed>0&&this.activeLaneMovementSkills.length>0){let r=Math.sqrt(2e-4*this.horse.power);this.targetSpeed+=r}}applyForces(){if(!this.hp.hasRemainingHp()){this.accel=-1.2;return}if(this.currentSpeed>this.targetSpeed){this.accel=this.positionKeepState===2?-.5:Lo[this.phase];return}this.accel=this.baseAccel[+(this.slopePer>0)*3+this.phase],this.accel+=this.modifiers.accel.acc+this.modifiers.accel.err,this.competeFight&&(this.accel+=Math.pow(160*this.horse.guts,.59)*1e-4)}downhillCheck(r){this.slopePer<0&&r<this.horse.wisdom*4e-4&&(this.downhillActivations.push([this.pos,this.pos]),this.isDownhillMode=!0)}updateHills(){if(this.hillIdx==-1&&this.hillStart.length>0&&this.pos>=this.hillStart[this.hillStart.length-1]?(this.hillIdx=this.nHills-this.hillStart.length,this.slopePer=this.course.slopes[this.hillIdx].slope,this.downhillTimer.t=0,this.downhillCheck(this.downhillRng[this.hillIdx].random()),this.hillStart.pop()):this.hillIdx!=-1&&this.hillEnd.length>0&&this.pos>this.hillEnd[this.hillEnd.length-1]&&(this.hillIdx=-1,this.slopePer=0,this.hillEnd.pop(),this.isDownhillMode&&(this.downhillActivations[this.downhillActivations.length-1][1]=this.pos),this.isDownhillMode=!1),this.downhillTimer.t>=1&&this.hillIdx!=-1){let r=this.downhillRng[this.hillIdx].random();this.isDownhillMode&&r>.8?(this.isDownhillMode&&(this.downhillActivations[this.downhillActivations.length-1][1]=this.pos),this.isDownhillMode=!1):this.isDownhillMode||this.downhillCheck(r),this.downhillTimer.t=0}}updatePhase(){this.pos>=this.nextPhaseTransition&&this.phase<2&&(++this.phase,this.nextPhaseTransition=T.phaseStart(this.course.distance,this.phase+1))}processSkillActivations(){for(let r=this.activeTargetSpeedSkills.length;--r>=0;){let o=this.activeTargetSpeedSkills[r];o.durationTimer.t>=0&&(this.activeTargetSpeedSkills.splice(r,1),this.modifiers.targetSpeed.add(-o.modifier),this.onSkillDeactivate(this,o.skillId,o.perspective))}for(let r=this.activeCurrentSpeedSkills.length;--r>=0;){let o=this.activeCurrentSpeedSkills[r];o.durationTimer.t>=0&&(this.activeCurrentSpeedSkills.splice(r,1),this.modifiers.currentSpeed.add(-o.modifier),o.naturalDeceleration&&(this.modifiers.oneFrameAccel+=o.modifier),this.onSkillDeactivate(this,o.skillId,o.perspective))}for(let r=this.activeAccelSkills.length;--r>=0;){let o=this.activeAccelSkills[r];o.durationTimer.t>=0&&(this.activeAccelSkills.splice(r,1),this.modifiers.accel.add(-o.modifier),this.onSkillDeactivate(this,o.skillId,o.perspective))}for(let r=this.activeLaneMovementSkills.length;--r>=0;){let o=this.activeLaneMovementSkills[r];o.durationTimer.t>=0&&(this.activeLaneMovementSkills.splice(r,1),this.onSkillDeactivate(this,o.skillId,o.perspective))}for(let r=this.activeChangeLaneSkills.length;--r>=0;){let o=this.activeChangeLaneSkills[r];o.durationTimer.t>=0&&(this.activeChangeLaneSkills.splice(r,1),this.onSkillDeactivate(this,o.skillId,o.perspective))}for(let r=this.pendingSkills.length;--r>=0;){let o=this.pendingSkills[r];this.pos>=o.trigger.end||this.pendingRemoval.has(o.skillId)?(this.pendingSkills.splice(r,1),this.pendingRemoval.delete(o.skillId)):this.pos>=o.trigger.start&&o.extraCondition(this)&&(!this.shouldSkipWisdomCheck(o)&&!this.checkWisdomForSkill(o)?this.pendingSkills.splice(r,1):(this.activateSkill(o),this.pendingSkills.splice(r,1)))}}checkWisdomForSkill(r){let o=this.wisdomRollRng.random(),p=r.perspective===2&&r.originWisdom!==void 0?r.originWisdom:this.horse.wisdom,f=Math.max(100-9e3/p,20)*.01;return o<=f}shouldSkipWisdomCheck(r){return!this.skillWisdomCheck||r.effects.length>0&&r.effects[0].type>=1&&r.effects[0].type<=5||r.rarity===3}activateSkill(r){r.effects.sort((o,p)=>+(o.type==42)-+(p.type==42)).forEach(o=>{let p=o.baseDuration*(this.course.distance/1e3)*(r.rarity==6?this.modifiers.specialSkillDurationScaling:1);switch(o.type){case 0:break;case 1:this.horse.speed=Math.max(this.horse.speed+o.modifier,1);break;case 2:this.horse.stamina=Math.max(this.horse.stamina+o.modifier,1),this.horse.rawStamina=Math.max(this.horse.rawStamina+o.modifier,1);break;case 3:this.horse.power=Math.max(this.horse.power+o.modifier,1);break;case 4:this.horse.guts=Math.max(this.horse.guts+o.modifier,1);break;case 5:this.horse.wisdom=Math.max(this.horse.wisdom+o.modifier,1);break;case 10:this.startDelay*=o.modifier;break;case 14:this.startDelay=o.modifier;break;case 27:this.modifiers.targetSpeed.add(o.modifier),this.activeTargetSpeedSkills.push({skillId:r.skillId,perspective:r.perspective,durationTimer:this.getNewTimer(-p),modifier:o.modifier});break;case 31:this.modifiers.accel.add(o.modifier),this.activeAccelSkills.push({skillId:r.skillId,perspective:r.perspective,durationTimer:this.getNewTimer(-p),modifier:o.modifier});break;case 28:this.activeLaneMovementSkills.push({skillId:r.skillId,perspective:r.perspective,durationTimer:this.getNewTimer(-p),modifier:o.modifier});break;case 21:case 22:this.modifiers.currentSpeed.add(o.modifier),this.activeCurrentSpeedSkills.push({skillId:r.skillId,perspective:r.perspective,durationTimer:this.getNewTimer(-p),modifier:o.modifier,naturalDeceleration:o.type==22});break;case 9:r.perspective==1&&++this.activateCountHeal,this.hp.recover(o.modifier),this.phase>=2&&!this.isLastSpurt&&this.updateLastSpurtState();break;case 37:this.doActivateRandomGold(o.modifier);break;case 42:this.modifiers.specialSkillDurationScaling=o.modifier;break;case 35:this.activeChangeLaneSkills.push({skillId:r.skillId,perspective:r.perspective,durationTimer:this.getNewTimer(-p),modifier:o.modifier});break}}),r.perspective==1&&++this.activateCount[this.phase],this.usedSkills.add(r.skillId),this.onSkillActivate(this,r.skillId,r.perspective)}doActivateRandomGold(r){let o=this.pendingSkills.reduce((p,f,c)=>((f.rarity==2||f.rarity==6)&&f.effects.every(l=>l.type>5)&&p.push(c),p),[]);for(let p=o.length;--p>=0;){let f=this.gorosiRng.uniform(p+1);[o[p],o[f]]=[o[f],o[p]]}for(let p=0;p<Math.min(r,o.length);++p){let f=this.pendingSkills[o[p]];this.activateSkill(f),this.pendingRemoval.add(f.skillId)}}cleanup(){let r=o=>{this.onSkillDeactivate(this,o.skillId,o.perspective)};this.activeTargetSpeedSkills.forEach(r),this.activeCurrentSpeedSkills.forEach(r),this.activeAccelSkills.forEach(r),this.activeLaneMovementSkills.forEach(r),this.activeChangeLaneSkills.forEach(r)}registerCondition(r,o){this.conditions.set(r,o),this.conditionValues.has(r)||this.conditionValues.set(r,o.valueOnStart)}getConditionValue(r){if(!this.conditionValues.has(r)){if(this.conditions.has(r))return this.conditions.get(r).valueOnStart;throw new Error(`Condition "${r}" is not registered`)}return this.conditionValues.get(r)}tickConditions(){let r={simulation:this};for(let[o,p]of this.conditions.entries()){let f=this.conditionValues.get(o)??p.valueOnStart,c=p.update(r,f);this.conditionValues.set(o,c)}}};Ur();var j=yt(ur());Ur();Gr();function Wr(s){return!0}function Nt(s){return s instanceof F?[s,Wr]:s}var $r=class{constructor(r,o){this.condition=r;this.argument=o;this.samplePolicy=r.samplePolicy}apply(r,o,p,f){return Nt(this.condition.filterEq(r,this.argument,o,p,f))}},Yr=class{constructor(r,o){this.condition=r;this.argument=o;this.samplePolicy=r.samplePolicy}apply(r,o,p,f){return Nt(this.condition.filterNeq(r,this.argument,o,p,f))}},Vr=class{constructor(r,o){this.condition=r;this.argument=o;this.samplePolicy=r.samplePolicy}apply(r,o,p,f){return Nt(this.condition.filterLt(r,this.argument,o,p,f))}},Jr=class{constructor(r,o){this.condition=r;this.argument=o;this.samplePolicy=r.samplePolicy}apply(r,o,p,f){return Nt(this.condition.filterLte(r,this.argument,o,p,f))}},Xr=class{constructor(r,o){this.condition=r;this.argument=o;this.samplePolicy=r.samplePolicy}apply(r,o,p,f){return Nt(this.condition.filterGt(r,this.argument,o,p,f))}},Zr=class{constructor(r,o){this.condition=r;this.argument=o;this.samplePolicy=r.samplePolicy}apply(r,o,p,f){return Nt(this.condition.filterGte(r,this.argument,o,p,f))}},Qr=class{constructor(r,o){this.left=r;this.right=o;this.samplePolicy=r.samplePolicy.reconcile(o.samplePolicy)}apply(r,o,p,f){let[c,l]=this.left.apply(r,o,p,f),[g,b]=this.right.apply(c,o,p,f);return l===Wr&&b===Wr?[g,Wr]:[g,I=>l(I)&&b(I)]}},ei=class{constructor(r,o){this.left=r;this.right=o;this.samplePolicy=r.samplePolicy.reconcile(o.samplePolicy)}apply(r,o,p,f){let[c,l]=this.left.apply(r,o,p,f),[g,b]=this.right.apply(r,o,p,f);return[c.union(g),I=>l(I)||b(I)]}};function V(s,r,o,p,f){throw(0,j.strict)(!1,"unsupported comparison"),0}function Lt(s,r,o,p,f){return s}var ti=Object.freeze({filterEq:Lt,filterNeq:Lt,filterLt:Lt,filterLte:Lt,filterGt:Lt,filterGte:Lt}),ke=Object.freeze(Object.assign({samplePolicy:tt},ti)),I0=Object.freeze(Object.assign({samplePolicy:jr},ti)),Ko=Object.freeze({samplePolicy:tt,filterEq:V,filterNeq:V,filterLt:V,filterLte:V,filterGt:V,filterGte:V});function $(s){return Object.assign({},Ko,s)}var No=Object.freeze({samplePolicy:jr,filterEq:V,filterNeq:V,filterLt:V,filterLte:V,filterGt:V,filterGte:V});function ve(s){return Object.assign({},No,s)}function Vi(s){let r=Object.create(null);return function(...o){let p=o.pop(),f=o.join(","),c=f in r?r[f]:r[f]=Object.freeze(new s(...o));return Object.assign({samplePolicy:c,filterEq:V,filterNeq:V,filterLt:V,filterLte:V,filterGt:V,filterGte:V},p)}}var Ga=Vi(gr),Kt=Vi(_r),C0=Vi(mr);function xe(s,r){return Kt(s,r,ti)}var Ba=C0(ti);function v0(s,r,o,p,f){let c=13*r,l=new F;return s.forEach(g=>{g.start===0?l.push(new D(g.start+c,g.end)):l.push(g)}),l.length>0?l:new F}function Et(s,r){function o(p,f,c,l,g){let b=new D(s*(c.distance/24),r*(c.distance/24));return p.rmap(I=>I.intersect(b))}return ve({filterEq:o,filterNeq:o,filterLt:o,filterLte:o,filterGt:o,filterGte:o})}function pe(s){return $({filterEq(r,o,p,f,c){return s(p,f,c)==o?r:new F},filterNeq(r,o,p,f,c){return s(p,f,c)!=o?r:new F},filterLt(r,o,p,f,c){return s(p,f,c)<o?r:new F},filterLte(r,o,p,f,c){return s(p,f,c)<=o?r:new F},filterGt(r,o,p,f,c){return s(p,f,c)>o?r:new F},filterGte(r,o,p,f,c){return s(p,f,c)>=o?r:new F}})}function S0(s){return $({filterEq(r,o,p,f,c){if(c.orderRange!=null){let l=s(o,c.numUmas);return l>=c.orderRange[0]&&l<=c.orderRange[1]?r:new F}return r},filterNeq(r,o,p,f,c){if(c.orderRange!=null){let l=s(o,c.numUmas);return l<c.orderRange[0]||l>c.orderRange[1]?r:new F}return r},filterLt(r,o,p,f,c){if(c.orderRange!=null){(0,j.strict)(1<=c.orderRange[0]&&c.orderRange[0]<=c.orderRange[1]);let l=new D(T.phaseStart(p.distance,2)+100,p.distance),g=s(o,c.numUmas);return c.orderRange[0]<g?r:r.rmap(b=>b.intersect(l))}return r},filterLte(r,o,p,f,c){if(c.orderRange!=null){(0,j.strict)(1<=c.orderRange[0]&&c.orderRange[0]<=c.orderRange[1]);let l=new D(T.phaseStart(p.distance,2)+100,p.distance),g=s(o,c.numUmas);return c.orderRange[0]<=g?r:r.rmap(b=>b.intersect(l))}return r},filterGt(r,o,p,f,c){return c.orderRange!=null?((0,j.strict)(c.orderRange[0]<=c.orderRange[1]&&c.orderRange[1]<=c.numUmas),s(o,c.numUmas)<c.orderRange[1]?r:new F):r},filterGte(r,o,p,f,c){return c.orderRange!=null?((0,j.strict)(c.orderRange[0]<=c.orderRange[1]&&c.orderRange[1]<=c.numUmas),s(o,c.numUmas)<=c.orderRange[1]?r:new F):r}})}function Yi(s){return $({filterEq(r,o,p,f,c){return(0,j.strict)(o==1,"must be order_rate_inXX_continue==1"),c.orderRange!=null?((0,j.strict)(1<=c.orderRange[0]&&c.orderRange[0]<=c.orderRange[1]),c.orderRange[0]<=Math.round(s*c.numUmas)?r:new F):r}})}function Br(s){return $({filterEq(r,o,p,f,c){return(0,j.strict)(o==1,"must be order_rate_outXX_continue==1"),c.orderRange!=null?((0,j.strict)(c.orderRange[0]<=c.orderRange[1]&&c.orderRange[1]<=c.numUmas),Math.round(s*c.numUmas)<=c.orderRange[1]?r:new F):r}})}var ri=Object.freeze({accumulatetime:$({filterGte(s,r,o,p,f){return[s,c=>c.accumulatetime.t>=r]}}),activate_count_all:$({filterLte(s,r,o,p,f){return[s,c=>c.activateCount.reduce((l,g)=>l+g)<=r]},filterGte(s,r,o,p,f){return[s,c=>c.activateCount.reduce((l,g)=>l+g)>=r]}}),activate_count_end_after:$({filterGte(s,r,o,p,f){return[s,c=>c.activateCount[2]>=r]}}),activate_count_heal:$({filterGte(s,r,o,p,f){return[s,c=>c.activateCountHeal>=r]}}),activate_count_middle:$({filterGte(s,r,o,p,f){return[s,c=>c.activateCount[1]>=r]}}),activate_count_start:$({filterGte(s,r,o,p,f){return[s,c=>c.activateCount[0]>=r]}}),all_corner_random:{samplePolicy:$i,filterEq(s,r,o,p,f){(0,j.strict)(r==1,"must be all_corner_random==1");let c=o.corners.map(l=>new D(l.start,l.start+l.length));return s.rmap(l=>c.map(g=>l.intersect(g)))},filterNeq:V,filterLt:V,filterLte:V,filterGt:V,filterGte:V},always:ke,base_power:pe((s,r,o)=>r.power),base_speed:pe((s,r,o)=>r.speed),base_stamina:pe((s,r,o)=>r.stamina),base_guts:pe((s,r,o)=>r.guts),base_wiz:pe((s,r,o)=>r.wisdom),bashin_diff_behind:xe(3,2),bashin_diff_infront:xe(3,2),behind_near_lane_time:xe(3,2),behind_near_lane_time_set1:xe(3,2),blocked_all_continuetime:xe(3,2),blocked_front:xe(3,2),blocked_front_continuetime:Kt(3,2,{filterGte:v0}),blocked_side_continuetime:Kt(3,2,{filterGte:v0}),change_order_onetime:xe(3,2),change_order_up_end_after:Kt(3,2,{filterGte(s,r,o,p,f){let c=new D(T.phaseStart(o.distance,2),o.distance);return s.rmap(l=>l.intersect(c))}}),change_order_up_finalcorner_after:Kt(3,2,{filterGte(s,r,o,p,f){if((0,j.strict)(T.isSortedByStart(o.corners),"course corners must be sorted by start"),o.corners.length==0)return new F;let c=o.corners[o.corners.length-1].start,l=new D(c,o.distance);return s.rmap(g=>g.intersect(l))}}),change_order_up_middle:Kt(3,2,{filterGte(s,r,o,p,f){let c=new D(T.phaseStart(o.distance,1),T.phaseEnd(o.distance,1));return s.rmap(l=>l.intersect(c))}}),compete_fight_count:C0({filterGt(s,r,o,p,f){(0,j.strict)(T.isSortedByStart(o.straights),"course straights must be sorted by start");let c=o.straights[o.straights.length-1];return s.rmap(l=>l.intersect(c))}}),corner:$({filterEq(s,r,o,p,f){if((0,j.strict)(T.isSortedByStart(o.corners),"course corners must be sorted by start"),r==0){let c=0,l=o.corners.map(g=>{let b=new D(c,g.start);return c=g.start+g.length,b});return c!=o.distance&&l.push(new D(c,o.distance)),s.rmap(g=>l.map(b=>g.intersect(b)))}else if(o.corners.length+r>=5){let c=[];for(let l=o.corners.length+r-5;l>=0;l-=4){let g=o.corners[l];c.push(new D(g.start,g.start+g.length))}return c.reverse(),s.rmap(l=>c.map(g=>l.intersect(g)))}else return new F},filterNeq(s,r,o,p,f){(0,j.strict)(r==0,"only supports corner!=0");let c=o.corners.map(l=>new D(l.start,l.start+l.length));return s.rmap(l=>c.map(g=>l.intersect(g)))}}),corner_count:pe((s,r,o)=>s.corners.length),corner_random:ve({filterEq(s,r,o,p,f){if((0,j.strict)(T.isSortedByStart(o.corners),"course corners must be sorted by start"),["200331","200332","200333","200341","200342","200343","200351","200352","200353","200971","200972","201041","201042","201111","201112","201181","201182","201251","201252","201321","201322","201391","201392","201461","201462"].indexOf(f.skillId)>-1)if(r==1){let c=o.corners[Math.max(o.corners.length-4,0)],l=new D(c.start,c.start+c.length);return s.rmap(g=>g.intersect(l))}else return new F;if(o.corners.length+r>=5){let c=o.corners[o.corners.length+r-5],l=new D(c.start,c.start+c.length);return s.rmap(g=>g.intersect(l))}else return new F}}),course_distance:pe((s,r,o)=>s.distance),distance_diff_rate:ke,distance_diff_top:ke,distance_diff_top_float:ke,distance_rate:$({filterLte(s,r,o,p,f){let c=new D(0,o.distance*r/100);return s.rmap(l=>l.intersect(c))},filterGte(s,r,o,p,f){let c=new D(o.distance*r/100,o.distance);return s.rmap(l=>l.intersect(c))}}),distance_rate_after_random:ve({filterEq(s,r,o,p,f){let c=new D(o.distance*r/100,o.distance);return s.rmap(l=>l.intersect(c))}}),distance_type:$({filterEq(s,r,o,p,f){return T.assertIsDistanceType(r),o.distanceType==r?s:new F},filterNeq(s,r,o,p,f){return T.assertIsDistanceType(r),o.distanceType!=r?s:new F}}),down_slope_random:ve({filterEq(s,r,o,p,f){(0,j.strict)(r==1,"must be down_slope_random==1");let c=o.slopes.filter(l=>l.slope<0).map(l=>new D(l.start,l.start+l.length));return s.rmap(l=>c.map(g=>l.intersect(g)))}}),grade:pe((s,r,o)=>o.grade),ground_condition:pe((s,r,o)=>o.groundCondition),ground_type:pe((s,r,o)=>s.surface),hp_per:$({filterLte(s,r,o,p,f){return r/=100,[s,c=>c.hp.hpRatioRemaining()<=r]},filterGte(s,r,o,p,f){return r/=100,[s,c=>c.hp.hpRatioRemaining()>=r]}}),infront_near_lane_time:xe(3,2),is_activate_other_skill_detail:$({filterEq(s,r,o,p,f){return(0,j.strict)(r==1,"must be is_activate_other_skill_detail==1"),[s,c=>c.usedSkills.has(f.skillId)]}}),is_basis_distance:$({filterEq(s,r,o,p,f){return(0,j.strict)(r==0||r==1,"must be is_basis_distance==0 or is_basis_distance==1"),Math.min(o.distance%400,1)!=r?s:new F}}),is_badstart:$({filterEq(s,r,o,p,f){return(0,j.strict)(r==0||r==1,"must be is_badstart==0 or is_badstart==1"),[s,r?l=>l.startDelay>.08:l=>l.startDelay<=.08]}}),is_behind_in:ke,is_dirtgrade:$({filterEq(s,r,o,p,f){return(0,j.strict)(r==1,"must be is_dirtgrade==1"),[10101,10103,10104,10105].indexOf(o.raceTrackId)>-1?s:new F},filterNeq(s,r,o,p,f){return(0,j.strict)(r==1,"must be is_dirtgrade!=1"),[10101,10103,10104,10105].indexOf(o.raceTrackId)==-1?s:new F}}),is_finalcorner:$({filterEq(s,r,o,p,f){if((0,j.strict)(r==0||r==1,"must be is_finalcorner==0 or is_finalcorner==1"),(0,j.strict)(T.isSortedByStart(o.corners),"course corners must be sorted by start"),o.corners.length==0)return new F;let c=o.corners[o.corners.length-1].start,l=r?new D(c,o.distance):new D(0,c);return s.rmap(g=>g.intersect(l))}}),is_finalcorner_laterhalf:$({filterEq(s,r,o,p,f){if((0,j.strict)(r==1,"must be is_finalcorner_laterhalf==1"),(0,j.strict)(T.isSortedByStart(o.corners),"course corners must be sorted by start"),o.corners.length==0)return new F;let c=o.corners[o.corners.length-1],l=new D((c.start+c.start+c.length)/2,c.start+c.length);return s.rmap(g=>g.intersect(l))}}),is_finalcorner_random:ve({filterEq(s,r,o,p,f){if((0,j.strict)(r==1,"must be is_finalcorner_random==1"),(0,j.strict)(T.isSortedByStart(o.corners),"course corners must be sorted by start"),o.corners.length==0)return new F;let c=o.corners[o.corners.length-1],l=new D(c.start,c.start+c.length);return s.rmap(g=>g.intersect(l))}}),is_hp_empty_onetime:$({filterEq(s,r,o,p,f){return(0,j.strict)(r==1,"must be is_hp_empty_onetime==1"),[s,c=>!c.hp.hasRemainingHp()]}}),is_lastspurt:$({filterEq(s,r,o,p,f){(0,j.strict)(r==1,"must be is_lastspurt==1");let c=new D(T.phaseStart(o.distance,2),o.distance);return[s.rmap(l=>l.intersect(c)),l=>l.isLastSpurt]}}),is_last_straight:$({filterEq(s,r,o,p,f){(0,j.strict)(r==1,"must be is_last_straight_onetime==1"),(0,j.strict)(T.isSortedByStart(o.straights),"course straights must be sorted by start");let c=o.straights[o.straights.length-1];return s.rmap(l=>l.intersect(c))}}),is_last_straight_onetime:$({filterEq(s,r,o,p,f){(0,j.strict)(r==1,"must be is_last_straight_onetime==1"),(0,j.strict)(T.isSortedByStart(o.straights),"course straights must be sorted by start");let c=o.straights[o.straights.length-1].start,l=new D(c,c+10);return s.rmap(g=>g.intersect(l))}}),is_move_lane:xe(5,1),is_overtake:xe(1,2),is_surrounded:xe(3,2),is_temptation:ke,is_used_skill_id:$({filterEq(s,r,o,p,f){return[s,c=>c.usedSkills.has(""+r)]}}),lane_type:ke,lastspurt:$({filterEq(s,r,o,p,f){let c;switch(r){case 1:c=g=>g.isLastSpurt&&g.lastSpurtTransition!=-1;break;case 2:c=g=>g.isLastSpurt&&g.lastSpurtTransition==-1;break;case 3:c=g=>!g.isLastSpurt;break;default:(0,j.strict)(1<=r&&r<=3,"lastspurt case must be 1-3")}let l=new D(T.phaseStart(o.distance,2),o.distance);return[s.rmap(g=>g.intersect(l)),c]}}),motivation:pe((s,r,o)=>o.mood+3),near_count:xe(2,2),order:S0((s,r)=>s),order_rate:S0((s,r)=>Math.round(r*(s/100))),order_rate_in20_continue:Yi(.2),order_rate_in40_continue:Yi(.4),order_rate_in80_continue:Yi(.8),order_rate_out20_continue:Br(.2),order_rate_out40_continue:Br(.4),order_rate_out50_continue:Br(.5),order_rate_out70_continue:Br(.7),overtake_target_no_order_up_time:xe(3,2),overtake_target_time:xe(3,2),phase:{samplePolicy:tt,filterEq(s,r,o,p,f){T.assertIsPhase(r);let c=["100591","900591","110261","910261","110191","910191","120451","920451","101502121"].indexOf(f.skillId)>-1?10:0,l=new D(T.phaseStart(o.distance,r),T.phaseEnd(o.distance,r)+c);return s.rmap(g=>g.intersect(l))},filterNeq:V,filterLt(s,r,o,p,f){T.assertIsPhase(r),(0,j.strict)(r>0,"phase == 0");let c=new D(0,T.phaseStart(o.distance,r));return s.rmap(l=>l.intersect(c))},filterLte(s,r,o,p,f){T.assertIsPhase(r);let c=new D(0,T.phaseEnd(o.distance,r));return s.rmap(l=>l.intersect(c))},filterGt(s,r,o,p,f){T.assertIsPhase(r),(0,j.strict)(r<3,"phase > 2");let c=new D(T.phaseStart(o.distance,r+1),o.distance);return s.rmap(l=>l.intersect(c))},filterGte(s,r,o,p,f){T.assertIsPhase(r);let c=new D(T.phaseStart(o.distance,r),o.distance);return s.rmap(l=>l.intersect(c))}},phase_corner_random:ve({filterEq(s,r,o,p,f){T.assertIsPhase(r);let c=T.phaseStart(o.distance,r),l=T.phaseEnd(o.distance,r),g=o.corners.filter(b=>b.start>=c&&b.start<l||b.start+b.length>=c&&b.start+b.length<l).map(b=>new D(Math.max(b.start,c),Math.min(b.start+b.length,l)));return s.rmap(b=>g.map(I=>b.intersect(I)))}}),phase_firsthalf:$({filterEq(s,r,o,p,f){T.assertIsPhase(r);let c=T.phaseStart(o.distance,r),l=T.phaseEnd(o.distance,r),g=new D(c,c+(l-c)/2);return s.rmap(b=>b.intersect(g))}}),phase_firsthalf_random:ve({filterEq(s,r,o,p,f){T.assertIsPhase(r);let c=T.phaseStart(o.distance,r),l=T.phaseEnd(o.distance,r),g=new D(c,c+(l-c)/2);return s.rmap(b=>b.intersect(g))}}),phase_firstquarter:$({filterEq(s,r,o,p,f){T.assertIsPhase(r);let c=T.phaseStart(o.distance,r),l=T.phaseEnd(o.distance,r),g=new D(c,c+(l-c)/4);return s.rmap(b=>b.intersect(g))}}),phase_firstquarter_random:ve({filterEq(s,r,o,p,f){T.assertIsPhase(r);let c=T.phaseStart(o.distance,r),l=T.phaseEnd(o.distance,r),g=new D(c,c+(l-c)/4);return s.rmap(b=>b.intersect(g))}}),phase_laterhalf_random:ve({filterEq(s,r,o,p,f){T.assertIsPhase(r);let c=T.phaseStart(o.distance,r),l=T.phaseEnd(o.distance,r),g=new D((c+l)/2,l);return s.rmap(b=>b.intersect(g))}}),phase_random:ve({filterEq(s,r,o,p,f){T.assertIsPhase(r);let c=new D(T.phaseStart(o.distance,r),T.phaseEnd(o.distance,r));return s.rmap(l=>l.intersect(c))}}),phase_straight_random:{samplePolicy:Fr,filterEq(s,r,o,p,f){T.assertIsPhase(r);let c=new D(T.phaseStart(o.distance,r),T.phaseEnd(o.distance,r));return s.rmap(l=>o.straights.map(g=>l.intersect(g))).rmap(l=>l.intersect(c))},filterNeq:V,filterLt:V,filterLte:V,filterGt:V,filterGte:V},popularity:ke,post_number:function(){function s(r,o){let p=r.gateRoll%o;return p<9?p:1+(24-p)%8}return $({filterEq(r,o,p,f,c){return[r,l=>s(l,c.numUmas||9)==o]},filterLte(r,o,p,f,c){return[r,l=>s(l,c.numUmas||9)<=o]},filterGte(r,o,p,f,c){return[r,l=>s(l,c.numUmas||9)>=o]}})}(),random_lot:$({filterEq(s,r,o,p,f){return[s,c=>c.randomLot<r]}}),remain_distance:$({filterEq(s,r,o,p,f){let c=new D(o.distance-r,o.distance-r+1);return s.rmap(l=>l.intersect(c))},filterLte(s,r,o,p,f){let c=new D(o.distance-r,o.distance);return s.rmap(l=>l.intersect(c))},filterGte(s,r,o,p,f){let c=new D(0,o.distance-r);return s.rmap(l=>l.intersect(c))}}),rotation:pe((s,r,o)=>s.turn),running_style:$({filterEq(s,r,o,p,f){return we.assertIsStrategy(r),we.strategyMatches(p.strategy,r)?s:new F}}),running_style_count_same:ke,running_style_count_same_rate:ke,running_style_count_nige_otherself:pe((s,r,o)=>+we.strategyMatches(r.strategy,1)),running_style_count_senko_otherself:pe((s,r,o)=>+we.strategyMatches(r.strategy,2)),running_style_count_sashi_otherself:pe((s,r,o)=>+we.strategyMatches(r.strategy,3)),running_style_count_oikomi_otherself:pe((s,r,o)=>+we.strategyMatches(r.strategy,4)),running_style_equal_popularity_one:ke,running_style_temptation_count_nige:Et(2,9),running_style_temptation_count_senko:Et(2,9),running_style_temptation_count_sashi:Et(2,9),running_style_temptation_count_oikomi:Et(2,9),same_skill_horse_count:ke,season:pe((s,r,o)=>o.season),slope:$({filterEq(s,r,o,p,f){(0,j.strict)(r==0||r==1||r==2,"slopeType"),(0,j.strict)(T.isSortedByStart(o.slopes),"course slopes must be sorted by slope start");let c=0,l=o.slopes.filter(b=>r!=2&&b.slope>0||r!=1&&b.slope<0),g=r==0?l.map(b=>{let I=new D(c,b.start);return c=b.start+b.length,I}):l.map(b=>new D(b.start,b.start+b.length));return r==0&&c!=o.distance&&g.push(new D(c,o.distance)),s.rmap(b=>g.map(I=>b.intersect(I)))}}),straight_front_type:$({filterEq(s,r,o,p,f){(0,j.strict)(r==1||r==2,"frontType");let c=o.straights.filter(l=>l.frontType==r);return s.rmap(l=>c.map(g=>l.intersect(g)))}}),straight_random:{samplePolicy:Fr,filterEq(s,r,o,p,f){return(0,j.strict)(r==1,"must be straight_random==1"),s.rmap(c=>o.straights.map(l=>c.intersect(l)))},filterNeq:V,filterLt:V,filterLte:V,filterGt:V,filterGte:V},temptation_count:ke,temptation_count_behind:Et(2,9),temptation_count_infront:Et(2,9),time:pe((s,r,o)=>o.time),track_id:pe((s,r,o)=>s.raceTrackId),up_slope_random:ve({filterEq(s,r,o,p,f){(0,j.strict)(r==1,"must be up_slope_random==1");let c=o.slopes.filter(l=>l.slope>0).map(l=>new D(l.start,l.start+l.length));return s.rmap(l=>c.map(g=>l.intersect(g)))}}),visiblehorse:ke,weather:pe((s,r,o)=>o.weather)});Gr();var Se=class extends Error{constructor(r){super(r)}};function T0(s){return 97<=s&&s<=122||48<=s&&s<=57||s==95}var Ji=class{constructor(r){this.lbp=0;this.value=r}led(r,o){throw new Se("unexpected integer literal")}nud(r){return{type:0,value:this.value}}};function Xi(s=ri,r={and:Qr,or:ei,eq:$r,neq:Yr,lt:Vr,lte:Jr,gt:Xr,gte:Zr}){let o=Object.freeze({lbp:0,led:(P,O)=>{throw new Se("unexpected eof")},nud:P=>{throw new Se("unexpected eof")}});class p{constructor(O){this.lbp=0;this.value=O}led(O,K){throw new Se("unexpected identifier")}nud(O){return{type:1,cond:s[this.value]}}}class f{constructor(O,K){this.lbp=O;this.opclass=K}led(O,K){if(K.type!=1)throw new Se("expected condition on left hand side of comparison");let me=E(O,this.lbp);if(me.type!=0)throw new Se("expected number on right hand side of comparison");return{type:2,op:new this.opclass(K.cond,me.value)}}nud(O){throw new Se("expected expression")}}class c{constructor(O,K){this.lbp=O;this.opclass=K}led(O,K){if(K.type!=2)throw new Se("expected comparison on left hand side of operator");let me=E(O,this.lbp);if(me.type!=2)throw new Se("expected comparison on right hand side of operator");return{type:2,op:new this.opclass(K.op,me.op)}}nud(O){throw new Se("expected expression")}}let l=Object.freeze(new f(30,r.eq)),g=Object.freeze(new f(30,r.neq)),b=Object.freeze(new f(30,r.lt)),I=Object.freeze(new f(30,r.lte)),S=Object.freeze(new f(30,r.gt)),M=Object.freeze(new f(30,r.gte)),R=Object.freeze(new c(20,r.and)),N=Object.freeze(new c(10,r.or));function*q(P){for(var O=0;O<P.length;){var K=P.charCodeAt(O);if(48<=K&&K<=57){for(var me=0;48<=K&&K<=57;)me*=10,me+=K-48,K=P.charCodeAt(++O);yield new Ji(me)}else if(T0(K)){for(var te=O;T0(K);)K=P.charCodeAt(++O);yield new p(P.slice(te,O))}else switch(P[O]){case"=":if(P[++O]!="=")throw new Se("expected =");++O,yield l;break;case"!":if(P[++O]!="=")throw new Se("expected =");++O,yield g;break;case"<":P[++O]=="="?(++O,yield I):yield b;break;case">":P[++O]=="="?(++O,yield M):yield S;break;case"@":yield N,++O;break;case"&":yield R,++O;break;default:throw new Se("invalid character")}}return o}function Q(P){let O={current:o,next:P.next().value,tokens:P};return E(O,0)}function ce(P){let O=Q(P);if(O.type!=2)throw new Se("expected comparison or operator");return O.op}function E(P,O){P.current=P.next,P.next=P.tokens.next().value;for(var K=P.current.nud(P);O<P.next.lbp;)P.current=P.next,P.next=P.tokens.next().value,K=P.current.led(P,K);return K}return{tokenize:q,parse:ce,parseAny:Q}}var Zi={init(s){},tick(s,r){},hasRemainingHp(){return!0},hpRatioRemaining(){return 1},recover(s){},getLastSpurtPair(s,r,o){return[-1,r]}},zo=Object.freeze([0,.95,.89,1,.995,.86]),Ho=Object.freeze([[],[0,1,1,1.02,1.02],[0,1,1,1.01,1.02]].map(s=>Object.freeze(s))),ii=class{constructor(r,o,p){this.achievedMaxSpurt=!1;this.distance=r.distance,this.baseSpeed=20-(r.distance-2e3)/1e3,this.groundModifier=Ho[r.surface][o],this.rng=p,this.maxHp=1,this.hp=1,this.achievedMaxSpurt=!1}init(r){this.maxHp=.8*zo[r.strategy]*r.stamina+this.distance,this.hp=this.maxHp,this.gutsModifier=1+200/Math.sqrt(600*r.guts),this.subparAcceptChance=Math.round((15+.05*r.wisdom)*1e3),this.achievedMaxSpurt=!1}getStatusModifier(r){let o=1;if(r.isDownhillMode&&(o*=.4),r.leadCompetition){let p=r.posKeepStrategy===5;r.isRushed?o*=p?7.7:3.6:o*=p?3.5:1.4}else r.isRushed&&(o*=1.6);return r.positionKeepState===2&&(o*=.6),o}hpPerSecond(r,o){let p=r.phase>=2?this.gutsModifier:1;return 20*Math.pow(o-this.baseSpeed+12,2)/144*this.getStatusModifier(r)*this.groundModifier*p}tick(r,o){this.hp-=this.hpPerSecond(r,r.currentSpeed)*o}hasRemainingHp(){return this.hp>0}hpRatioRemaining(){return Math.max(0,this.hp/this.maxHp)}recover(r){this.hp=Math.min(this.maxHp,this.hp+this.maxHp*r)}getLastSpurtPair(r,o,p){let c=(this.distance-T.phaseStart(this.distance,2)-60)/o,l={phase:2,positionKeepState:0,leadCompetition:!1,posKeepStrategy:r.posKeepStrategy},g=this.hpPerSecond(l,o)*c;if(this.hp>=g)return this.achievedMaxSpurt||(this.achievedMaxSpurt=!0),[-1,o];let b=[],I=this.distance-60-r.pos,S=this.getStatusModifier(l);for(let M=o-.1;M>=p;M-=.1){let N=Math.min(I/M,Math.max(0,(p*this.hp-this.hpPerSecond(l,p)*I)/(p*this.hpPerSecond(l,M)-this.hpPerSecond(l,p)*M)))*M;b.push([this.distance-N-60,M])}b.sort((M,R)=>(M[0]-r.pos)/p+(this.distance-M[0])/M[1]-((R[0]-r.pos)/p+(this.distance-R[0])/R[1]));for(let M=0;M<b.length;++M)if(this.rng.uniform(1e5)<=this.subparAcceptChance)return b[M];return b[b.length-1]}isMaxSpurt(){return this.achievedMaxSpurt}};var yr={"100011":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=1&order_rate<=50&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:5},"100021":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind>=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100031":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=3&bashin_diff_infront<=1&is_overtake==1",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100041":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&order<=5&order_rate<=50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"100051":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order_rate<=30&behind_near_lane_time_set1>=1",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100061":{alternatives:[{baseDuration:5e4,condition:"order>=2&order<=5&order_rate<=50&remain_distance<=201&remain_distance>=199",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100071":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:4},"100081":{alternatives:[{baseDuration:5e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100091":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1@distance_rate>=50&order==2&is_overtake==1",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:4},"100101":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner_laterhalf==1&corner!=0&order>=3&order_rate<=40",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"100111":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=3",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100121":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:3500,target:1,type:27}],precondition:"is_finalcorner==1&is_behind_in==1&change_order_onetime<0&order_rate>=40"}],rarity:5},"100131":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&distance_diff_rate<=30",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100141":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:4},"100151":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&bashin_diff_behind<=1&order<=4@is_finalcorner==1&bashin_diff_infront<=1&order<=4",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100161":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&order>=2&order_rate<=75&is_behind_in==1&change_order_onetime<0",effects:[{modifier:4500,target:1,type:27}],precondition:"phase==1&blocked_side_continuetime>=2"},{baseDuration:5e4,condition:"is_finalcorner==1&order>=2&order_rate<=75&is_behind_in==1&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100171":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&change_order_up_end_after>=3&corner==0",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:5},"100181":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order>=3&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100191":{alternatives:[{baseDuration:5e4,condition:"change_order_up_end_after>=2",effects:[{modifier:3500,target:1,type:27},{modifier:350,target:1,type:28}],precondition:""}],rarity:5},"100201":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"100231":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&change_order_onetime<0&order<=4",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&blocked_side_continuetime>=2&order<=3",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:4},"100251":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&order_rate>=40&order_rate<=70",effects:[{modifier:2500,target:1,type:27},{modifier:-500,target:9,type:21}],precondition:""}],rarity:5},"100261":{alternatives:[{baseDuration:5e4,condition:"is_badstart==0&temptation_count==0&order<=3&is_finalcorner==1&corner==0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100271":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:4},"100281":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=45&distance_rate<=60&order>=3&order_rate<=50&hp_per<=70",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100301":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:3500,target:1,type:27}],precondition:"is_finalcorner==1&order<=4&change_order_onetime<0"}],rarity:5},"100321":{alternatives:[{baseDuration:4e4,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:550,target:1,type:9},{modifier:2500,target:1,type:27}],precondition:""}],rarity:4},"100351":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=5",effects:[{modifier:3500,target:1,type:27}],precondition:"is_finalcorner==1&blocked_side_continuetime>=2"}],rarity:4},"100371":{alternatives:[{baseDuration:5e4,condition:"is_badstart==0&temptation_count==0&order>=3&is_finalcorner==1&corner==0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100381":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&distance_rate<=65&order>=2&order_rate<=40&change_order_onetime<0",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100391":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&blocked_side_continuetime>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100401":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&order_rate>=40&order_rate<=70&is_overtake==1",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100411":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:750,target:1,type:9}],precondition:""}],rarity:4},"100461":{alternatives:[{baseDuration:5e4,condition:"phase==1&corner==0&order<=2&bashin_diff_behind<=1",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100481":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order>=2&order_rate<=30&overtake_target_time>=2@is_finalcorner==1&corner==0&order_rate<=20&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100501":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&order_rate>=40&order_rate<=75&is_overtake==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"100521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:4},"100561":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:3500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:4},"100581":{alternatives:[{baseDuration:5e4,condition:"phase>=2&corner!=0&order>=3&change_order_onetime<0",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"100591":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&is_finalcorner==0&temptation_count==0&order_rate>=50&order_rate<=70@phase==1&corner!=0&is_finalcorner==1&temptation_count==0&order_rate>=50&order_rate<=70",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"100601":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:4},"100611":{alternatives:[{baseDuration:5e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=4&order_rate<=70",effects:[{modifier:4500,target:1,type:27}],precondition:""}],rarity:4},"10071":{alternatives:[{baseDuration:6e4,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:3},"10081":{alternatives:[{baseDuration:5e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10091":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1@distance_rate>=50&order==2&is_overtake==1",effects:[{modifier:1500,target:1,type:27},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:3},"10111":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=3",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10141":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:1500,target:1,type:27},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:3},"10181":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order>=3&change_order_onetime<0",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&blocked_side_continuetime>=2&order<=3",effects:[{modifier:1500,target:1,type:27},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:3},"10271":{alternatives:[{baseDuration:4e4,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:3},"10321":{alternatives:[{baseDuration:4e4,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:350,target:1,type:9},{modifier:1500,target:1,type:27}],precondition:""}],rarity:3},"10351":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=5",effects:[{modifier:2500,target:1,type:27}],precondition:"is_finalcorner==1&blocked_side_continuetime>=2"}],rarity:3},"10411":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:3},"10521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:350,target:1,type:9}],precondition:""}],rarity:3},"10561":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:2500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:3},"10601":{alternatives:[{baseDuration:5e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:3},"10611":{alternatives:[{baseDuration:5e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=4&order_rate<=70",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:3},"110011":{alternatives:[{baseDuration:0,condition:"phase==1&order>=2&order_rate<=70&activate_count_middle>=2",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:5},"110031":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:4500,target:1,type:27}],precondition:"is_finalcorner==1&is_overtake==1&order<=5&order_rate<=50&overtake_target_no_order_up_time>=2"}],rarity:5},"110041":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&activate_count_heal>=1&order<=3",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110061":{alternatives:[{baseDuration:5e4,condition:"activate_count_heal>=3&distance_rate>=50",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31},{modifier:350,target:1,type:9}],precondition:""}],rarity:5},"110111":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0&order_rate>=40",effects:[{modifier:750,target:1,type:9}],precondition:""}],rarity:5},"110131":{alternatives:[{baseDuration:6e4,condition:"is_finalcorner==1&hp_per<=45&order<=3&order_rate<=50&bashin_diff_behind<=1&overtake_target_time>=1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110141":{alternatives:[{baseDuration:4e4,condition:"is_finalcorner==1&corner!=0&is_overtake==1&order>=4&order_rate<=75",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"110171":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&order_rate<=40&overtake_target_time>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110181":{alternatives:[{baseDuration:5e4,condition:"phase==1&order>=3&order_rate<=50&is_overtake==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110231":{alternatives:[{baseDuration:5e4,condition:"order_rate_in40_continue==1&phase==1&distance_rate>=50&order>=2&order_rate<=40",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"110241":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order_rate<=40&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""},{baseDuration:4e4,condition:"is_finalcorner==1&corner!=0&order_rate>=50&order_rate<=80&change_order_onetime<0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:5},"110301":{alternatives:[{baseDuration:0,condition:"phase==1&order>=2&order_rate<=50&overtake_target_time>=1",effects:[{modifier:550,target:1,type:9},{modifier:-50,target:9,type:9}],precondition:""}],rarity:5},"110401":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner!=0&order_rate>=30&order_rate<=70&blocked_side_continuetime>=2",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"110451":{alternatives:[{baseDuration:5e4,condition:"is_finalcorner==1&corner==0&order<=4&bashin_diff_infront<=1",effects:[{modifier:2500,target:1,type:27},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:5},"110561":{alternatives:[{baseDuration:5e4,condition:"distance_rate>=50&order_rate>=40&overtake_target_time>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:5},"200011":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200012":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200013":{alternatives:[{baseDuration:-1,condition:"rotation==1",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200021":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200022":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200023":{alternatives:[{baseDuration:-1,condition:"rotation==2",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200031":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200032":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200033":{alternatives:[{baseDuration:-1,condition:"track_id==10006",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200041":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200042":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200043":{alternatives:[{baseDuration:-1,condition:"track_id==10005",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200051":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200052":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200053":{alternatives:[{baseDuration:-1,condition:"track_id==10009",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200061":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200062":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200063":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200064":{alternatives:[{baseDuration:-1,condition:"track_id==10008",effects:[{modifier:6e5,target:1,type:2},{modifier:6e5,target:1,type:5}],precondition:""}],rarity:2},"200071":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200072":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200073":{alternatives:[{baseDuration:-1,condition:"track_id==10007",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200081":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200082":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200083":{alternatives:[{baseDuration:-1,condition:"track_id==10001",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200091":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200092":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200093":{alternatives:[{baseDuration:-1,condition:"track_id==10002",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200101":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200102":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200103":{alternatives:[{baseDuration:-1,condition:"track_id==10004",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200111":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200112":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200113":{alternatives:[{baseDuration:-1,condition:"track_id==10003",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200121":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200122":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200123":{alternatives:[{baseDuration:-1,condition:"track_id==10010",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200131":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200132":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200133":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==1",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200141":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200142":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200143":{alternatives:[{baseDuration:-1,condition:"is_basis_distance==0",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200151":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:6e5,target:1,type:3}],precondition:""}],rarity:1},"200152":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"200153":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:-4e5,target:1,type:3}],precondition:""}],rarity:1},"200161":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:6e5,target:1,type:3}],precondition:""}],rarity:1},"200162":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"200163":{alternatives:[{baseDuration:-1,condition:"ground_condition==2@ground_condition==3@ground_condition==4",effects:[{modifier:-4e5,target:1,type:3}],precondition:""}],rarity:1},"200171":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200172":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200173":{alternatives:[{baseDuration:-1,condition:"season==1@season==5",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200181":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200182":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200183":{alternatives:[{baseDuration:-1,condition:"season==2",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200191":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200192":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200193":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200194":{alternatives:[{baseDuration:-1,condition:"season==3",effects:[{modifier:6e5,target:1,type:1},{modifier:6e5,target:1,type:3}],precondition:""}],rarity:2},"200201":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200202":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200203":{alternatives:[{baseDuration:-1,condition:"season==4",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200211":{alternatives:[{baseDuration:-1,condition:"weather==1",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200212":{alternatives:[{baseDuration:-1,condition:"weather==1",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200221":{alternatives:[{baseDuration:-1,condition:"weather==2",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200222":{alternatives:[{baseDuration:-1,condition:"weather==2",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200231":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200232":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200233":{alternatives:[{baseDuration:-1,condition:"weather==3",effects:[{modifier:-4e5,target:1,type:4}],precondition:""}],rarity:1},"200241":{alternatives:[{baseDuration:-1,condition:"weather==4",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200242":{alternatives:[{baseDuration:-1,condition:"weather==4",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200251":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:6e5,target:1,type:5}],precondition:""}],rarity:1},"200252":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:4e5,target:1,type:5}],precondition:""}],rarity:1},"200253":{alternatives:[{baseDuration:-1,condition:"post_number<=3",effects:[{modifier:-4e5,target:1,type:5}],precondition:""}],rarity:1},"200261":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200262":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200263":{alternatives:[{baseDuration:-1,condition:"post_number>=6",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200271":{alternatives:[{baseDuration:-1,condition:"running_style_count_same<=1",effects:[{modifier:8e5,target:1,type:1}],precondition:""}],rarity:1},"200272":{alternatives:[{baseDuration:-1,condition:"running_style_count_same<=1",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200281":{alternatives:[{baseDuration:-1,condition:"running_style_count_same_rate>=40",effects:[{modifier:6e5,target:1,type:3}],precondition:""}],rarity:1},"200282":{alternatives:[{baseDuration:-1,condition:"running_style_count_same_rate>=40",effects:[{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"200283":{alternatives:[{baseDuration:-1,condition:"running_style_count_same_rate>=40",effects:[{modifier:-4e5,target:1,type:3}],precondition:""}],rarity:1},"200291":{alternatives:[{baseDuration:-1,condition:"running_style_equal_popularity_one==1",effects:[{modifier:6e5,target:1,type:4}],precondition:""}],rarity:1},"200292":{alternatives:[{baseDuration:-1,condition:"running_style_equal_popularity_one==1",effects:[{modifier:4e5,target:1,type:4}],precondition:""}],rarity:1},"200301":{alternatives:[{baseDuration:-1,condition:"popularity>=4",effects:[{modifier:6e5,target:1,type:1}],precondition:""}],rarity:1},"200302":{alternatives:[{baseDuration:-1,condition:"popularity>=4",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"200311":{alternatives:[{baseDuration:-1,condition:"grade==100",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"200321":{alternatives:[{baseDuration:-1,condition:"popularity==1",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200331":{alternatives:[{baseDuration:24e3,condition:"all_corner_random==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200332":{alternatives:[{baseDuration:24e3,condition:"all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200333":{alternatives:[{baseDuration:24e3,condition:"all_corner_random==1",effects:[{modifier:-2e3,target:1,type:21}],precondition:""}],rarity:1},"200341":{alternatives:[{baseDuration:3e4,condition:"all_corner_random==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200342":{alternatives:[{baseDuration:3e4,condition:"all_corner_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200343":{alternatives:[{baseDuration:3e4,condition:"all_corner_random==1",effects:[{modifier:-2e3,target:1,type:31}],precondition:""}],rarity:1},"200351":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200352":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200353":{alternatives:[{baseDuration:0,condition:"corner_random==1@corner_random==2@corner_random==3@corner_random==4",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200361":{alternatives:[{baseDuration:24e3,condition:"straight_random==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200362":{alternatives:[{baseDuration:24e3,condition:"straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200371":{alternatives:[{baseDuration:3e4,condition:"straight_random==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200372":{alternatives:[{baseDuration:3e4,condition:"straight_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200381":{alternatives:[{baseDuration:0,condition:"straight_random==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200382":{alternatives:[{baseDuration:0,condition:"straight_random==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200391":{alternatives:[{baseDuration:0,condition:"up_slope_random==1",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200401":{alternatives:[{baseDuration:0,condition:"accumulatetime>=2&is_surrounded==1",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200411":{alternatives:[{baseDuration:3e4,condition:"last_straight_random==1&distance_diff_rate>=75",effects:[{modifier:-2e3,target:1,type:21}],precondition:""}],rarity:1},"200421":{alternatives:[{baseDuration:3e4,condition:"remain_distance==200&order==1&bashin_diff_behind>=1",effects:[{modifier:-2e3,target:1,type:21}],precondition:""}],rarity:1},"200431":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:4e3,target:1,type:10}],precondition:""}],rarity:2},"200432":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:9e3,target:1,type:10}],precondition:""}],rarity:1},"200433":{alternatives:[{baseDuration:0,condition:"always==1",effects:[{modifier:15e3,target:1,type:10}],precondition:""}],rarity:1},"200441":{alternatives:[{baseDuration:0,condition:"phase<=1&accumulatetime>=5&blocked_front_continuetime>=1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200442":{alternatives:[{baseDuration:0,condition:"phase<=1&accumulatetime>=5&blocked_front_continuetime>=1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200451":{alternatives:[{baseDuration:3e4,condition:"phase_random==0",effects:[{modifier:450,target:1,type:28}],precondition:""}],rarity:2},"200452":{alternatives:[{baseDuration:3e4,condition:"phase_random==0",effects:[{modifier:350,target:1,type:28}],precondition:""}],rarity:1},"200461":{alternatives:[{baseDuration:18e3,condition:"phase==1&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200462":{alternatives:[{baseDuration:18e3,condition:"phase==1&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200471":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200472":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200481":{alternatives:[{baseDuration:0,condition:"phase==1&is_surrounded==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200482":{alternatives:[{baseDuration:0,condition:"phase==1&is_surrounded==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200491":{alternatives:[{baseDuration:3e4,condition:"infront_near_lane_time>=1&is_lastspurt==1&hp_per>=1",effects:[{modifier:4e3,target:1,type:31},{modifier:250,target:1,type:28}],precondition:""}],rarity:2},"200492":{alternatives:[{baseDuration:3e4,condition:"infront_near_lane_time>=1&is_lastspurt==1&hp_per>=1",effects:[{modifier:2e3,target:1,type:31},{modifier:50,target:1,type:28}],precondition:""}],rarity:1},"200501":{alternatives:[{baseDuration:3e4,condition:"phase_random==2",effects:[{modifier:350,target:1,type:28}],precondition:""}],rarity:2},"200502":{alternatives:[{baseDuration:3e4,condition:"phase_random==2",effects:[{modifier:250,target:1,type:28}],precondition:""}],rarity:1},"200511":{alternatives:[{baseDuration:24e3,condition:"is_lastspurt==1&phase_random==3",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200512":{alternatives:[{baseDuration:24e3,condition:"is_lastspurt==1&phase_random==3",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200521":{alternatives:[{baseDuration:0,condition:"accumulatetime>=2&order==1&bashin_diff_behind>=1",effects:[{modifier:-200,target:1,type:9}],precondition:""}],rarity:1},"200531":{alternatives:[{baseDuration:12e3,condition:"running_style==1&phase==0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200532":{alternatives:[{baseDuration:12e3,condition:"running_style==1&phase==0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200541":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200542":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200551":{alternatives:[{baseDuration:3e4,condition:"running_style==1&is_finalcorner_random==1&order==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200552":{alternatives:[{baseDuration:3e4,condition:"running_style==1&is_finalcorner_random==1&order==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200561":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_laterhalf_random==0&order_rate<=50",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200562":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_laterhalf_random==0&order_rate<=50",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200571":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1&order_rate<=50",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200572":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1&order_rate<=50",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200581":{alternatives:[{baseDuration:18e3,condition:"running_style==2&is_finalcorner_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200582":{alternatives:[{baseDuration:18e3,condition:"running_style==2&is_finalcorner_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200591":{alternatives:[{baseDuration:24e3,condition:"running_style==3&phase_random==1&order_rate>50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200592":{alternatives:[{baseDuration:24e3,condition:"running_style==3&phase_random==1&order_rate>50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200601":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200602":{alternatives:[{baseDuration:18e3,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200611":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_finalcorner==1&corner!=0&is_behind_in==1&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200612":{alternatives:[{baseDuration:3e4,condition:"running_style==3&is_finalcorner==1&corner!=0&is_behind_in==1&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200621":{alternatives:[{baseDuration:0,condition:"running_style==4&phase_random==1&distance_diff_rate>=75",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200622":{alternatives:[{baseDuration:0,condition:"running_style==4&phase_random==1&distance_diff_rate>=75",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200631":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&distance_diff_rate>=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200632":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&distance_diff_rate>=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200641":{alternatives:[{baseDuration:9e3,condition:"running_style==4&is_lastspurt==1&corner==0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200642":{alternatives:[{baseDuration:9e3,condition:"running_style==4&is_lastspurt==1&corner==0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200651":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200652":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200662":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==1&order_rate>50",effects:[{modifier:150,target:1,type:9},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"200671":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==2&order_rate>50",effects:[{modifier:3500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:2},"200672":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==2&order_rate>50",effects:[{modifier:1500,target:1,type:27},{modifier:500,target:1,type:31}],precondition:""}],rarity:1},"200681":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200682":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&accumulatetime>=5&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200691":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_laterhalf_random==0&order_rate>50",effects:[{modifier:550,target:1,type:9},{modifier:-2e3,target:9,type:21}],precondition:""}],rarity:2},"200692":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_laterhalf_random==0&order_rate>50",effects:[{modifier:150,target:1,type:9},{modifier:-500,target:9,type:21}],precondition:""}],rarity:1},"200701":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==2&order_rate>50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200702":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==2&order_rate>50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"200711":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase_random==1&order<=3",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200712":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase_random==1&order<=3",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200721":{alternatives:[{baseDuration:24e3,condition:"distance_type==3&phase_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200722":{alternatives:[{baseDuration:24e3,condition:"distance_type==3&phase_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200731":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&is_finalcorner==1&corner!=0&change_order_onetime>0",effects:[{modifier:3500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:2},"200732":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&is_finalcorner==1&corner!=0&change_order_onetime>0",effects:[{modifier:1500,target:1,type:27},{modifier:500,target:1,type:31}],precondition:""}],rarity:1},"200741":{alternatives:[{baseDuration:0,condition:"distance_type==4&straight_random==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200742":{alternatives:[{baseDuration:0,condition:"distance_type==4&straight_random==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200751":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&is_finalcorner==1&corner!=0&lane_type==0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200752":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&is_finalcorner==1&corner!=0&lane_type==0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200761":{alternatives:[{baseDuration:0,condition:"distance_type==4&hp_per<=30",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"200762":{alternatives:[{baseDuration:0,condition:"distance_type==4&hp_per<=30",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"200771":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate<=50&temptation_count_behind>=1",effects:[{modifier:-100,target:20,type:9}],precondition:""}],rarity:1},"200772":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate<=50&temptation_count_behind>=1",effects:[{modifier:-300,target:20,type:9}],precondition:""}],rarity:2},"200781":{alternatives:[{baseDuration:0,condition:"phase==1&order_rate>50&temptation_count_infront>=1",effects:[{modifier:-100,target:19,type:9}],precondition:""}],rarity:1},"200791":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_nige>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200801":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_senko>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200811":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_sashi>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200821":{alternatives:[{baseDuration:0,condition:"running_style_temptation_count_oikomi>=1&is_temptation==0",effects:[{modifier:5e4,target:21,type:13}],precondition:""}],rarity:1},"200831":{alternatives:[{baseDuration:0,condition:"running_style_count_nige_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200841":{alternatives:[{baseDuration:0,condition:"running_style_count_nige_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200851":{alternatives:[{baseDuration:3e4,condition:"running_style_count_nige_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200861":{alternatives:[{baseDuration:0,condition:"running_style_count_senko_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200871":{alternatives:[{baseDuration:0,condition:"running_style_count_senko_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200881":{alternatives:[{baseDuration:3e4,condition:"running_style_count_senko_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200891":{alternatives:[{baseDuration:0,condition:"running_style_count_sashi_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200901":{alternatives:[{baseDuration:0,condition:"running_style_count_sashi_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200911":{alternatives:[{baseDuration:3e4,condition:"running_style_count_sashi_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200921":{alternatives:[{baseDuration:0,condition:"running_style_count_oikomi_otherself>=1&phase_random==0&accumulatetime>=5",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200931":{alternatives:[{baseDuration:0,condition:"running_style_count_oikomi_otherself>=1&phase_random==1",effects:[{modifier:-100,target:18,type:9}],precondition:""}],rarity:1},"200941":{alternatives:[{baseDuration:3e4,condition:"running_style_count_oikomi_otherself>=1&phase_random==2",effects:[{modifier:-1500,target:18,type:21}],precondition:""}],rarity:1},"200951":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:6e5,target:1,type:2}],precondition:""}],rarity:1},"200952":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:4e5,target:1,type:2}],precondition:""}],rarity:1},"200953":{alternatives:[{baseDuration:-1,condition:"track_id==10101",effects:[{modifier:-4e5,target:1,type:2}],precondition:""}],rarity:1},"200961":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"200962":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200971":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"200972":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200981":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase==1&bashin_diff_behind>=3&order==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"200982":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase==1&bashin_diff_behind>=3&order==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"200991":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_laterhalf_random==1&order>=2&order_rate<=50",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"200992":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_laterhalf_random==1&order>=2&order_rate<=50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201001":{alternatives:[{baseDuration:4e4,condition:"distance_type==1&phase_random==1",effects:[{modifier:350,target:1,type:28},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201002":{alternatives:[{baseDuration:4e4,condition:"distance_type==1&phase_random==1",effects:[{modifier:250,target:1,type:28},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201011":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==0&order_rate<=50&accumulatetime>=5",effects:[{modifier:-2500,target:10,type:21}],precondition:""}],rarity:2},"201012":{alternatives:[{baseDuration:3e4,condition:"distance_type==1&phase_random==0&order_rate<=50&accumulatetime>=5",effects:[{modifier:-2e3,target:10,type:21}],precondition:""}],rarity:1},"201021":{alternatives:[{baseDuration:12e3,condition:"distance_type==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-300,target:9,type:9},{modifier:-2e3,target:9,type:31}],precondition:""}],rarity:2},"201022":{alternatives:[{baseDuration:12e3,condition:"distance_type==1&phase_random==0&order_rate>50&accumulatetime>=5",effects:[{modifier:-100,target:9,type:9},{modifier:-500,target:9,type:31}],precondition:""}],rarity:1},"201031":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201032":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201041":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201042":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201051":{alternatives:[{baseDuration:24e3,condition:"distance_type==2&phase_random==1&order_rate<=50",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201052":{alternatives:[{baseDuration:24e3,condition:"distance_type==2&phase_random==1&order_rate<=50",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201061":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase==1&change_order_onetime<0",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"201062":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase==1&change_order_onetime<0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201071":{alternatives:[{baseDuration:24e3,condition:"distance_type==2&is_overtake==1&accumulatetime>=5",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201072":{alternatives:[{baseDuration:24e3,condition:"distance_type==2&is_overtake==1&accumulatetime>=5",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201081":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==1&order<=3",effects:[{modifier:-2e3,target:10,type:21},{modifier:2500,target:1,type:27}],precondition:""}],rarity:2},"201082":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==1&order<=3",effects:[{modifier:-1500,target:10,type:21},{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201091":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&order_rate>50&accumulatetime>=3",effects:[{modifier:-3e3,target:9,type:31}],precondition:""}],rarity:2},"201092":{alternatives:[{baseDuration:3e4,condition:"distance_type==2&phase_random==0&order_rate>50&accumulatetime>=3",effects:[{modifier:-1e3,target:9,type:31}],precondition:""}],rarity:1},"201101":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201102":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201111":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201112":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201121":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==0",effects:[{modifier:15e4,target:1,type:8}],precondition:""}],rarity:2},"201122":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==0",effects:[{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201131":{alternatives:[{baseDuration:4e4,condition:"distance_type==3&phase_random==1&order_rate>50",effects:[{modifier:350,target:1,type:28},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201132":{alternatives:[{baseDuration:4e4,condition:"distance_type==3&phase_random==1&order_rate>50",effects:[{modifier:250,target:1,type:28},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201141":{alternatives:[{baseDuration:0,condition:"distance_type==3&is_move_lane==1&accumulatetime>=10@distance_type==3&is_move_lane==2&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201142":{alternatives:[{baseDuration:0,condition:"distance_type==3&is_move_lane==1&accumulatetime>=10@distance_type==3&is_move_lane==2&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201151":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==2&order_rate>50",effects:[{modifier:-2500,target:9,type:21}],precondition:""}],rarity:2},"201152":{alternatives:[{baseDuration:3e4,condition:"distance_type==3&phase_random==2&order_rate>50",effects:[{modifier:-1500,target:9,type:21}],precondition:""}],rarity:1},"201161":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase==1&blocked_front_continuetime>=1",effects:[{modifier:-300,target:9,type:9}],precondition:""}],rarity:2},"201162":{alternatives:[{baseDuration:0,condition:"distance_type==3&phase==1&blocked_front_continuetime>=1",effects:[{modifier:-100,target:9,type:9}],precondition:""}],rarity:1},"201171":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201172":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201181":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201182":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201191":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==1&bashin_diff_behind>=1&order==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201192":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==1&bashin_diff_behind>=1&order==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201201":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_overtake==1&accumulatetime>=5",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201202":{alternatives:[{baseDuration:0,condition:"distance_type==4&is_overtake==1&accumulatetime>=5",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201211":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase==2&change_order_onetime<0",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201212":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase==2&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201221":{alternatives:[{baseDuration:0,condition:"distance_type==4&phase_random==1&order>=5",effects:[{modifier:-100,target:9,type:9},{modifier:350,target:1,type:9}],precondition:""}],rarity:2},"201222":{alternatives:[{baseDuration:0,condition:"distance_type==4&phase_random==1&order>=5",effects:[{modifier:-50,target:9,type:9},{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201231":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==2",effects:[{modifier:-1e5,target:9,type:8}],precondition:""}],rarity:2},"201232":{alternatives:[{baseDuration:3e4,condition:"distance_type==4&phase_random==2",effects:[{modifier:-5e4,target:9,type:8}],precondition:""}],rarity:1},"201241":{alternatives:[{baseDuration:3e4,condition:"running_style==1&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201242":{alternatives:[{baseDuration:3e4,condition:"running_style==1&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201251":{alternatives:[{baseDuration:3e4,condition:"running_style==1&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201252":{alternatives:[{baseDuration:3e4,condition:"running_style==1&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201261":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&blocked_front_continuetime>=1@running_style==1&phase==0&blocked_side_continuetime>=1",effects:[{modifier:350,target:1,type:28},{modifier:5e3,target:1,type:35}],precondition:""}],rarity:2},"201262":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase==0&blocked_front_continuetime>=1@running_style==1&phase==0&blocked_side_continuetime>=1",effects:[{modifier:250,target:1,type:28},{modifier:5e3,target:1,type:35}],precondition:""}],rarity:1},"201272":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase<=1&change_order_onetime>0&accumulatetime>=5@running_style==1&phase<=1&blocked_side_continuetime>=2&accumulatetime>=5",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201281":{alternatives:[{baseDuration:0,condition:"running_style==1&slope==1&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201282":{alternatives:[{baseDuration:0,condition:"running_style==1&slope==1&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201291":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order>=2",effects:[{modifier:4e3,target:1,type:31}],precondition:""}],rarity:2},"201292":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==1&order>=2",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201302":{alternatives:[{baseDuration:3e4,condition:"running_style==1&phase_random==0&order>=2&accumulatetime>=5",effects:[{modifier:-1e3,target:9,type:31}],precondition:""}],rarity:1},"201311":{alternatives:[{baseDuration:3e4,condition:"running_style==2&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201312":{alternatives:[{baseDuration:3e4,condition:"running_style==2&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201321":{alternatives:[{baseDuration:3e4,condition:"running_style==2&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201322":{alternatives:[{baseDuration:3e4,condition:"running_style==2&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201331":{alternatives:[{baseDuration:3e4,condition:"running_style==2&is_move_lane==1@running_style==2&is_move_lane==2",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201332":{alternatives:[{baseDuration:3e4,condition:"running_style==2&is_move_lane==1@running_style==2&is_move_lane==2",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201341":{alternatives:[{baseDuration:3e4,condition:"running_style==2&down_slope_random==1",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201342":{alternatives:[{baseDuration:3e4,condition:"running_style==2&down_slope_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201351":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201352":{alternatives:[{baseDuration:0,condition:"running_style==2&phase_random==1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201361":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==1&order_rate>40",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201362":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==1&order_rate>40",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201371":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:-5e4,target:10,type:8}],precondition:""}],rarity:2},"201372":{alternatives:[{baseDuration:3e4,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:-3e4,target:10,type:8}],precondition:""}],rarity:1},"201381":{alternatives:[{baseDuration:3e4,condition:"running_style==3&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201382":{alternatives:[{baseDuration:3e4,condition:"running_style==3&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201391":{alternatives:[{baseDuration:3e4,condition:"running_style==3&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201392":{alternatives:[{baseDuration:3e4,condition:"running_style==3&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201401":{alternatives:[{baseDuration:4e4,condition:"running_style==3&is_overtake==1&accumulatetime>=5",effects:[{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201402":{alternatives:[{baseDuration:4e4,condition:"running_style==3&is_overtake==1&accumulatetime>=5",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201411":{alternatives:[{baseDuration:24e3,condition:"running_style==3&up_slope_random==1",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201412":{alternatives:[{baseDuration:24e3,condition:"running_style==3&up_slope_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201421":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201422":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201431":{alternatives:[{baseDuration:3e4,condition:"running_style==3&phase_random==1",effects:[{modifier:15e4,target:1,type:8}],precondition:""}],rarity:2},"201432":{alternatives:[{baseDuration:3e4,condition:"running_style==3&phase_random==1",effects:[{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201441":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:-300,target:4,type:9}],precondition:""}],rarity:2},"201442":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_random==2&order_rate>50",effects:[{modifier:-100,target:4,type:9}],precondition:""}],rarity:1},"201451":{alternatives:[{baseDuration:3e4,condition:"running_style==4&straight_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201452":{alternatives:[{baseDuration:3e4,condition:"running_style==4&straight_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201461":{alternatives:[{baseDuration:3e4,condition:"running_style==4&all_corner_random==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"201462":{alternatives:[{baseDuration:3e4,condition:"running_style==4&all_corner_random==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201471":{alternatives:[{baseDuration:3e4,condition:"running_style==4&is_move_lane==1@running_style==4&is_move_lane==2",effects:[{modifier:1e5,target:1,type:8}],precondition:""}],rarity:2},"201472":{alternatives:[{baseDuration:3e4,condition:"running_style==4&is_move_lane==1@running_style==4&is_move_lane==2",effects:[{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201481":{alternatives:[{baseDuration:0,condition:"running_style==4&slope==2&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201482":{alternatives:[{baseDuration:0,condition:"running_style==4&slope==2&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201491":{alternatives:[{baseDuration:0,condition:"running_style==4&blocked_front_continuetime>=1&accumulatetime>=10",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201492":{alternatives:[{baseDuration:0,condition:"running_style==4&blocked_front_continuetime>=1&accumulatetime>=10",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201501":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order_rate>50",effects:[{modifier:15e4,target:1,type:8}],precondition:""}],rarity:2},"201502":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order_rate>50",effects:[{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201511":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order>=2",effects:[{modifier:-2500,target:4,type:21}],precondition:""}],rarity:2},"201512":{alternatives:[{baseDuration:3e4,condition:"running_style==4&phase_random==2&order>=2",effects:[{modifier:-1500,target:4,type:21}],precondition:""}],rarity:1},"201521":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201522":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201531":{alternatives:[{baseDuration:-1,condition:"running_style==2",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201532":{alternatives:[{baseDuration:-1,condition:"running_style==2",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201541":{alternatives:[{baseDuration:-1,condition:"running_style==3",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201542":{alternatives:[{baseDuration:-1,condition:"running_style==3",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201551":{alternatives:[{baseDuration:-1,condition:"running_style==4",effects:[{modifier:6e5,target:1,type:5},{modifier:1e5,target:1,type:8}],precondition:""}],rarity:1},"201552":{alternatives:[{baseDuration:-1,condition:"running_style==4",effects:[{modifier:4e5,target:1,type:5},{modifier:5e4,target:1,type:8}],precondition:""}],rarity:1},"201561":{alternatives:[{baseDuration:-1,condition:"random_lot==50&post_number==7",effects:[{modifier:6e5,target:1,type:1},{modifier:6e5,target:1,type:2},{modifier:6e5,target:1,type:3}],precondition:""}],rarity:2},"201562":{alternatives:[{baseDuration:-1,condition:"random_lot==50&post_number==7",effects:[{modifier:4e5,target:1,type:1},{modifier:4e5,target:1,type:2},{modifier:4e5,target:1,type:3}],precondition:""}],rarity:1},"201571":{alternatives:[{baseDuration:0,condition:"remain_distance<=778&remain_distance>=776",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201581":{alternatives:[{baseDuration:3e4,condition:"up_slope_random==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201591":{alternatives:[{baseDuration:3e4,condition:"near_count>=3&accumulatetime>=5",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201592":{alternatives:[{baseDuration:3e4,condition:"near_count>=3&accumulatetime>=5",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201601":{alternatives:[{baseDuration:3e4,condition:"activate_count_start>=3",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201611":{alternatives:[{baseDuration:3e4,condition:"activate_count_middle>=3",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201621":{alternatives:[{baseDuration:0,condition:"activate_count_end_after>=3",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201631":{alternatives:[{baseDuration:-1,condition:"same_skill_horse_count>=5",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"201641":{alternatives:[{baseDuration:-1,condition:"same_skill_horse_count==1",effects:[{modifier:4e5,target:1,type:1}],precondition:""}],rarity:1},"201651":{alternatives:[{baseDuration:3e4,condition:"infront_near_lane_time>=3&accumulatetime>=10",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201661":{alternatives:[{baseDuration:3e4,condition:"behind_near_lane_time>=3&accumulatetime>=10",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201671":{alternatives:[{baseDuration:24e3,condition:"ground_type==2&phase==1&blocked_side_continuetime>=2",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201672":{alternatives:[{baseDuration:24e3,condition:"ground_type==2&phase==1&blocked_side_continuetime>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201681":{alternatives:[{baseDuration:3e4,condition:"ground_type==2&phase_random==2",effects:[{modifier:350,target:1,type:28},{modifier:3e3,target:1,type:31}],precondition:""}],rarity:2},"201682":{alternatives:[{baseDuration:3e4,condition:"ground_type==2&phase_random==2",effects:[{modifier:250,target:1,type:28},{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"201691":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_laterhalf_random==0&order_rate>=50",effects:[{modifier:550,target:1,type:9}],precondition:""}],rarity:2},"201692":{alternatives:[{baseDuration:0,condition:"running_style==3&phase_laterhalf_random==0&order_rate>=50",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"201701":{alternatives:[{baseDuration:24e3,condition:"distance_type==3&is_lastspurt==1&corner==0&order_rate>=20&order_rate<=60",effects:[{modifier:3500,target:1,type:27}],precondition:""}],rarity:2},"201702":{alternatives:[{baseDuration:24e3,condition:"distance_type==3&is_lastspurt==1&corner==0&order_rate>=20&order_rate<=60",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"201801":{alternatives:[{baseDuration:-1,condition:"ground_condition==1",effects:[{modifier:-4e5,target:1,type:1}],precondition:""}],rarity:1},"201902":{alternatives:[{baseDuration:18e3,condition:"running_style==2&phase_random==2&order_rate<=50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"202022":{alternatives:[{baseDuration:4e4,condition:"running_style==4&phase_random==1&order_rate>=50",effects:[{modifier:500,target:1,type:27}],precondition:""}],rarity:1},"202032":{alternatives:[{baseDuration:18e3,condition:"distance_rate_after_random==50",effects:[{modifier:2500,target:1,type:27},{modifier:-1e4,target:1,type:9}],precondition:""}],rarity:1},"202051":{alternatives:[{baseDuration:-1,condition:"running_style==1",effects:[{modifier:0,target:1,type:6}],precondition:""}],rarity:2},"210011":{alternatives:[{baseDuration:18e3,condition:"phase_random==1",effects:[{modifier:4200,target:1,type:27}],precondition:""}],rarity:2},"210012":{alternatives:[{baseDuration:18e3,condition:"phase_random==1",effects:[{modifier:1800,target:1,type:27}],precondition:""}],rarity:1},"210021":{alternatives:[{baseDuration:0,condition:"phase_random==1",effects:[{modifier:660,target:1,type:9}],precondition:""}],rarity:2},"210022":{alternatives:[{baseDuration:0,condition:"phase_random==1",effects:[{modifier:180,target:1,type:9}],precondition:""}],rarity:1},"210031":{alternatives:[{baseDuration:12e3,condition:"phase_random==2",effects:[{modifier:4800,target:1,type:31}],precondition:""}],rarity:2},"210032":{alternatives:[{baseDuration:12e3,condition:"phase_random==2",effects:[{modifier:2400,target:1,type:31}],precondition:""}],rarity:1},"210041":{alternatives:[{baseDuration:18e3,condition:"phase_random==2",effects:[{modifier:3e3,target:1,type:27},{modifier:3600,target:1,type:31}],precondition:""}],rarity:2},"210042":{alternatives:[{baseDuration:18e3,condition:"phase_random==2",effects:[{modifier:600,target:1,type:27},{modifier:1200,target:1,type:31}],precondition:""}],rarity:1},"210051":{alternatives:[{baseDuration:4e4,condition:"phase_random==0",effects:[{modifier:420,target:1,type:28},{modifier:18e4,target:1,type:8}],precondition:""}],rarity:2},"210052":{alternatives:[{baseDuration:4e4,condition:"phase_random==0",effects:[{modifier:180,target:1,type:28},{modifier:6e4,target:1,type:8}],precondition:""}],rarity:1},"900011":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order>=1&order_rate<=50&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27},{modifier:500,target:1,type:31}],precondition:""}],rarity:1},"900021":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order==1&bashin_diff_behind>=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900031":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=3&bashin_diff_infront<=1&is_overtake==1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900041":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&order<=5&order_rate<=50",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900051":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order_rate<=30&behind_near_lane_time_set1>=1",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900061":{alternatives:[{baseDuration:3e4,condition:"order>=2&order<=5&order_rate<=50&remain_distance<=201&remain_distance>=199",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900071":{alternatives:[{baseDuration:36e3,condition:"distance_rate>=50&distance_rate<=60&order_rate>50",effects:[{modifier:500,target:1,type:27}],precondition:""}],rarity:1},"900081":{alternatives:[{baseDuration:3e4,condition:"order>=3&order_rate<=50&remain_distance<=200&bashin_diff_infront<=1@order>=3&order_rate<=50&remain_distance<=200&bashin_diff_behind<=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900091":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order==1&bashin_diff_behind<=1@distance_rate>=50&order==2&is_overtake==1",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900101":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner_laterhalf==1&corner!=0&order>=3&order_rate<=40",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900111":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&change_order_onetime<0&order>=3",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900121":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:1500,target:1,type:27}],precondition:"is_finalcorner==1&is_behind_in==1&change_order_onetime<0&order_rate>=40"}],rarity:1},"900131":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&distance_diff_rate<=30",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900141":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&hp_per>=30&order<=2",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900151":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&bashin_diff_behind<=1&order<=4@is_finalcorner==1&bashin_diff_infront<=1&order<=4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900161":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&order>=2&order_rate<=75&is_behind_in==1&change_order_onetime<0",effects:[{modifier:2500,target:1,type:27}],precondition:"phase==1&blocked_side_continuetime>=2"},{baseDuration:3e4,condition:"is_finalcorner==1&order>=2&order_rate<=75&is_behind_in==1&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900171":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&change_order_up_end_after>=3&corner==0",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"900181":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&order>=3&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900191":{alternatives:[{baseDuration:3e4,condition:"change_order_up_end_after>=2",effects:[{modifier:1500,target:1,type:27},{modifier:150,target:1,type:28}],precondition:""}],rarity:1},"900201":{alternatives:[{baseDuration:24e3,condition:"phase>=2&corner!=0&order==1",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900231":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&change_order_onetime<0&order<=4",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900241":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&blocked_side_continuetime>=2&order<=3",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900251":{alternatives:[{baseDuration:36e3,condition:"distance_rate>=50&order_rate>=40&order_rate<=70",effects:[{modifier:500,target:1,type:27},{modifier:-250,target:9,type:21}],precondition:""}],rarity:1},"900261":{alternatives:[{baseDuration:3e4,condition:"is_badstart==0&temptation_count==0&order<=3&is_finalcorner==1&corner==0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900271":{alternatives:[{baseDuration:24e3,condition:"phase>=2&corner!=0&order_rate>=65&order_rate<=70",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900281":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=45&distance_rate<=60&order>=3&order_rate<=50&hp_per<=70",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900301":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:1500,target:1,type:27}],precondition:"is_finalcorner==1&order<=4&change_order_onetime<0"}],rarity:1},"900321":{alternatives:[{baseDuration:24e3,condition:"distance_rate>=50&corner!=0&order>=3&order_rate<=40",effects:[{modifier:150,target:1,type:9},{modifier:500,target:1,type:27}],precondition:""}],rarity:1},"900351":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=5",effects:[{modifier:1500,target:1,type:27}],precondition:"is_finalcorner==1&blocked_side_continuetime>=2"}],rarity:1},"900371":{alternatives:[{baseDuration:3e4,condition:"is_badstart==0&temptation_count==0&order>=3&is_finalcorner==1&corner==0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900381":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&distance_rate<=65&order>=2&order_rate<=40&change_order_onetime<0",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900391":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&blocked_side_continuetime>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900401":{alternatives:[{baseDuration:36e3,condition:"distance_rate>=50&order_rate>=40&order_rate<=70&is_overtake==1",effects:[{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900411":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order<=3&blocked_side_continuetime>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900451":{alternatives:[{baseDuration:0,condition:"phase_random==1&order>=2&order_rate<=40",effects:[{modifier:350,target:1,type:9}],precondition:""}],rarity:1},"900461":{alternatives:[{baseDuration:3e4,condition:"phase==1&corner==0&order<=2&bashin_diff_behind<=1",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900481":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order>=2&order_rate<=30&overtake_target_time>=2@is_finalcorner==1&corner==0&order_rate<=20&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900501":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&order_rate>=40&order_rate<=75&is_overtake==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900521":{alternatives:[{baseDuration:0,condition:"is_finalcorner==1&corner!=0&order_rate>50&near_count>=1",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"900561":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order>=3&blocked_front==1",effects:[{modifier:1500,target:1,type:27},{modifier:500,target:1,type:31}],precondition:""}],rarity:1},"900581":{alternatives:[{baseDuration:3e4,condition:"phase>=2&corner!=0&order>=3&change_order_onetime<0",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"900591":{alternatives:[{baseDuration:24e3,condition:"phase>=2&corner!=0&is_finalcorner==0&temptation_count==0&order_rate>=50&order_rate<=70@phase==1&corner!=0&is_finalcorner==1&temptation_count==0&order_rate>=50&order_rate<=70",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"900601":{alternatives:[{baseDuration:3e4,condition:"phase>=2&order==3&bashin_diff_behind<=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"900611":{alternatives:[{baseDuration:3e4,condition:"temptation_count==0&remain_distance<=201&remain_distance>=199&order>=4&order_rate<=70",effects:[{modifier:2500,target:1,type:27}],precondition:""}],rarity:1},"910011":{alternatives:[{baseDuration:0,condition:"phase==1&order>=2&order_rate<=70&activate_count_middle>=2",effects:[{modifier:150,target:1,type:9}],precondition:""}],rarity:1},"910031":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0",effects:[{modifier:2500,target:1,type:27}],precondition:"is_finalcorner==1&is_overtake==1&order<=5&order_rate<=50&overtake_target_no_order_up_time>=2"}],rarity:1},"910041":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&activate_count_heal>=1&order<=3",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910061":{alternatives:[{baseDuration:3e4,condition:"activate_count_heal>=3&distance_rate>=50",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31},{modifier:50,target:1,type:9}],precondition:""}],rarity:1},"910111":{alternatives:[{baseDuration:0,condition:"phase==1&change_order_onetime>0&order_rate>=40",effects:[{modifier:350,target:1,type:9}],precondition:""}],rarity:1},"910131":{alternatives:[{baseDuration:36e3,condition:"is_finalcorner==1&hp_per<=45&order<=3&order_rate<=50&bashin_diff_behind<=1&overtake_target_time>=1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910141":{alternatives:[{baseDuration:24e3,condition:"is_finalcorner==1&corner!=0&is_overtake==1&order>=4&order_rate<=75",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"910171":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&order_rate<=40&overtake_target_time>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910181":{alternatives:[{baseDuration:3e4,condition:"phase==1&order>=3&order_rate<=50&is_overtake==1",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910231":{alternatives:[{baseDuration:3e4,condition:"order_rate_in40_continue==1&phase==1&distance_rate>=50&order>=2&order_rate<=40",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1},"910241":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&order_rate<=40&change_order_onetime<0",effects:[{modifier:1500,target:1,type:27}],precondition:""},{baseDuration:24e3,condition:"is_finalcorner==1&corner!=0&order_rate>=50&order_rate<=80&change_order_onetime<0",effects:[{modifier:2e3,target:1,type:31}],precondition:""}],rarity:1},"910301":{alternatives:[{baseDuration:0,condition:"phase==1&order>=2&order_rate<=50&overtake_target_time>=1",effects:[{modifier:150,target:1,type:9},{modifier:-25,target:9,type:9}],precondition:""}],rarity:1},"910401":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner!=0&order_rate>=30&order_rate<=70&blocked_side_continuetime>=2",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"910451":{alternatives:[{baseDuration:3e4,condition:"is_finalcorner==1&corner==0&order<=4&bashin_diff_infront<=1",effects:[{modifier:500,target:1,type:27},{modifier:1e3,target:1,type:31}],precondition:""}],rarity:1},"910561":{alternatives:[{baseDuration:3e4,condition:"distance_rate>=50&order_rate>=40&overtake_target_time>=2",effects:[{modifier:1500,target:1,type:27}],precondition:""}],rarity:1}};var jo=Object.freeze([null,[0,0,0,0,-50],[0,0,0,0,-50]].map(s=>Object.freeze(s))),Fo=Object.freeze([null,[0,0,-50,-50,-50],[0,-100,-50,-100,-100]].map(s=>Object.freeze(s))),Go=Object.freeze([1.1,1,.85,.75,.6,.4,.2,.1]),R0;(p=>{p.StrategyDistanceCoefficient=Object.freeze([[],[0,1,.7,.75,.7,1],[0,1,.8,.7,.75,1],[0,1,.9,.875,.86,1],[0,1,.9,1,.9,1]]),p.BaseModifier=.00875;function o(f,c,l){return p.BaseModifier*Math.sqrt(f-1200)*p.StrategyDistanceCoefficient[l][c]}p.calcApproximateModifier=o})(R0||={});var w0;(o=>{function s(p){return p<2101?0:p<2201?.5:p<2401?1:p<2601?1.2:1.5}o.distanceFactor=s;function r(p,f){return Math.sqrt(p-1200)*.0085*s(f)*1}o.calcApproximateModifier=r})(w0||={});function Bo(s){if(typeof s!="string")return s;switch(s.toUpperCase()){case"NIGE":return 1;case"SENKOU":return 2;case"SASI":case"SASHI":return 3;case"OIKOMI":return 4;case"OONIGE":return 5;default:throw new Error("Invalid running strategy.")}}function Qi(s,r){if(typeof s!="string")return s;switch(s.toUpperCase()){case"S":return 0;case"A":return 1;case"B":return 2;case"C":return 3;case"D":return 4;case"E":return 5;case"F":return 6;case"G":return 7;default:throw new Error("Invalid "+r+" aptitude.")}}function Wo(s){if(typeof s!="string")return s;switch(s.toUpperCase()){case"GOOD":return 1;case"YIELDING":return 2;case"SOFT":return 3;case"HEAVY":return 4;default:throw new Error("Invalid ground condition.")}}function $o(s){if(typeof s!="string")return s;switch(s.toUpperCase()){case"SUNNY":return 1;case"CLOUDY":return 2;case"RAINY":return 3;case"SNOWY":return 4;default:throw new Error("Invalid weather.")}}function Yo(s){if(typeof s!="string")return s;switch(s.toUpperCase()){case"SPRING":return 1;case"SUMMER":return 2;case"AUTUMN":return 3;case"WINTER":return 4;case"SAKURA":return 5;default:throw new Error("Invalid season.")}}function Vo(s){if(typeof s!="string")return s;switch(s.toUpperCase()){case"NONE":case"NOTIME":return 0;case"MORNING":return 1;case"MIDDAY":return 2;case"EVENING":return 3;case"NIGHT":return 4;default:throw new Error("Invalid race time.")}}function Jo(s){if(typeof s!="string")return s;switch(s.toUpperCase()){case"G1":return 100;case"G2":return 200;case"G3":return 300;case"OP":return 400;case"PRE-OP":case"PREOP":return 700;case"MAIDEN":return 800;case"DEBUT":return 900;case"DAILY":return 999;default:throw new Error("Invalid race grade.")}}function br(s){return s>1200?1200+Math.floor((s-1200)/2):s}function vr(s,r){let o=1+.02*s.mood;return Object.freeze({speed:br(s.speed)*o,stamina:br(s.stamina)*o,power:br(s.power)*o,guts:br(s.guts)*o,wisdom:br(s.wisdom)*o,strategy:Bo(s.strategy),distanceAptitude:Qi(s.distanceAptitude,"distance"),surfaceAptitude:Qi(s.surfaceAptitude,"surface"),strategyAptitude:Qi(s.strategyAptitude,"strategy"),rawStamina:s.stamina*o})}function Sr(s,r,o){let p=T.courseSpeedModifier(r,s);return Object.freeze({speed:Math.max(s.speed*p+jo[r.surface][o],1),stamina:s.stamina,power:Math.max(s.power+Fo[r.surface][o],1),guts:s.guts,wisdom:s.wisdom*Go[s.strategyAptitude],strategy:s.strategy,distanceAptitude:s.distanceAptitude,surfaceAptitude:s.surfaceAptitude,strategyAptitude:s.strategyAptitude,rawStamina:s.rawStamina})}function Xo(s,r){return r==2||s==3||s==1==(r==1)}function D0(s,r){return s.effects.map(o=>({type:Wi.hasOwnProperty(o.type)&&Xo(r,o.target)?o.type:0,baseDuration:s.baseDuration/1e4,modifier:o.modifier/1e4}))}function P0(s,r,o,p,f,c,l,g=!1){if(!(c in yr))throw new Error("bad skill ID "+c);let b=Object.assign({skillId:c},r),I=yr[c].alternatives,S=[];for(let R=0;R<I.length;++R){let N=I[R],q=new F;if(p.forEach(O=>q.push(O)),N.precondition){let K=f.parse(f.tokenize(N.precondition)).apply(p,o,s,b)[0];if(K.length==0)continue;{let me=new D(K[0].start,p[p.length-1].end);q=q.rmap(te=>te.intersect(me))}}let Q=f.parse(f.tokenize(N.condition)),[ce,E]=Q.apply(q,o,s,b);if(ce.length==0||S.length>0&&!/is_activate_other_skill_detail|is_used_skill_id/.test(N.condition))continue;let P=D0(N,l);if(P.length>0||g){let O=yr[c].rarity;S.push({skillId:c,perspective:l,rarity:O>=3&&O<=5?3:O,samplePolicy:Q.samplePolicy,regions:ce,extraCondition:E,effects:P})}}if(S.length>0)return S;let M=D0(I[0],l);if(M.length==0&&!g)return[];{let R=yr[c].rarity,N=new F;return N.push(new D(9999,9999)),[{skillId:c,perspective:l,rarity:R>=3&&R<=5?3:R,samplePolicy:tt,regions:N,extraCondition:q=>!1,effects:M}]}}var Zo=Object.freeze(Object.assign({},ri,{activate_count_all:ve({filterGte(s,r,o,p,f){if(r==7){let l=new F;return s.forEach(g=>l.push(new D(g.start,g.start+11))),l}let c=new D(Math.min(r/23-.2,.6)*o.distance,Math.min(r/23+.2,1)*o.distance);return s.rmap(l=>l.intersect(c))},filterLte(s,r,o,p,f){return new F}}),activate_count_end_after:ve({filterGte(s,r,o,p,f){let c=new D(T.phaseStart(o.distance,2),T.phaseEnd(o.distance,3));return s.rmap(l=>l.intersect(c))}}),activate_count_heal:I0,activate_count_later_half:ve({filterGte(s,r,o,p,f){let c=new D(o.distance/2,o.distance);return s.rmap(l=>l.intersect(c))}}),activate_count_middle:ve({filterGte(s,r,o,p,f){let c=T.phaseStart(o.distance,1),l=T.phaseEnd(o.distance,1),g=new D(c,c+r/10*(l-c));return s.rmap(b=>b.intersect(g))}}),activate_count_start:$({filterGte(s,r,o,p,f){let c=new D(T.phaseStart(o.distance,0),T.phaseEnd(o.distance,0));return s.rmap(l=>l.intersect(c))}})})),Qo=Xi(),ea=Xi(Zo),ni=class s{constructor(r){this.nsamples=r;this._course=null,this._raceParams={mood:2,groundCondition:1,weather:1,season:1,time:2,grade:100,popularity:1},this._horse=null,this._pacerSkillData=[],this._pacerTriggers=[],this._pacerSkills=[],this._pacerSkillIds=[],this._pacerSpeedUpRate=100,this._seed=Math.floor(Math.random()*(-1>>>0))>>>0,this._rng=new he(this._seed),this._parser=Qo,this._skills=[],this._samplePolicyOverride=new Map,this._extraSkillHooks=[],this._onSkillActivate=null,this._onSkillDeactivate=null,this._posKeepMode=0,this._mode=void 0,this._skillWisdomCheck=void 0,this._rushedKakari=void 0}seed(r){return this._seed=r,this._rng=new he(r),this}course(r){return typeof r=="number"?this._course=T.getCourse(r):this._course=r,this}mood(r){return this._raceParams.mood=r,this}ground(r){return this._raceParams.groundCondition=Wo(r),this}weather(r){return this._raceParams.weather=$o(r),this}season(r){return this._raceParams.season=Yo(r),this}time(r){return this._raceParams.time=Vo(r),this}grade(r){return this._raceParams.grade=Jo(r),this}popularity(r){return this._raceParams.popularity=r,this}order(r,o){return this._raceParams.orderRange=[r,o],this}numUmas(r){return this._raceParams.numUmas=r,this}horse(r){return this._horse=r,this}pacerSpeedUpRate(r){return this._pacerSpeedUpRate=r,this}getSamplePolicyKey(r,o){return`${r}:${o}`}_isNige(){return typeof this._horse.strategy=="string"?this._horse.strategy.toUpperCase()=="NIGE"||this._horse.strategy.toUpperCase()=="OONIGE":this._horse.strategy==1||this._horse.strategy==5}setupPacer(r){let o=r,p=o?vr(o,o.mood):null,f=o?Sr(p,this._course,this._raceParams.groundCondition):null,c=new F;c.push(new D(0,this._course.distance)),Object.freeze(c);let l=[];if(p){this._pacerSkillIds=r.skills;let g=P0.bind(null,p,this._raceParams,this._course,c,this._parser);l=this._pacerSkillIds.flatMap(b=>g(b,1)),this._pacerSkillData=l}return f}setupPacerSkillTriggers(r){let o=new F;o.push(new D(0,this._course.distance)),Object.freeze(o);let p=[];this._pacerSkillIds.length>0&&(p=this._pacerSkillData.map(f=>{let c=f.perspective!=null?this.getSamplePolicyKey(f.skillId,f.perspective):f.skillId;return(this._samplePolicyOverride.get(c)||f.samplePolicy).sample(f.regions,this.nsamples,r)})),this._pacerTriggers=p}buildPacer(r,o,p){this.setupPacerSkillTriggers(p);let f=this._pacerSkillData.length>0?this._pacerSkillData.map((c,l)=>({skillId:c.skillId,perspective:c.perspective,rarity:c.rarity,trigger:this._pacerTriggers[l][o%this._pacerTriggers[l].length],extraCondition:c.extraCondition,effects:c.effects})):this._pacerSkills;return r?new hr({horse:r,course:this._course,hp:Zi,skills:f,rng:p,speedUpProbability:this._pacerSpeedUpRate,posKeepMode:this._posKeepMode,mode:this._mode,isPacer:!0}):null}pacer(r){return this.setupPacer(r)}useDefaultPacer(r=!1){let o=Object.assign({},this._horse,{strategy:"Nige"});return r&&(this._pacerSkills=[{skillId:"201601",perspective:1,rarity:1,trigger:new D(0,100),extraCondition:p=>!0,effects:[{type:31,baseDuration:3,modifier:.2}]},{skillId:"200532",perspective:1,rarity:1,trigger:new D(0,100),extraCondition:p=>!0,effects:[{type:31,baseDuration:1.2,modifier:.2}]}]),this.setupPacer(o)}withActivateCountsAsRandom(){return this._parser=ea,this}withAsiwotameru(){let r=this._horse.power*(1+.02*this._raceParams.mood);return this._extraSkillHooks.push((o,p,f)=>{let c=o.reduce((l,g)=>{let b=g.effects.find(I=>I.type==3);return b&&g.regions.length>0&&g.regions[0].start<9999?l+b.modifier:l},r);if(c>1200){let l=new F;l.push(new D(T.phaseStart(f.distance,2),f.distance)),o.push({skillId:"asitame",perspective:1,rarity:1,regions:l,samplePolicy:tt,extraCondition:g=>!0,effects:[{type:31,baseDuration:3/(f.distance/1e3),modifier:R0.calcApproximateModifier(c,p.strategy,f.distanceType)}]})}}),this}withStaminaSyoubu(){return this._extraSkillHooks.push((r,o,p)=>{let f=r.reduce((c,l)=>{let g=l.effects.find(b=>b.type==2);return g&&l.regions.length>0&&l.regions[0].start<9999?c+g.modifier:c},o.rawStamina);if(f>1200){let c=new F;c.push(new D(T.phaseStart(p.distance,2),p.distance)),r.push({skillId:"staminasyoubu",perspective:1,rarity:1,regions:c,samplePolicy:tt,extraCondition:l=>l.currentSpeed>=l.lastSpurtSpeed,effects:[{type:27,baseDuration:9999,modifier:w0.calcApproximateModifier(f,p.distance)}]})}}),this}addSkill(r,o=1,p,f){return this._skills.push({id:r,p:o,originWisdom:f}),p!=null&&this._samplePolicyOverride.set(this.getSamplePolicyKey(r,o),p),this}addSkillAtPosition(r,o,p=1,f){let{createFixedPositionPolicy:c}=(Gr(),To(b0));return this.addSkill(r,p,c(o),f)}posKeepMode(r){return this._posKeepMode=r,this}mode(r){return this._mode=r,this}skillWisdomCheck(r){return this._skillWisdomCheck=r,this}rushedKakari(r){return this._rushedKakari=r,this}onSkillActivate(r){return this._onSkillActivate=r,this}onSkillDeactivate(r){return this._onSkillDeactivate=r,this}desync(){this.seed(this._rng.int32())}fork(){let r=new s(this.nsamples);return r._course=this._course,r._raceParams=Object.assign({},this._raceParams),r._horse=this._horse,r._pacerSkills=this._pacerSkills.slice(),r._pacerSkillIds=this._pacerSkillIds.slice(),r._pacerSpeedUpRate=this._pacerSpeedUpRate,r._pacerSkillData=this._pacerSkillData.slice(),r._pacerTriggers=this._pacerTriggers.slice(),r.seed(this._seed),r._parser=this._parser,r._skills=this._skills.slice(),r._onSkillActivate=this._onSkillActivate,r._onSkillDeactivate=this._onSkillDeactivate,r._posKeepMode=this._posKeepMode,r._mode=this._mode,r._skillWisdomCheck=this._skillWisdomCheck,r._extraSkillHooks=this._extraSkillHooks.slice(),r}*build(){let r=vr(this._horse,this._horse.mood),o=new he(this._rng.int32()),p=new F;p.push(new D(0,this._course.distance)),Object.freeze(p);let f=P0.bind(null,r,this._raceParams,this._course,p,this._parser),c=this._skills.flatMap(({id:g,p:b})=>f(g,b));this._extraSkillHooks.forEach(g=>g(c,r,this._course));let l=c.map(g=>{let b=g.perspective!=null?this.getSamplePolicyKey(g.skillId,g.perspective):g.skillId;return(this._samplePolicyOverride.get(b)||g.samplePolicy).sample(g.regions,this.nsamples,o)});r=Sr(r,this._course,this._raceParams.groundCondition);for(let g=0;g<this.nsamples;++g){let b=new he(this._rng.int32()),I=c.map((N,q)=>({skillId:N.skillId,perspective:N.perspective,rarity:N.rarity,trigger:l[q][g%l[q].length],extraCondition:N.extraCondition,effects:N.effects,originWisdom:this._skills[q].originWisdom})),S=new he(this._rng.int32()),M=this._mode==="compare"?new ii(this._course,this._raceParams.groundCondition,S):Zi;(yield new hr({horse:r,course:this._course,skills:I,hp:M,rng:b,onSkillActivate:this._onSkillActivate,onSkillDeactivate:this._onSkillDeactivate,posKeepMode:this._posKeepMode,mode:this._mode,skillWisdomCheck:this._skillWisdomCheck,rushedKakari:this._rushedKakari}))&&--g}}};function Ir(s,r,o,p,f,c,l){let g=new ni(s).seed(l.seed).course(r).ground(o.groundCondition).weather(o.weather).season(o.season).time(o.time).posKeepMode(l.posKeepMode).mode(l.mode);o.orderRange!=null&&g.order(o.orderRange[0],o.orderRange[1]).numUmas(o.numUmas);let b=g.fork();l.mode==="compare"&&!l.syncRng&&g.desync();let I=p.update("skills",x=>Array.from(x.values())).toJS(),S=f.update("skills",x=>Array.from(x.values())).toJS();g.horse(I),b.horse(S),l.skillWisdomCheck===!1&&(g.skillWisdomCheck(!1),b.skillWisdomCheck(!1)),l.rushedKakari===!1&&(g.rushedKakari(!1),b.rushedKakari(!1));let M=p.skills.keySeq().toSet().intersect(f.skills.keySeq().toSet()).toArray().sort((x,L)=>+x-+L),R=x=>{let L=M.indexOf(He[x].groupId);return L>-1?L:M.length},N=(x,L)=>R(x)-R(L)||+x-+L,q=p.toJS(),Q=vr(q,q.mood),E=Sr(Q,r,o.groundCondition).wisdom,P=f.toJS(),O=vr(P,P.mood),me=Sr(O,r,o.groundCondition).wisdom;I.skills.sort(N).forEach(x=>{let L=p.forcedSkillPositions.get(x);L!=null?g.addSkillAtPosition(x,L,1):g.addSkill(x,1)}),S.skills.sort(N).forEach(x=>{let L=f.forcedSkillPositions.get(x);L!=null?b.addSkillAtPosition(x,L,1):b.addSkill(x,1)}),I.skills.forEach(x=>{let L=p.forcedSkillPositions.get(x);L!=null?b.addSkillAtPosition(x,L,2,E):b.addSkill(x,2,void 0,E)}),S.skills.forEach(x=>{let L=f.forcedSkillPositions.get(x);L!=null?g.addSkillAtPosition(x,L,2,me):g.addSkill(x,2,void 0,me)});let te=null;if(l.posKeepMode===1)te=g.useDefaultPacer(!0);else if(l.posKeepMode===2)if(c){let x=c.update("skills",L=>Array.from(L.values()));te=g.pacer(x)}else te=g.useDefaultPacer();let qe=new Map,ie=new Map;function Ie(x){return function(L,de,G){G==1&&de!="asitame"&&de!="staminasyoubu"&&(x.has(de)||x.set(de,[]),x.get(de).push([L.pos,-1]))}}function Ue(x){return function(L,de,G){if(G==1&&de!="asitame"&&de!="staminasyoubu"){let A=x.get(de).find(Re=>Re[1]==-1);A!=null&&(A[1]=Math.min(L.pos,r.distance))}}}g.onSkillActivate(Ie(qe)),g.onSkillDeactivate(Ue(qe)),b.onSkillActivate(Ie(ie)),b.onSkillDeactivate(Ue(ie));let rt=g.build(),Cr=b.build(),se=1,fe=0,Je=1,ne=[],Xe=1/0,Pe=-1/0,it,Me,Ce=1/0,St=1/0,Ht,dt,Y,X,oe=[new Map,new Map],Ze=[new Map,new Map],qt=Math.max(Math.floor(s*.8),s-200),ut=!1,Ut=0,It={uma1:{lengths:[],count:0},uma2:{lengths:[],count:0}},Ct={uma1:{lengths:[],count:0},uma2:{lengths:[],count:0}},J={uma1:{hpDiedCount:0,fullSpurtCount:0,total:0,hpDiedPositionsFullSpurt:[],hpDiedPositionsNonFullSpurt:[],nonFullSpurtVelocityDiffs:[],nonFullSpurtDelayDistances:[]},uma2:{hpDiedCount:0,fullSpurtCount:0,total:0,hpDiedPositionsFullSpurt:[],hpDiedPositionsNonFullSpurt:[],nonFullSpurtVelocityDiffs:[],nonFullSpurtDelayDistances:[]}},Ke={uma1:{firstPlaceCount:0,total:0},uma2:{firstPlaceCount:0,total:0}},ge=new he(l.seed+1);for(let x=0;x<s;++x){let L=[];for(let C=0;C<l.pacemakerCount;++C){let k=new he(ge.int32()),U=te!=null?g.buildPacer(te,x,k):null;L.push(U)}let de=L.length>0?L[0]:null,G=rt.next(ut).value,B=Cr.next(ut).value,A={t:[[],[]],p:[[],[]],v:[[],[]],hp:[[],[]],currentLane:[[],[]],pacerGap:[[],[]],sk:[null,null],sdly:[0,0],rushed:[[],[]],posKeep:[[],[]],competeFight:[[],[]],leadCompetition:[[],[]],downhillActivations:[[],[]],pacerV:[[],[],[]],pacerP:[[],[],[]],pacerT:[[],[],[]],pacerPosKeep:[[],[],[]],pacerLeadCompetition:[[],[],[]]};G.initUmas([B,...L]),B.initUmas([G,...L]),L.forEach(C=>{C?.initUmas([G,B,...L.filter(k=>k!==C)])});let Re=!1,Ne=!1,ze=0;for(;!Re||!Ne;){let C=null;de&&(C=de.getPacer(),de.umas.forEach(k=>{k.updatePacer(C)})),B.pos<r.distance&&A.pacerGap[se].push(C?C.pos-B.pos:void 0),G.pos<r.distance&&A.pacerGap[fe].push(C?C.pos-G.pos:void 0);for(let k=0;k<l.pacemakerCount;k++){let U=k<L.length?L[k]:null;!U||U.pos>=r.distance||(U.step(1/15),A.pacerV[k].push(U?U.currentSpeed+(U.modifiers.currentSpeed.acc+U.modifiers.currentSpeed.err):void 0),A.pacerP[k].push(U?U.pos:void 0),A.pacerT[k].push(U?U.accumulatetime.t:void 0))}B.pos<r.distance?(B.step(1/15),A.t[se].push(B.accumulatetime.t),A.p[se].push(B.pos),A.v[se].push(B.currentSpeed+(B.modifiers.currentSpeed.acc+B.modifiers.currentSpeed.err)),A.hp[se].push(B.hp.hp),A.currentLane[se].push(B.currentLane)):Ne||(Ne=!0,A.sdly[se]=B.startDelay,A.rushed[se]=B.rushedActivations.slice(),A.posKeep[se]=B.positionKeepActivations.slice(),A.downhillActivations[se]=B.downhillActivations.slice(),B.competeFightStart!=null&&(A.competeFight[se]=[B.competeFightStart,B.competeFightEnd!=null?B.competeFightEnd:r.distance]),B.leadCompetitionStart!=null&&(A.leadCompetition[se]=[B.leadCompetitionStart,B.leadCompetitionEnd!=null?B.leadCompetitionEnd:r.distance])),G.pos<r.distance?(G.step(1/15),A.t[fe].push(G.accumulatetime.t),A.p[fe].push(G.pos),A.v[fe].push(G.currentSpeed+(G.modifiers.currentSpeed.acc+G.modifiers.currentSpeed.err)),A.hp[fe].push(G.hp.hp),A.currentLane[fe].push(G.currentLane)):Re||(Re=!0,A.sdly[fe]=G.startDelay,A.rushed[fe]=G.rushedActivations.slice(),A.posKeep[fe]=G.positionKeepActivations.slice(),A.downhillActivations[fe]=G.downhillActivations.slice(),G.competeFightStart!=null&&(A.competeFight[fe]=[G.competeFightStart,G.competeFightEnd!=null?G.competeFightEnd:r.distance]),G.leadCompetitionStart!=null&&(A.leadCompetition[fe]=[G.leadCompetitionStart,G.leadCompetitionEnd!=null?G.leadCompetitionEnd:r.distance])),B.updatefirstUmaInLateRace()}if(B.cleanup(),G.cleanup(),A.p[se].length<=A.p[fe].length){let C=A.p[se].length;ze=A.p[se][C-1]-A.p[fe][C-1]}else{let C=A.p[fe].length;ze=A.p[se][C-1]-A.p[fe][C-1]}L.forEach(C=>{if(C&&C.pos<r.distance){C.step(1/15);for(let k=0;k<3;k++)k<L.length&&L[k]===C&&(A.pacerV[k].push(C?C.currentSpeed+(C.modifiers.currentSpeed.acc+C.modifiers.currentSpeed.err):void 0),A.pacerP[k].push(C?C.pos:void 0),A.pacerT[k].push(C?C.accumulatetime.t:void 0))}});for(let C=0;C<l.pacemakerCount;C++){let k=C<L.length?L[C]:null;A.pacerPosKeep[C]=k?k.positionKeepActivations.slice():[],k&&k.leadCompetitionStart!=null?A.pacerLeadCompetition[C]=[k.leadCompetitionStart,k.leadCompetitionEnd!=null?k.leadCompetitionEnd:r.distance]:A.pacerLeadCompetition[C]=[]}A.sk[1]=new Map(ie),A.sk[0]=new Map(qe);let ae=[];qe.forEach((C,k)=>{oe[0].has(k)||oe[0].set(k,[]),C.forEach(U=>{if(Array.isArray(U)&&U.length>=1&&typeof U[0]=="number"){let je=U[0];oe[0].get(k).push(je),ae.push({skillId:k,activationPos:je,umaIndex:0})}})}),ie.forEach((C,k)=>{oe[1].has(k)||oe[1].set(k,[]),C.forEach(U=>{if(Array.isArray(U)&&U.length>=1&&typeof U[0]=="number"){let je=U[0];oe[1].get(k).push(je),ae.push({skillId:k,activationPos:je,umaIndex:1})}})}),ie.clear(),qe.clear(),ut=!1;let nt=(C,k)=>{let U=k?J.uma1:J.uma2;U.total++,C.hpDied&&(U.hpDiedCount++,C.hpDiedPosition!=null&&(C.fullSpurt?U.hpDiedPositionsFullSpurt.push(C.hpDiedPosition):U.hpDiedPositionsNonFullSpurt.push(C.hpDiedPosition))),C.fullSpurt?U.fullSpurtCount++:(C.nonFullSpurtVelocityDiff!=null&&U.nonFullSpurtVelocityDiffs.push(C.nonFullSpurtVelocityDiff),C.nonFullSpurtDelayDistance!=null&&U.nonFullSpurtDelayDistances.push(C.nonFullSpurtDelayDistance));let je=k?Ke.uma1:Ke.uma2;if(je.total++,C.firstUmaInLateRace&&je.firstPlaceCount++,C.rushedActivations.length>0){let[Ft,Tt]=C.rushedActivations[0],Gt=Tt-Ft,pt=k?It.uma1:It.uma2;pt.lengths.push(Gt),pt.count++}if(C.leadCompetitionStart!=null){let Ft=C.leadCompetitionStart,Gt=(C.leadCompetitionEnd!=null?C.leadCompetitionEnd:r.distance)-Ft,pt=k?Ct.uma1:Ct.uma2;pt.lengths.push(Gt),pt.count++}};nt(G,!0),nt(B,!1);let Oe=Je*ze/2.5;if(ne.push(Oe),ae.forEach(({skillId:C,activationPos:k,umaIndex:U})=>{Ze[U].has(C)||Ze[U].set(C,[]),Ze[U].get(C).push([k,Oe])}),Oe<Xe&&(Xe=Oe,Ht=A),Oe>Pe&&(Pe=Oe,dt=A),x==qt){ne.sort((k,U)=>k-U),it=ne.reduce((k,U)=>k+U)/ne.length;let C=Math.floor(ne.length/2);Me=C>0&&ne.length%2==0?(ne[C-1]+ne[C])/2:ne[C]}if(x>=qt){let C=Math.abs(Oe-it),k=Math.abs(Oe-Me);C<Ce&&(Ce=C,Y=A),k<St&&(St=k,X=A)}}ne.sort((x,L)=>x-L);let Ae=x=>{if(x.lengths.length===0)return{min:0,max:0,mean:0,frequency:0};let L=Math.min(...x.lengths),de=Math.max(...x.lengths),G=x.lengths.reduce((A,Re)=>A+Re,0)/x.lengths.length,B=x.count/s*100;return{min:L,max:de,mean:G,frequency:B}},Te={uma1:Ae(It.uma1),uma2:Ae(It.uma2)},Qe={uma1:Ae(Ct.uma1),uma2:Ae(Ct.uma2)},ye=x=>{if(x.length===0)return{count:0,min:null,max:null,mean:null,median:null};let L=[...x].sort((Ne,ze)=>Ne-ze),de=L[0],G=L[L.length-1],B=x.reduce((Ne,ze)=>Ne+ze,0)/x.length,A=Math.floor(L.length/2),Re=L.length%2===0?(L[A-1]+L[A])/2:L[A];return{count:x.length,min:de,max:G,mean:B,median:Re}},jt={uma1:{staminaSurvivalRate:J.uma1.total>0?(J.uma1.total-J.uma1.hpDiedCount)/J.uma1.total*100:0,fullSpurtRate:J.uma1.total>0?J.uma1.fullSpurtCount/J.uma1.total*100:0,hpDiedPositionStatsFullSpurt:ye(J.uma1.hpDiedPositionsFullSpurt),hpDiedPositionStatsNonFullSpurt:ye(J.uma1.hpDiedPositionsNonFullSpurt),nonFullSpurtVelocityStats:ye(J.uma1.nonFullSpurtVelocityDiffs),nonFullSpurtDelayStats:ye(J.uma1.nonFullSpurtDelayDistances)},uma2:{staminaSurvivalRate:J.uma2.total>0?(J.uma2.total-J.uma2.hpDiedCount)/J.uma2.total*100:0,fullSpurtRate:J.uma2.total>0?J.uma2.fullSpurtCount/J.uma2.total*100:0,hpDiedPositionStatsFullSpurt:ye(J.uma2.hpDiedPositionsFullSpurt),hpDiedPositionStatsNonFullSpurt:ye(J.uma2.hpDiedPositionsNonFullSpurt),nonFullSpurtVelocityStats:ye(J.uma2.nonFullSpurtVelocityDiffs),nonFullSpurtDelayStats:ye(J.uma2.nonFullSpurtDelayDistances)}},si={uma1:{firstPlaceRate:Ke.uma1.total>0?Ke.uma1.firstPlaceCount/Ke.uma1.total*100:0},uma2:{firstPlaceRate:Ke.uma2.total>0?Ke.uma2.firstPlaceCount/Ke.uma2.total*100:0}},Tr={sk:[oe[0],oe[1]],skBasinn:[Ze[0],Ze[1]],totalRuns:s,rushed:[Te.uma1,Te.uma2],leadCompetition:[Qe.uma1,Qe.uma2]};return{results:ne,runData:{minrun:Ht,maxrun:dt,meanrun:Y,medianrun:X,allruns:Tr},staminaStats:jt,firstUmaStats:si}}function oi(s,r){let o=s instanceof Map?Object.fromEntries(s):s||{},p=r instanceof Map?Object.fromEntries(r):r||{},f={...o};return Object.entries(p).forEach(([c,l])=>{f[c]=[...f[c]||[],...l||[]]}),f}function ta(s,r){console.assert(s.id==r.id,`mergeResults: ${s.id} != ${r.id}`);let o=s.results.length,p=r.results.length,f=s.results.concat(r.results).sort((O,K)=>O-K),c=(s.mean*o+r.mean*p)/(o+p),l=Math.floor(f.length/2),g=f.length%2==0?(f[l-1]+f[l])/2:f[l],b=s.runData?.allruns||{},I=r.runData?.allruns||{},{skBasinn:S,sk:M,totalRuns:R,...N}=b,{skBasinn:q,sk:Q,totalRuns:ce,...E}=I,P={...N,...E,totalRuns:(R||0)+(ce||0)};return S&&q?P.skBasinn=[oi(S[0]||{},q[0]||{}),oi(S[1]||{},q[1]||{})]:(S||q)&&(P.skBasinn=S||q),M&&Q?P.sk=[oi(M[0]||{},Q[0]||{}),oi(M[1]||{},Q[1]||{})]:(M||Q)&&(P.sk=M||Q),{id:s.id,results:f,min:Math.min(s.min,r.min),max:Math.max(s.max,r.max),mean:c,median:g,runData:{...p>o?r.runData:s.runData,allruns:P,minrun:s.min<r.min?s.runData.minrun:r.runData.minrun,maxrun:s.max>r.max?s.runData.maxrun:r.runData.maxrun}}}function en(s,r){r.forEach((o,p)=>{s.set(p,ta(s.get(p),o))})}function ai(s,r,o,p,f,c,l){let g=new Map;return r.forEach(b=>{let I=He[b]?.groupId,S=f.skills;I&&(S=S.filter(E=>He[E]?.groupId!==I));let M=f.set("skills",S.set(He[b].groupId,b)),{results:R,runData:N}=Ir(s,o,p,f,M,c,l),q=Math.floor(R.length/2),Q=R.length%2==0?(R[q-1]+R[q])/2:R[q],ce=R.reduce((E,P)=>E+P,0)/R.length;g.set(b,{id:b,results:R,runData:N,min:R[0],max:R[R.length-1],mean:ce,median:Q})}),g}function ra({skills:s,course:r,racedef:o,uma:p,pacer:f,options:c}){let l=new Ye(p).set("skills",(0,zt.fromJS)(p.skills)).set("forcedSkillPositions",(0,ct.Map)(p.forcedSkillPositions||{})),g=f?new Ye(f).set("skills",(0,zt.fromJS)(f.skills||[])).set("forcedSkillPositions",(0,ct.Map)(f.forcedSkillPositions||{})):null;postMessage({type:"chart-progress",round:1,total:4});let b=ai(5,s,r,o,l,g,c);postMessage({type:"chart",results:b}),s=s.filter(S=>b.get(S).max>.1),postMessage({type:"chart-progress",round:2,total:4});let I=ai(20,s,r,o,l,g,c);en(b,I),postMessage({type:"chart",results:b}),s=s.filter(S=>Math.abs(b.get(S).max-b.get(S).min)>.1),postMessage({type:"chart-progress",round:3,total:4}),I=ai(50,s,r,o,l,g,c),en(b,I),postMessage({type:"chart",results:b}),postMessage({type:"chart-progress",round:4,total:4}),I=ai(200,s,r,o,l,g,c),en(b,I),postMessage({type:"chart",results:b}),postMessage({type:"chart-complete"})}function ia({nsamples:s,course:r,racedef:o,uma1:p,uma2:f,pacer:c,options:l}){let g=new Ye(p).set("skills",(0,zt.fromJS)(p.skills)).set("forcedSkillPositions",(0,ct.Map)(p.forcedSkillPositions||{})),b=new Ye(f).set("skills",(0,zt.fromJS)(f.skills)).set("forcedSkillPositions",(0,ct.Map)(f.forcedSkillPositions||{})),I=c?new Ye(c).set("skills",(0,zt.fromJS)(c.skills||[])).set("forcedSkillPositions",(0,ct.Map)(c.forcedSkillPositions||{})):null,S={...l,mode:"compare"},M;for(let R=Math.min(20,s),N=6;R<s;R=Math.min(R*N,s),N=Math.max(N-1,2))M=Ir(R,r,o,g,b,I,S),postMessage({type:"compare",results:M});M=Ir(s,r,o,g,b,I,S),postMessage({type:"compare",results:M}),postMessage({type:"compare-complete"})}function na({skillId:s,nsamples:r,course:o,racedef:p,uma:f,pacer:c,options:l}){let g=new Ye(f).set("skills",SkillSet(f.skills)).set("forcedSkillPositions",(0,ct.Map)(f.forcedSkillPositions||{})),b=c?new Ye(c).set("skills",SkillSet(c.skills||[])).set("forcedSkillPositions",(0,ct.Map)(c.forcedSkillPositions||{})):null,I=He(s)?.groupId,S=g.skills;I&&(S=S.filter(P=>He(P)?.groupId!==I));let M=g.set("skills",S.add(s)),{results:R,runData:N}=Ir(r,o,p,g,M,b,l),q=Math.floor(R.length/2),Q=R.length%2==0?(R[q-1]+R[q])/2:R[q],ce=R.reduce((P,O)=>P+O,0)/R.length,E={id:s,results:R,runData:N,min:R[0],max:R[R.length-1],mean:ce,median:Q};postMessage({type:"additional-samples",skillId:s,result:E})}self.addEventListener("message",function(s){let{msg:r,data:o}=s.data;switch(r){case"chart":ra(o);break;case"compare":ia(o);break;case"additional-samples":na(o);break}});})();
/*! Bundled license information:

immutable/dist/immutable.js:
  (**
   * @license
   * MIT License
   * 
   * Copyright (c) 2014-present, Lee Byron and other contributors.
   * 
   * Permission is hereby granted, free of charge, to any person obtaining a copy
   * of this software and associated documentation files (the "Software"), to deal
   * in the Software without restriction, including without limitation the rights
   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the Software is
   * furnished to do so, subject to the following conditions:
   * 
   * The above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   * SOFTWARE.
   *)
*/
